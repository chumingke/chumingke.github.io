<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>chumingke-二师兄</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://chumingke.github.io/"/>
  <updated>2017-10-10T15:37:52.000Z</updated>
  <id>https://chumingke.github.io/</id>
  
  <author>
    <name>chumingke</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Tableau practical combat notes</title>
    <link href="https://chumingke.github.io//blog/2017/10/Tableau-practical-combat-notes.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Tableau-practical-combat-notes.html</id>
    <published>2017-10-10T15:35:34.000Z</published>
    <updated>2017-10-10T15:37:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>tableau应用实战之人人都是数据分析师</p><h1 id="tableau入门"><a href="#tableau入门" class="headerlink" title="tableau入门"></a>tableau入门</h1><h2 id="敏捷商务智能"><a href="#敏捷商务智能" class="headerlink" title="敏捷商务智能"></a>敏捷商务智能</h2><p>与传统BI相比灵活、实时</p><h2 id="数据可视化明星tableau"><a href="#数据可视化明星tableau" class="headerlink" title="数据可视化明星tableau"></a>数据可视化明星tableau</h2><p>定位：数据可视化敏捷开发和实现的商务智能展现工具<br>核心技术：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">独创的VizQl数据库</div><div class="line">用户体验良好且易用的表现形式</div></pre></td></tr></table></figure></p><h2 id="tableau主要特性"><a href="#tableau主要特性" class="headerlink" title="tableau主要特性"></a>tableau主要特性</h2><p>1.极速高效<br>2.简单易用<br>3.多种数据源<br>4.高效接口集成<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">数据提取<span class="string">API:</span>c,c++,java,python,.tde文件</div><div class="line">javascript <span class="string">API:</span>镶嵌</div><div class="line">与数据分析工具R/python的集成接口</div></pre></td></tr></table></figure></p><h2 id="tableau产品体系"><a href="#tableau产品体系" class="headerlink" title="tableau产品体系"></a>tableau产品体系</h2><p>tableau desktop<br>tableau server<br>tableau online<br>tableau mobile<br>tableau public<br>tableau reader</p><h2 id="tableau的工作区"><a href="#tableau的工作区" class="headerlink" title="tableau的工作区"></a>tableau的工作区</h2><h3 id="工作表work-sheet-视图visualization"><a href="#工作表work-sheet-视图visualization" class="headerlink" title="工作表work sheet/视图visualization"></a>工作表work sheet/视图visualization</h3><h4 id="数据窗口"><a href="#数据窗口" class="headerlink" title="数据窗口"></a>数据窗口</h4><p>数据源窗口<br>维度窗口<br>度量窗口<br>集窗口<br>参数窗口</p><h4 id="分析窗口"><a href="#分析窗口" class="headerlink" title="分析窗口"></a>分析窗口</h4><h5 id="汇总"><a href="#汇总" class="headerlink" title="汇总"></a>汇总</h5><p>参考线、参考区间<br>参考线、参考区间<br>平均线<br>四分位点中值<br>盒须图<br>合计</p><h5 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h5><p>95%CI的平均值<br>趋势线<br>预测</p><h5 id="自定义"><a href="#自定义" class="headerlink" title="自定义"></a>自定义</h5><p>参考线、参考区间<br>分布区间<br>盒须图等</p><h4 id="页面卡"><a href="#页面卡" class="headerlink" title="页面卡"></a>页面卡</h4><p>基于维度度量拆分视图</p><h4 id="筛选器卡"><a href="#筛选器卡" class="headerlink" title="筛选器卡"></a>筛选器卡</h4><h4 id="标记卡"><a href="#标记卡" class="headerlink" title="标记卡"></a>标记卡</h4><p>属性</p><h4 id="颜色图例"><a href="#颜色图例" class="headerlink" title="颜色图例"></a>颜色图例</h4><h4 id="行功能区-列功能区"><a href="#行功能区-列功能区" class="headerlink" title="行功能区\列功能区"></a>行功能区\列功能区</h4><h4 id="工作表视图区"><a href="#工作表视图区" class="headerlink" title="工作表视图区"></a>工作表视图区</h4><h4 id="智能显示"><a href="#智能显示" class="headerlink" title="智能显示"></a>智能显示</h4><h4 id="标签栏"><a href="#标签栏" class="headerlink" title="标签栏"></a>标签栏</h4><h4 id="状态栏"><a href="#状态栏" class="headerlink" title="状态栏"></a>状态栏</h4><h3 id="仪表盘dashboard"><a href="#仪表盘dashboard" class="headerlink" title="仪表盘dashboard"></a>仪表盘dashboard</h3><p>1.仪表板窗口<br>2.仪表板对象窗口<br>3.平铺和浮动<br>4.布局窗口<br>树形结构显示<br>5.仪表板设置窗口<br>6.仪表板视图区</p><h3 id="故事story"><a href="#故事story" class="headerlink" title="故事story"></a>故事story</h3><p>仪表板和工作表窗口<br>说明<br>导航器设置<br>故事设置窗口<br>导航框<br>新空白点按钮<br>复制按钮<br>说明框<br>故事视图区</p><h3 id="工作簿workbook"><a href="#工作簿workbook" class="headerlink" title="工作簿workbook"></a>工作簿workbook</h3><h3 id="菜单栏和工具栏"><a href="#菜单栏和工具栏" class="headerlink" title="菜单栏和工具栏"></a>菜单栏和工具栏</h3><h2 id="tableau的文件管理"><a href="#tableau的文件管理" class="headerlink" title="tableau的文件管理"></a>tableau的文件管理</h2><h3 id="tableau工作簿-twb"><a href="#tableau工作簿-twb" class="headerlink" title="tableau工作簿(.twb)"></a>tableau工作簿(.twb)</h3><p>1.使用场景<br>tableau缺省保存工作的方式<br>2.内容<br>可视化内容，无源数据</p><h3 id="tableau打包工作簿-twbx"><a href="#tableau打包工作簿-twbx" class="headerlink" title="tableau打包工作簿(.twbx)"></a>tableau打包工作簿(.twbx)</h3><p>1.使用场景<br>与无法访问数据源的用户分享工作<br>2.内容<br>创建工作簿的所有信息和资源</p><h3 id="tableau数据源-tds"><a href="#tableau数据源-tds" class="headerlink" title="tableau数据源(.tds)"></a>tableau数据源(.tds)</h3><p>1.使用场景<br>频繁使用的数据源<br>2.内容<br>包含新建数据源所需的信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">数据源类型</div><div class="line">数据源连接信息</div><div class="line">数据源上的字段属性</div><div class="line">数据源上创建的组、集和计算字段</div></pre></td></tr></table></figure></p><h3 id="tableau数据源-tdsx"><a href="#tableau数据源-tdsx" class="headerlink" title="tableau数据源(.tdsx)"></a>tableau数据源(.tdsx)</h3><p>1.使用场景<br>频繁使用的数据源<br>2.内容<br>包含数据源(.tds)文件中的所有信息<br>以及任何本地文件数据源(Excel、Access、文本和数据提取)</p><h3 id="tableau书签-tbm"><a href="#tableau书签-tbm" class="headerlink" title="tableau书签(.tbm)"></a>tableau书签(.tbm)</h3><p>1.使用场景<br>工作簿间分享工作表时使用<br>2.内容<br>如果原始工作簿就是一个打包工作簿<br>创建的书签就包含可视化的内容和书签</p><h3 id="tableau数据提取-tde"><a href="#tableau数据提取-tde" class="headerlink" title="tableau数据提取(.tde)"></a>tableau数据提取(.tde)</h3><p>1.使用场景<br>提高数据库性能<br>2.内容<br>部门或整个数据源的一个本地副本</p><h1 id="典型应用场景"><a href="#典型应用场景" class="headerlink" title="典型应用场景"></a>典型应用场景</h1><h2 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h2><p>统计周期<br>类别变量</p><h2 id="认识tableau数据"><a href="#认识tableau数据" class="headerlink" title="认识tableau数据"></a>认识tableau数据</h2><h3 id="数据角色"><a href="#数据角色" class="headerlink" title="数据角色"></a>数据角色</h3><h4 id="维度和度量"><a href="#维度和度量" class="headerlink" title="维度和度量"></a>维度和度量</h4><p>1.维度<br>定性，不计算，蓝色。<br>2.度量<br>定量，默认聚合运算，绿色。</p><h4 id="离散和连续"><a href="#离散和连续" class="headerlink" title="离散和连续"></a>离散和连续</h4><p>1.离散<br>蓝色，在行列功能区时在视图中显示为标题<br>2.连续<br>绿色，在行列功能区时在视图中显示为轴</p><h3 id="字段类型"><a href="#字段类型" class="headerlink" title="字段类型"></a>字段类型</h3><h4 id="维度"><a href="#维度" class="headerlink" title="维度"></a>维度</h4><p>1.文本<br>2.日期<br>3.日期和时间<br>4.地理值：北京、四川<br>5.布尔值</p><h4 id="度量"><a href="#度量" class="headerlink" title="度量"></a>度量</h4><p>1.数字<br>2.地理编码：经纬度</p><h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>在标志前加个等号，表示该字段不是来自原始数据，为tableau中自定义。</p><p>每次新建数据源都会出现：<br>1.记录数：自动给每行观测值赋值为1，用于计数。<br>2.度量名称<br>3.度量值</p><h3 id="字段类型转换"><a href="#字段类型转换" class="headerlink" title="字段类型转换"></a>字段类型转换</h3><h2 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h2><h3 id="行列功能区"><a href="#行列功能区" class="headerlink" title="行列功能区"></a>行列功能区</h3><p>度量字段进行聚合计算，缺省为总计。<br>1.总计<br>2.平均值，对行数的平均<br>3.中位数<br>4.最大值<br>5.计数<br>6.等</p><h3 id="标记卡-1"><a href="#标记卡-1" class="headerlink" title="标记卡"></a>标记卡</h3><p>1.标记类型<br>缺省为条形图<br>2.大小<br>3.标签<br>快速表计算<br>4.详细信息<br>依据拖放的字段对视图进行分解细化<br>5.工具提示<br>鼠标悬停出现的提示信息<br>6.特殊按钮在选择了对应的标记类型时显示</p><h3 id="筛选器"><a href="#筛选器" class="headerlink" title="筛选器"></a>筛选器</h3><p>1.显示快速筛选器<br>应用于多个表<br>筛选器的表现形式<br>2.通配符<br>3.条件<br>4.顶部<br>某类别前几的</p><h3 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h3><p>播放器</p><h3 id="智能显示-1"><a href="#智能显示-1" class="headerlink" title="智能显示"></a>智能显示</h3><h3 id="度量名称和度量值"><a href="#度量名称和度量值" class="headerlink" title="度量名称和度量值"></a>度量名称和度量值</h3><h2 id="创建仪表板"><a href="#创建仪表板" class="headerlink" title="创建仪表板"></a>创建仪表板</h2><h2 id="保存工作成果"><a href="#保存工作成果" class="headerlink" title="保存工作成果"></a>保存工作成果</h2><h1 id="数据连接与管理"><a href="#数据连接与管理" class="headerlink" title="数据连接与管理"></a>数据连接与管理</h1><h2 id="tableau的数据架构"><a href="#tableau的数据架构" class="headerlink" title="tableau的数据架构"></a>tableau的数据架构</h2><h3 id="传统BI"><a href="#传统BI" class="headerlink" title="传统BI"></a>传统BI</h3><p>完整企业级的元数据体系，不进行元数据管理</p><h3 id="tableau"><a href="#tableau" class="headerlink" title="tableau"></a>tableau</h3><h4 id="数据连接层（Connection）"><a href="#数据连接层（Connection）" class="headerlink" title="数据连接层（Connection）"></a>数据连接层（Connection）</h4><p>1.数据连接信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">数据库</div><div class="line">数据表</div><div class="line">数据视图</div><div class="line">数据列</div><div class="line">表连接</div><div class="line">SQL脚本</div></pre></td></tr></table></figure></p><p>2.数据连接层不保存任何源数据</p><h4 id="数据模型层（Data-Model）"><a href="#数据模型层（Data-Model）" class="headerlink" title="数据模型层（Data Model）"></a>数据模型层（Data Model）</h4><p>管理字段的数据类型、角色、默认值、别名等<br>数据立方体的概念</p><h4 id="数据可视化层（VizQL）"><a href="#数据可视化层（VizQL）" class="headerlink" title="数据可视化层（VizQL）"></a>数据可视化层（VizQL）</h4><p>核心技术</p><h2 id="数据连接"><a href="#数据连接" class="headerlink" title="数据连接"></a>数据连接</h2><h3 id="连接文件数据源"><a href="#连接文件数据源" class="headerlink" title="连接文件数据源"></a>连接文件数据源</h3><p>1.连接到电子表格<br>保存数据连接<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">数据-<span class="tag">&lt;<span class="name">数据源名称</span>&gt;</span>-添加到已保存的数据源</div></pre></td></tr></table></figure></p><p>2.连接到Access文件<br>新自定义SQL<br>使用SQL语句<br>3.连接到Tableau工作簿<br>其他文件</p><h3 id="连接服务器数据源"><a href="#连接服务器数据源" class="headerlink" title="连接服务器数据源"></a>连接服务器数据源</h3><p>1.连接到Oracle数据库<br>2.连接到ODBC<br>3.连接到Cloudera Hadoop</p><h3 id="复制粘贴输入数据"><a href="#复制粘贴输入数据" class="headerlink" title="复制粘贴输入数据"></a>复制粘贴输入数据</h3><h3 id="筛选数据"><a href="#筛选数据" class="headerlink" title="筛选数据"></a>筛选数据</h3><p>数据源筛选器</p><h2 id="数据整合"><a href="#数据整合" class="headerlink" title="数据整合"></a>数据整合</h2><h3 id="实现多表联结"><a href="#实现多表联结" class="headerlink" title="实现多表联结"></a>实现多表联结</h3><p>1.内联接<br>只列出与联接条件匹配的数据行<br>2.左联接<br>不仅包含查询结果集合中符合联接条件的行，而且还包括左表的所有数据行<br>3.右联接<br>不仅包含查询结果集合中符合联接条件的行，而且还包括右表的所有数据行<br>4.完全外部联接<br>包含查询结果集合中的包含左、右表的所有数据行</p><h3 id="多数据源的数据融合"><a href="#多数据源的数据融合" class="headerlink" title="多数据源的数据融合"></a>多数据源的数据融合</h3><p>1.多维数据源（多维数据集）不能用作从数据源，只能用作主数据源<br>2.修改数据源关联关系<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">数据-编辑关系-自定义</div><div class="line">激活/未激活点击切换</div></pre></td></tr></table></figure></p><h3 id="行列转换"><a href="#行列转换" class="headerlink" title="行列转换"></a>行列转换</h3><p>数据透视表</p><h2 id="数据加载"><a href="#数据加载" class="headerlink" title="数据加载"></a>数据加载</h2><h3 id="创建数据提取"><a href="#创建数据提取" class="headerlink" title="创建数据提取"></a>创建数据提取</h3><p>1.对数据源进行“提取数据”操作<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">数据-<span class="tag">&lt;<span class="name">数据源名称</span>&gt;</span>-提取数据</div><div class="line">数据-<span class="tag">&lt;<span class="name">数据源名称</span>&gt;</span>-编辑数据源-提取-编辑</div><div class="line">筛选器、聚合、行数</div><div class="line">隐藏所有未使用的字段</div></pre></td></tr></table></figure></p><p>2.首次新建数据源时选择“提取”方式<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">实时-提取</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#将数据以“.tde”格式保存</span></span></div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#在使用数据提取和使用整个数据源之间进行切换</span></span></div><div class="line">数据-&lt;数据源名称&gt;-使用数据提取</div></pre></td></tr></table></figure></p><p>3.使用数据提取的好处是通过创建一个包含样本数据的数据提取，减少数据量<br>4.移除数据提取<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">数据-&lt;数据源名称&gt;-数据提取-移除</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#仅从工作簿删除数据提取</span></span></div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#删除数据提取文件</span></span></div></pre></td></tr></table></figure></p><h3 id="刷新数据提取"><a href="#刷新数据提取" class="headerlink" title="刷新数据提取"></a>刷新数据提取</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">数据-<span class="tag">&lt;<span class="name">数据源名称</span>&gt;</span>-刷新</div></pre></td></tr></table></figure><p>1.完全数据提取<br>将所有数据替换为基础数据源中的数据<br>2.增量数据提取<br>仅添加自上次提取数据以来新增的行<br>3.改变数据源的提取方式<br>数据-&lt;数据源名称&gt;-提取数据</p><h3 id="向数据提取添加行"><a href="#向数据提取添加行" class="headerlink" title="向数据提取添加行"></a>向数据提取添加行</h3><h4 id="从文件添加数据"><a href="#从文件添加数据" class="headerlink" title="从文件添加数据"></a>从文件添加数据</h4><p>1.文件类型相同<br>从文件数据源向数据提取文件添加新数据<br>2.数据提取文件(.tde)<br>数据-&lt;数据源名称&gt;-数据提取-从文件添加数据</p><h4 id="从数据源添加数据"><a href="#从数据源添加数据" class="headerlink" title="从数据源添加数据"></a>从数据源添加数据</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">数据-<span class="tag">&lt;<span class="name">数据源名称</span>&gt;</span>-数据提取-从数据源添加数据</div></pre></td></tr></table></figure><h3 id="优化数据提取"><a href="#优化数据提取" class="headerlink" title="优化数据提取"></a>优化数据提取</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">数据-<span class="tag">&lt;<span class="name">数据源名称</span>&gt;</span>-数据提取-优化</div></pre></td></tr></table></figure><p>1.计算字段的预处理<br>点击优化后，完成预处理并储存在数据提取文件中，后续不必再次计算<br>部分函数无法实现<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">外部函数R等</div><div class="line">表计算函数</div><div class="line"><span class="built_in">NOW</span>（）和<span class="built_in">TODAY</span>（）等</div></pre></td></tr></table></figure></p><p>2.加速视图<br>缓存筛选器</p><h2 id="数据维护"><a href="#数据维护" class="headerlink" title="数据维护"></a>数据维护</h2><h3 id="查看数据"><a href="#查看数据" class="headerlink" title="查看数据"></a>查看数据</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">数据-<span class="tag">&lt;<span class="name">数据源名称</span>&gt;</span>-查看数据</div></pre></td></tr></table></figure><h3 id="刷新数据"><a href="#刷新数据" class="headerlink" title="刷新数据"></a>刷新数据</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">数据-<span class="tag">&lt;<span class="name">数据源名称</span>&gt;</span>-刷新</div></pre></td></tr></table></figure><h3 id="替换数据"><a href="#替换数据" class="headerlink" title="替换数据"></a>替换数据</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">数据-替换数据源</div></pre></td></tr></table></figure><h3 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">数据-<span class="tag">&lt;<span class="name">数据源名称</span>&gt;</span>-关闭</div></pre></td></tr></table></figure><h1 id="初级可视化分析"><a href="#初级可视化分析" class="headerlink" title="初级可视化分析"></a>初级可视化分析</h1><h2 id="条形图"><a href="#条形图" class="headerlink" title="条形图"></a>条形图</h2><p>堆积条形图</p><h2 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h2><p>1.创建数据桶<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">右键创建-数据桶-编辑级</div><div class="line">数据桶大小<span class="string">\组距</span></div><div class="line">加载-值范围</div></pre></td></tr></table></figure></p><p>2.记录数<br>3.每个标签代表的是该级所分配的数字范围的下限（含下限）<br>容易误导，编辑别名，20改为20~30。<br>4.自动创建<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">选择度量-智能显示-选择直方图</div></pre></td></tr></table></figure></p><p>5.高级应用<br>重新分级<br>创建自定义字段<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>-<span class="keyword">then</span>-<span class="keyword">elseif</span> <span class="keyword">and</span>-<span class="keyword">then</span>-<span class="keyword">end</span></div></pre></td></tr></table></figure></p><h2 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h2><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>1.分块越少越好，不多于4块<br>2.确保各分块占比总计为100%<br>3.避免各分块中使用过多标签</p><h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><p>1.分组<br>2.筛选统计周期<br>3.将分组拖至颜色标记卡<br>4.设置标记类型为饼图<br>5.将度量值拖至角度标价卡<br>6.将分组及度量值拖至标签标记卡，并对度量值设置快速表计算-总额百分比</p><h2 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h2><h3 id="基本折线图"><a href="#基本折线图" class="headerlink" title="基本折线图"></a>基本折线图</h3><p>1.颜色标记卡的效果标记<br>2.自定义效果标记<br>3.双轴<br>4.将折线图与形状图同步轴</p><h3 id="双组合图-双轴折线图"><a href="#双组合图-双轴折线图" class="headerlink" title="双组合图/双轴折线图"></a>双组合图/双轴折线图</h3><p>1.做好趋势图后<br>2.直接将第二个度量拖至视图右侧，比如数量用条形图，比率用折线图<br>3.参考线<br>4.添加标签<br>5.适用，所有包含度量，比率，参考线的图形</p><h2 id="基本表-文本表-交叉表"><a href="#基本表-文本表-交叉表" class="headerlink" title="基本表/文本表/交叉表"></a>基本表/文本表/交叉表</h2><p>1.将要交叉的维度分别拖至行列功能区<br>2.将度量拖至文本标记卡<br>3.添加列总计，菜单栏-分析-合计-列总计</p><h2 id="压力图-热图-热力图"><a href="#压力图-热图-热力图" class="headerlink" title="压力图/热图/热力图"></a>压力图/热图/热力图</h2><h3 id="压力图"><a href="#压力图" class="headerlink" title="压力图"></a>压力图</h3><p>1.数据准备<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">连接数据源</div><div class="line">创建计算字段:售电量当期值，利润总额当期值。</div><div class="line">售电量当期值:</div><div class="line"><span class="keyword">case</span>[指标名称]-<span class="keyword">when</span> <span class="string">"销售量"</span><span class="keyword">then</span>[当期值]-<span class="keyword">else</span> <span class="number">0</span>-<span class="keyword">end</span></div><div class="line">利润总额当期值：</div><div class="line"><span class="keyword">case</span>[指标名称]-<span class="keyword">when</span> <span class="string">"利润总额"</span><span class="keyword">then</span>[当期值]-<span class="keyword">else</span> <span class="number">0</span>-<span class="keyword">end</span></div></pre></td></tr></table></figure></p><p>2.将维度 省市 拖至行<br>3.售电量当期值拖至 大小 标记卡<br>4.利润总额当期值拖至 颜色 标记卡</p><h3 id="突显表"><a href="#突显表" class="headerlink" title="突显表"></a>突显表</h3><p>1.基本表的变形<br>2.维度 省市 拖至行功能区<br>3.利润总额当期值拖至 文本、颜色标记卡，标记类型为方形<br>4.高级应用<br>根据需要自定义颜色，例如利润为负显示为红色<br>将利润总额当期值 拖至 文本、颜色<br>单击 颜色图例 右上角下拉按钮-编辑颜色-自定义发散-两端为红黑-渐变颜色设定为2-高级-设定中心为0</p><blockquote><p>均可帮助发现异常数据，并对异常数据进行下钻，从而查看引起异常的原因</p><h2 id="树地图-树形图-嵌套矩形"><a href="#树地图-树形图-嵌套矩形" class="headerlink" title="树地图/树形图/嵌套矩形"></a>树地图/树形图/嵌套矩形</h2><p>也是一种突出显示异常数据点或重要数据的方法<br>1.将 省市 拖放至标签<br>2.售电量当期值拖放至 大小 ，图形大小代表售电量当期值大小<br>3.利润总额当期值拖放至 颜色，颜色深浅表示大小</p><h2 id="气泡图"><a href="#气泡图" class="headerlink" title="气泡图"></a>气泡图</h2><p>具有视觉吸引力，直观展示数据<br>拖至大小，标记类型改为圆<br>文字云<br>将标记由 圆 改为 文本<br>直观性可能更差一点</p><h2 id="圆视图"><a href="#圆视图" class="headerlink" title="圆视图"></a>圆视图</h2><p>气泡图的变形<br>通过给气泡图增加维度<br>依据度量的大小对其有序排列<br>发现每一类别中的异常点</p><h2 id="标靶图-子弹图"><a href="#标靶图-子弹图" class="headerlink" title="标靶图/子弹图"></a>标靶图/子弹图</h2><p>通过添加参考线和参考区间，直观的了解两度量间关系<br>制作好条形图<br>将计划值放到标记卡上<br>右键横轴-添加参考线<br>添加参考区间</p><h2 id="甘特图-横道图"><a href="#甘特图-横道图" class="headerlink" title="甘特图/横道图"></a>甘特图/横道图</h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>1.以图示的方式通过活动列表和时间刻度形象地表示出任何特定项目的活动顺序或项目的持续时间<br>2.可用来比较与日期相关的不同项目的持续时间长短<br>3.也常用于显示不同任务之间的依赖关系，普遍用于项目管理中</p><h3 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h3><p>横轴表示时间<br>纵轴表示项目<br>线条表示整个期间上该活动或项目的持续时间</p><h3 id="步骤-1"><a href="#步骤-1" class="headerlink" title="步骤"></a>步骤</h3><p>1.计算字段 延期天数<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">datediff(<span class="string">'day'</span>,[计划交货日期],[实际交货日期]）</div></pre></td></tr></table></figure></p></blockquote><p>2.维度放置行功能区<br>3.计划交货日期拖至列功能区<br>4.将 延期天数 拖至 大小 标记卡<br>5.将 延期天数 拖至 颜色标记卡上，编辑2阶颜色</p><h1 id="地图分析"><a href="#地图分析" class="headerlink" title="地图分析"></a>地图分析</h1><h2 id="地图简介"><a href="#地图简介" class="headerlink" title="地图简介"></a>地图简介</h2><h3 id="地图类型"><a href="#地图类型" class="headerlink" title="地图类型"></a>地图类型</h3><p>符号地图<br>填充地图<br>多维度地图<br>混合地图等</p><h3 id="分配地理角色"><a href="#分配地理角色" class="headerlink" title="分配地理角色"></a>分配地理角色</h3><p>1.国家/地区<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">名称</div><div class="line">FIPS <span class="number">10</span></div><div class="line"><span class="number">2</span>字符（ISO <span class="number">3166</span><span class="number">-1</span>）</div><div class="line"><span class="number">3</span>字符（ISO <span class="number">3166</span><span class="number">-1</span>）</div></pre></td></tr></table></figure></p><p>2.省/市/自治区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">名称</div><div class="line">拼音</div></pre></td></tr></table></figure></p><p>3.城市<br>人口超过一万<br>4.地理角色自动与经纬度关联</p><h3 id="创建符号地图"><a href="#创建符号地图" class="headerlink" title="创建符号地图"></a>创建符号地图</h3><h4 id="创建符号地图-1"><a href="#创建符号地图-1" class="headerlink" title="创建符号地图"></a>创建符号地图</h4><p>以地图为背景在对应地理位置上展示信息<br>方式一<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">双击省市字段</div><div class="line">菜单栏-地图-背景地图-tableau</div></pre></td></tr></table></figure></p><p>方式二<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">按住Ctrl，选中维度窗口的 省市，度量窗口的 当期值，单击智能显示-符号地图</div></pre></td></tr></table></figure></p><p>还可以将圆形改为饼图，把类别放在颜色标记卡上<br>查看地市级别信息:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">双击维度窗口的 地市</div><div class="line">拖动 地市 到详细信息标记卡</div></pre></td></tr></table></figure></p><h4 id="编辑地理位置"><a href="#编辑地理位置" class="headerlink" title="编辑地理位置"></a>编辑地理位置</h4><p>1.编辑地理库中不包含的地理位置信息<br>2.单击右下角的未知信息 3未知 -弹出 【省市】的特殊值-编辑位置<br>3.菜单栏-地图-编辑位置<br>4.对于无法识别的数据<br>可在匹配位置中选择一个匹配项<br>下拉列表-输入经纬度<br>5.导入自定义地理编码<br>6.先定义好上级地理角色，再设置下级地理角色</p><h4 id="设置地图格式"><a href="#设置地图格式" class="headerlink" title="设置地图格式"></a>设置地图格式</h4><p>地图-地图选项<br>1.后台<br>样式，不同的地图显示风格<br>2.地图层<br>基本<br>土地覆盖<br>国家名称等<br>3.数据层<br>美国人口普查等<br>4.说明<br>重复背景:可多次显示相同区域<br>设置为默认值:<br>将设置好的地图格式设置为默认值<br>在本tableau中创建的地图均采用本次设置</p><h3 id="创建填充地图"><a href="#创建填充地图" class="headerlink" title="创建填充地图"></a>创建填充地图</h3><p>1.生成符号地图后<br>拖放度量 当期值 到 颜色 标记卡<br>2.按住Ctrl，选中 省市、档期值<br>智能显示-填充地图<br>3.生成符号地图后<br>标记卡的图形选项中选择 已填充地图或智能显示<br>4.对于不能识别的位置,<br>参考多边形地图<br>5.只能识别到省市自治区，不能打城市一级</p><h3 id="创建多维度地图"><a href="#创建多维度地图" class="headerlink" title="创建多维度地图"></a>创建多维度地图</h3><p>对不同维度的信息用多个地图展示<br>分统计周期、分类别展示</p><h3 id="创建混合地图"><a href="#创建混合地图" class="headerlink" title="创建混合地图"></a>创建混合地图</h3><p>将符号地图与填充地图重叠</p><h2 id="设置地理信息"><a href="#设置地理信息" class="headerlink" title="设置地理信息"></a>设置地理信息</h2><h3 id="选择地图源"><a href="#选择地图源" class="headerlink" title="选择地图源"></a>选择地图源</h3><h4 id="联机地图"><a href="#联机地图" class="headerlink" title="联机地图"></a>联机地图</h4><p>Tableau联机地图源：OpenStreetMap<br>可将某地图源指定为Tableau默认地图源：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">选择地图源后 地图-背景地图-设置为默认值</div></pre></td></tr></table></figure></p><h4 id="地图存储和脱机工作"><a href="#地图存储和脱机工作" class="headerlink" title="地图存储和脱机工作"></a>地图存储和脱机工作</h4><p>地图缓存在IE的临时文件中<br>脱机使用的是缓存文件</p><h4 id="WSM服务器"><a href="#WSM服务器" class="headerlink" title="WSM服务器"></a>WSM服务器</h4><p>1.添加URL<br>地图源随工作簿一起保存<br>2.导出WMS服务器<br>另存为(.tms)文件，选择服务器-导出<br>3.导入地图源<br>地图-背景地图-WMS服务器（W）…-导入-打开</p><h3 id="自定义地理编码"><a href="#自定义地理编码" class="headerlink" title="自定义地理编码"></a>自定义地理编码</h3><h4 id="准备自定义地理编码文件"><a href="#准备自定义地理编码文件" class="headerlink" title="准备自定义地理编码文件"></a>准备自定义地理编码文件</h4><p>1.(.csv)<br>2.扩展现有角色，与标准数据结构保持一致。<br>3.添加新角色<br>导入文件包含现有分层结构中的每级地理角色<br>国家-省市自治区-城市-变电站-经度-纬度<br>4.添加分层结构<br>创建多个导入文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">每个文件表示新分层结构中的一个级别</div><div class="line">确保每个文件都包含当前级别和其上面的所有级别的列</div><div class="line">将每个导入文件保存到一个文件夹中，并使用文件所表示的级别来命名每个文件</div></pre></td></tr></table></figure></p><p>自定义地理分层文件<br>5.说明：经纬度必须是实数不能是整数——确保包含至少一位小数</p><h4 id="导入自定义地理编码文件"><a href="#导入自定义地理编码文件" class="headerlink" title="导入自定义地理编码文件"></a>导入自定义地理编码文件</h4><p>地图-地理编码-导入自定义地理编码-输入路径-导入</p><h4 id="管理自定义地理编码文件"><a href="#管理自定义地理编码文件" class="headerlink" title="管理自定义地理编码文件"></a>管理自定义地理编码文件</h4><p>1.刷新<br>地图-地理编码-刷新打包的地理编码（s）<br>2.打包<br>打包工作簿时，自定义地理编码数据会一起打包<br>3.移除<br>地图-地理编码-移除自定义地理编码</p><h2 id="高级功能"><a href="#高级功能" class="headerlink" title="高级功能"></a>高级功能</h2><h3 id="多边形地图"><a href="#多边形地图" class="headerlink" title="多边形地图"></a>多边形地图</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>对填充地图的一种补充</p><h4 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h4><p>1.准备地理信息数据文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">区域边界个点的经纬度</div><div class="line">绘制顺序</div></pre></td></tr></table></figure></p><p>2.创建视图<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">双击经纬度，调出地图页面</div><div class="line"><span class="section">双击经纬度，调出地图页面:修改图形展示为 多边形</span></div><div class="line">拖放 顺序 到 路径 标记卡</div><div class="line">如果要关联数据，则应在开始建立关联，设置好地图后，拖放 度量当期值 到 颜色 标记卡 调整工具提示等设置</div></pre></td></tr></table></figure></p><h3 id="背景图像地图"><a href="#背景图像地图" class="headerlink" title="背景图像地图"></a>背景图像地图</h3><h4 id="导入背景图像"><a href="#导入背景图像" class="headerlink" title="导入背景图像"></a>导入背景图像</h4><p>1.查看要添加的图片的详细信息<br>宽度、高度<br>2.在源数据中新增两个字段-X、Y，并新增一行数据<br>X为图片宽度<br>Y为图片高度<br>3.将数据导入tableau-采用 实时 的联接方式<br>4.地图-背景图像-选择数据源-添加图像-浏览/键入URL-将X、Y字段映射到X、Y轴-设定最大值-建立坐标系-确定<br>5.将X、Y字段拖放到行列功能区<br>6.编辑<br>地图-背景图像-编辑<br>7.说明<br>支持多个背景图像,图像集<br>针对一组工作表使用一个图像集:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">背景图像对话框</div><div class="line">复选框</div><div class="line">启用/禁用</div></pre></td></tr></table></figure></p><h4 id="准备展示数据"><a href="#准备展示数据" class="headerlink" title="准备展示数据"></a>准备展示数据</h4><p>1.定位信息点坐标<br>选中某点-右键-添加注释-方式为 点 -确定<br>可拖动<br>2.根据坐标信息，在源数据中为每个供电所添加坐标信息X、Y</p><h4 id="构建视图"><a href="#构建视图" class="headerlink" title="构建视图"></a>构建视图</h4><p>1.准备好数据后，刷新数据<br>2.拖动 供电所 字段 到 详细信息 标记卡<br>按照常规穿件符号地图的方式创建地图</p><h3 id="地理位置距离计算"><a href="#地理位置距离计算" class="headerlink" title="地理位置距离计算"></a>地理位置距离计算</h3><p>1.修改源数据，使位置两两对应<br>例：三个变电站<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">复制变电站数据使每个变电站存在两行数据</div><div class="line">添加<span class="number">3</span>列数据-表<span class="number">1</span>变电站、表<span class="number">1</span>Lon、表<span class="number">1</span>Lat。要对应的变电站名称、经纬度</div></pre></td></tr></table></figure></p><p>2.导入源数据，创建计算字段-距离计算<br>公式<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">3959</span>*<span class="built_in">ACOS</span>(</div><div class="line"><span class="built_in">SIN</span>(<span class="built_in">RADIANS</span>([Latitude]))*<span class="built_in">SIN</span>(<span class="built_in">RADIANS</span>([表<span class="number">1</span>Lat])+<span class="built_in">cos</span>(<span class="built_in">RADIANS</span>([Latitude]))*<span class="built_in">cos</span>(<span class="built_in">RADIANS</span>([表<span class="number">1</span>Lat]))*<span class="built_in">cos</span>(<span class="built_in">RADIANS</span>([表<span class="number">1</span>Lon])-<span class="built_in">RADIANS</span>([Latitude]))</div><div class="line">)</div></pre></td></tr></table></figure></p><p>3.将 距离计算 拖到 颜色/大小 标记卡<br>右键标记卡中 距离计算 字段-选择维度<br>4.调整 颜色、大小 标记卡和标签设置</p><h1 id="高级数据操作"><a href="#高级数据操作" class="headerlink" title="高级数据操作"></a>高级数据操作</h1><h2 id="分层结构"><a href="#分层结构" class="headerlink" title="分层结构"></a>分层结构</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>默认内置的分层结构<br>多维数据源本身包含维度的分层结构<br>关系数据源需自定义分层结构<br>导航分层结构<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">上钻(drill <span class="meta">up</span>/roll <span class="meta">up</span>)</div><div class="line">下钻(drill <span class="meta">down</span>)</div></pre></td></tr></table></figure></p><h3 id="创建分层结构"><a href="#创建分层结构" class="headerlink" title="创建分层结构"></a>创建分层结构</h3><p>方式1：通过拖动方式创建名为 组织 的分层结构<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">将 部 放在 组 上-弹出窗口-键入名称 组织-确定</div><div class="line">字段的放置顺序会影响上下级关系</div><div class="line">当待分层字段出现在文件夹内部时，不能通过拖放创建分层结构</div></pre></td></tr></table></figure></p><p>方式2：通过右键菜单创建名为 组织 的分层结构<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">选中右键-创建分层结构</div></pre></td></tr></table></figure></p><h3 id="使用分层结构"><a href="#使用分层结构" class="headerlink" title="使用分层结构"></a>使用分层结构</h3><p>1.使用行列功能区字段进行钻取<br>加减号<br>2.使用视图中的标题进行钻取<br>右键单击视图标题<br>上钻下钻<br>鼠标在视图标题上悬停</p><h2 id="组"><a href="#组" class="headerlink" title="组"></a>组</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><p>1.组是维度成员或者度量的离散值的组合<br>2.分组可实现对维度成员的重新组合，以及度量值的按范围分类<br>3.组字段的图标为 别针<br>4.组不能用于计算,组不能出现在公式中<br>5.例如：13班与13班（15批新人）这两类其实都是13班，因此需要合并</p><h3 id="创建组"><a href="#创建组" class="headerlink" title="创建组"></a>创建组</h3><p>1.直接在视图中选择维度成员创建组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Ctrl单击选中维度成员</div><div class="line">在选中区域悬停选择 别针 创建新组/或者右键单击组</div><div class="line">取消：选择成员-菜单栏-取消分组</div></pre></td></tr></table></figure></p><p>2.通过右键菜单创建分组<br>关键字查找<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">包含</div><div class="line">开头为</div><div class="line">精确匹配</div></pre></td></tr></table></figure></p><h3 id="使用组"><a href="#使用组" class="headerlink" title="使用组"></a>使用组</h3><p>1.展示所有成员<br>默认<br>2.仅展示定义好的组成员<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">单击列功能区 班（组） 的下拉菜单</div><div class="line">选择 包括其他 选项——这样即把未定义分组的成员默认分组为 其他</div><div class="line">也可在维度窗口右键编辑组，勾选 包括其他</div></pre></td></tr></table></figure></p><h2 id="集"><a href="#集" class="headerlink" title="集"></a>集</h2><h3 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h3><p>集是根据某些条件定义数据子集的自定义字段，可以理解为维度的部分成员<br>集能够用于计算，参与计算字段的编辑</p><h4 id="集的分类"><a href="#集的分类" class="headerlink" title="集的分类"></a>集的分类</h4><p>1.常量集<br>静态集<br>不随数据动态变化<br>单个或多个维度<br>视图中直接选择对象创建集<br>2.计算集<br>动态集<br>跟随数据动态变化<br>单个维度<br>数据窗口右键单击维度创建集</p><h4 id="集的作用"><a href="#集的作用" class="headerlink" title="集的作用"></a>集的作用</h4><p>1.选取维度部分成员，主要用于筛选<br>2.主要有两个用处<br>集内外成员的对比分析:<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">集的一对特性内/外(<span class="keyword">in</span>/<span class="keyword">out</span>)</div><div class="line">可直接对集内/集外成员进行聚合对比分析</div></pre></td></tr></table></figure></p><p>集内成员的对比分析:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">当重点为对集内成员记性分析时,选择 在集内显示成员 </div><div class="line">此时集的作用就是筛选器</div></pre></td></tr></table></figure></p><h3 id="创建集"><a href="#创建集" class="headerlink" title="创建集"></a>创建集</h3><h4 id="创建常量集"><a href="#创建常量集" class="headerlink" title="创建常量集"></a>创建常量集</h4><p>1.创建基本视图后<br>2.选取要建集的成员，悬停右键创建集<br>3.例如：接听质量 由高到低的前10名员工,排序，选择创建</p><h4 id="创建计算集"><a href="#创建计算集" class="headerlink" title="创建计算集"></a>创建计算集</h4><p>1.梳理计算原理<br>2.右键 维度窗口 中要建集的字段-创建集-按需求设置<br>3.例如：出勤天数由高到低的前1000名员工<br>出勤次数就是总行数，右键工号创建集，选择按字段-顶部-1000-工号-计数</p><h4 id="创建合并集"><a href="#创建合并集" class="headerlink" title="创建合并集"></a>创建合并集</h4><p>1.集的合并要遵循相同维度<br>比如例子中的两个集都是以员工为维度进行筛选<br>2.集的合并三种方式<br>并集<br>交集<br>差集<br>例如：出勤天数1000名且平均接听质量前10的员工<br>数据窗口选择两个集-右键菜单创建合并集-选择交集</p><h3 id="使用集"><a href="#使用集" class="headerlink" title="使用集"></a>使用集</h3><p>1.集内外成员对比分析<br>2.各组内 勤劳员工 占比对比分析集内成员对比分析</p><h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><h3 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h3><p>1.参数是一种可用于交互的动态值<br>2.数据窗口底部显示参数，图标为 #<br>3.包括<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">集</div><div class="line">计算字段</div><div class="line">参考线及参考区间</div><div class="line">自定义SQL</div></pre></td></tr></table></figure></p><p>4.属于全局对象<br>可在任何表中单独使用<br>也可应用于多个工作表视图<br>筛选器</p><h3 id="创建参数"><a href="#创建参数" class="headerlink" title="创建参数"></a>创建参数</h3><h4 id="直接在数据窗口创建"><a href="#直接在数据窗口创建" class="headerlink" title="直接在数据窗口创建"></a>直接在数据窗口创建</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">右键单击作为参数基础的字段 服务评价满意率 -创建-参数</div></pre></td></tr></table></figure><h4 id="设置"><a href="#设置" class="headerlink" title="设置:"></a>设置:</h4><h5 id="参数名称"><a href="#参数名称" class="headerlink" title="参数名称"></a>参数名称</h5><h5 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h5><h5 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h5><p>1.数据类型<br>2.当前值:默认值<br>3.显示格式<br>4.允许的值:<br>全部：表示参数可以调整为任意值<br>列表：表示参数设置为列表内的值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">手动输入</div><div class="line">从字段添加</div><div class="line">从剪贴板粘贴</div></pre></td></tr></table></figure></p><p>5.范围<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">最小值</div><div class="line">最大值</div><div class="line">步长</div><div class="line">从参数设置</div><div class="line">从字段设置</div></pre></td></tr></table></figure></p><p>6.一般<br>作为参数基础的字段是维度时，允许的值表现为列表<br>作为参数基础的字段是度量时，允许的值表现为范围</p><h4 id="在使用计算集、计算字段、参考线及其他功能时创建"><a href="#在使用计算集、计算字段、参考线及其他功能时创建" class="headerlink" title="在使用计算集、计算字段、参考线及其他功能时创建"></a>在使用计算集、计算字段、参考线及其他功能时创建</h4><p>1.右键单击 出勤天数降序排名前1000名员工 计算集<br>2.在编辑集窗口修改集名为 出勤天数降序排名前N名员工<br>3.在顶部输入数值位置下拉菜单中-选择 创建参数<br>4.在编辑参数窗口中，允许的值选择为 范围 -设置为1~3000-步长为1-确定</p><h3 id="使用参数"><a href="#使用参数" class="headerlink" title="使用参数"></a>使用参数</h3><p>1.数据窗口右击参数 出勤天数降序TopN员工阈值-选择 显示参数控件<br>2.将集 出勤天数降序排名前N名员工 拖入筛选器<br>3.调整参数值，可动态观察不同排名的员工数量在南北中心的分布</p><h2 id="计算字段"><a href="#计算字段" class="headerlink" title="计算字段"></a>计算字段</h2><h3 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h3><p>使用函数和运算符构造公式来定义的字段</p><h3 id="创建计算字段"><a href="#创建计算字段" class="headerlink" title="创建计算字段"></a>创建计算字段</h3><h4 id="直接在数据窗口创建-1"><a href="#直接在数据窗口创建-1" class="headerlink" title="直接在数据窗口创建"></a>直接在数据窗口创建</h4><p>1.创建简单计算字段<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入公式-应用</div><div class="line">使用<span class="comment">//注释</span></div></pre></td></tr></table></figure></p><p>2.运用逻辑函数与参数创建<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>-<span class="keyword">then</span>-<span class="keyword">else</span>-<span class="keyword">end</span></div></pre></td></tr></table></figure></p><h4 id="在使用计算集、计算字段、参考线及其他时创建"><a href="#在使用计算集、计算字段、参考线及其他时创建" class="headerlink" title="在使用计算集、计算字段、参考线及其他时创建"></a>在使用计算集、计算字段、参考线及其他时创建</h4><h4 id="可在行列功能区直接输入计算公式"><a href="#可在行列功能区直接输入计算公式" class="headerlink" title="可在行列功能区直接输入计算公式"></a>可在行列功能区直接输入计算公式</h4><h3 id="使用计算字段"><a href="#使用计算字段" class="headerlink" title="使用计算字段"></a>使用计算字段</h3><p>例如<br>1.将 服务评价满意率 及 人工服务接听量 分别拖至行列功能区，标记类型为圆<br>2.由于默认是聚合状态，而此处要分析的是每人每天的业务情况，即每条业务的分布，所以取消菜单栏 分析 中的 聚合度量 选项，进行解聚<br>3.将 服务评价满意率分类 拖到颜色，并显示参数控件 服务评价满意率阈值<br>4.可以调整阈值来观察每个员工每天的 人工服务接听量 与 服务评价满意率 之间的关系和变化</p><h3 id="特殊函数：表计算"><a href="#特殊函数：表计算" class="headerlink" title="特殊函数：表计算"></a>特殊函数：表计算</h3><h4 id="概述-5"><a href="#概述-5" class="headerlink" title="概述"></a>概述</h4><ul><li>表计算是针对数据库中多行数据进行计算的方式</li><li>三角标记</li><li>表计算函数针对度量使用 分区 和 寻址 进行计算——依赖表结构本身</li><li>表计算函数需要明确计算对象和计算类型</li><li>必须使用聚合数据<h4 id="快速表计算"><a href="#快速表计算" class="headerlink" title="快速表计算"></a>快速表计算</h4>1.总计<br>2.差异<br>默认表计算的逻辑<br>沿着 表（横穿） 相对于 上一个 顺次计算差值<h4 id="寻址和分区"><a href="#寻址和分区" class="headerlink" title="寻址和分区"></a>寻址和分区</h4>1.寻址<br>对计算字段定义的维度字段，确定用于表计算的对象<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">按照不同对象</div><div class="line">上移、下移</div><div class="line">相对于表结构</div><div class="line">相对于特定字段</div></pre></td></tr></table></figure></li></ul><p>2.分区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">对计算对象进行分组的维度字段，确定计算时的分组方式</div><div class="line">排序是确定各个分区的计算对象的计算顺序</div></pre></td></tr></table></figure></p><h4 id="计算依据设置"><a href="#计算依据设置" class="headerlink" title="计算依据设置"></a>计算依据设置</h4><h5 id="表（横穿）及表（向下）"><a href="#表（横穿）及表（向下）" class="headerlink" title="表（横穿）及表（向下）"></a>表（横穿）及表（向下）</h5><p>1.横穿<br>对每个分区沿水平方向进行特定计算<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">将寻址设置为计算整个表</div><div class="line">并沿水平方向移动计算每个分区</div></pre></td></tr></table></figure></p><p>2.向下<br>对每个分区沿垂直方向进行特定计算</p><h5 id="表（横穿，然后向下）及表（向下，然后横穿）"><a href="#表（横穿，然后向下）及表（向下，然后横穿）" class="headerlink" title="表（横穿，然后向下）及表（向下，然后横穿）"></a>表（横穿，然后向下）及表（向下，然后横穿）</h5><p>1.横穿，然后向下<br>将寻址设置为先横向后竖向计算整个表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">横向竖向均为寻址字段</div><div class="line">无分区字段</div><div class="line">详见书</div></pre></td></tr></table></figure></p><p>2.向下，然后横穿</p><h5 id="区（向下）"><a href="#区（向下）" class="headerlink" title="区（向下）"></a>区（向下）</h5><p>对表中区向下进行计算<br>以差异计算为例</p><h5 id="其它计算方式"><a href="#其它计算方式" class="headerlink" title="其它计算方式"></a>其它计算方式</h5><p>1.单元格<br>所有的字段都是分区字段<br>计算总额百分比<br>2.单个字段<br>特定字段——绝对控制计算方式<br>对单个字段寻址意味着如果重新排列，计算不再与表结构匹配</p><h4 id="自定义表计算"><a href="#自定义表计算" class="headerlink" title="自定义表计算"></a>自定义表计算</h4><p>创建计算字段时使用表计算函数进行编辑<br>例如——创建参数 N日移动平均<br>1.数据类型为 整数<br>2.允许的值为 范围<br>最大值31，最小值1，步长为1<br>3.创建计算字段 移动平均<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">WINDOW_AVG(<span class="name">SUM</span>([人工服务接听量]),-[N日移动平均],<span class="number">0</span>)</div></pre></td></tr></table></figure></p><p>4.单击 默认表计算 设置<br>5.拖放 日期 和 人工服务接听量，生成双线图</p><h3 id="特殊函数：详细级别表达式"><a href="#特殊函数：详细级别表达式" class="headerlink" title="特殊函数：详细级别表达式"></a>特殊函数：详细级别表达式</h3><h4 id="include"><a href="#include" class="headerlink" title="include"></a>include</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">include</span> <span class="selector-attr">[员工]</span> <span class="selector-pseudo">:sum</span><span class="selector-attr">[人工服务接听量]</span></div></pre></td></tr></table></figure><p>将视图中没有的维度纳入视图<br>用于创建明细度高于可视化展示内容的计算字段</p><h4 id="exclude"><a href="#exclude" class="headerlink" title="exclude"></a>exclude</h4><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">exclude <span class="string">[中心]</span> sum<span class="string">[人工服务接听量]</span></div></pre></td></tr></table></figure><p>把视图中已有的 中心 维度排除<br>用于创建明晰化低于可视化展示内容的计算字段</p><h4 id="fixed"><a href="#fixed" class="headerlink" title="fixed"></a>fixed</h4><p>不受可视化明细度限制<br>用于创建指定明细程度的计算字段</p><h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><p>1.表计算<br>表计算完全由查询结果生成<br>以生成度量为结果<br>2.详细级别表达式<br>通常是作为针对基础数据源查询的一部分生成<br>能创建度量、聚合度量或维度</p><h3 id="特殊函数：百分比"><a href="#特殊函数：百分比" class="headerlink" title="特殊函数：百分比"></a>特殊函数：百分比</h3><p>1.计算百分比<br>默认分母的数据范围是整个表<br>自定义设置:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">分析-百分比</div></pre></td></tr></table></figure></p><p>2.百分比与聚合<br>容易忽略,百分比是基于度量的聚合值计算的。</p><h2 id="变换"><a href="#变换" class="headerlink" title="变换"></a>变换</h2><h3 id="变换日期型字段"><a href="#变换日期型字段" class="headerlink" title="变换日期型字段"></a>变换日期型字段</h3><p>右键单击维度窗口中 日期 字段-变化-创建自定义日期</p><h3 id="变换字符型字段"><a href="#变换字符型字段" class="headerlink" title="变换字符型字段"></a>变换字符型字段</h3><p>拆分:<br>右键字段-变化-拆分<br>自定义拆分</p><h2 id="参考线及参考区间"><a href="#参考线及参考区间" class="headerlink" title="参考线及参考区间"></a>参考线及参考区间</h2><p>参考线（Reference Line）<br>参考区间（Reference Band)<br>分布区间（Distribution Band)<br>盒须图（Box Plot)</p><h1 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;tableau应用实战之人人都是数据分析师&lt;/p&gt;
&lt;h1 id=&quot;tableau入门&quot;&gt;&lt;a href=&quot;#tableau入门&quot; class=&quot;headerlink&quot; title=&quot;tableau入门&quot;&gt;&lt;/a&gt;tableau入门&lt;/h1&gt;&lt;h2 id=&quot;敏捷商务智能&quot;&gt;
      
    
    </summary>
    
      <category term="tableau" scheme="https://chumingke.github.io/categories/tableau/"/>
    
    
      <category term="tableau" scheme="https://chumingke.github.io/tags/tableau/"/>
    
      <category term="visualization" scheme="https://chumingke.github.io/tags/visualization/"/>
    
  </entry>
  
  <entry>
    <title>关于数据分析的一些书籍推荐</title>
    <link href="https://chumingke.github.io//blog/2017/10/Book-related.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Book-related.html</id>
    <published>2017-10-09T06:07:02.000Z</published>
    <updated>2017-10-09T06:08:03.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="tableau"><a href="#tableau" class="headerlink" title="tableau"></a>tableau</h1><p>《人人都是数据分析师tableau应用实战》</p><h1 id="统计学"><a href="#统计学" class="headerlink" title="统计学"></a>统计学</h1><p>《商务经济统计学》<br>《概率论与数理统计》<br>《统计思维》<br>《统计学习方法》</p><h1 id="数据挖掘"><a href="#数据挖掘" class="headerlink" title="数据挖掘"></a>数据挖掘</h1><p>《数据挖掘导论》<br>《算法导论》<br>《数据挖掘》<br>《web数据挖掘》</p><h1 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h1><p>《深入浅出数据分析》<br>《数据分析：企业的贤内助》<br>《网站分析》<br>《实用数据分析》</p><h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><p>《深入浅出SQL》<br>《hadoop实战》<br>《学习数据库Mysql》</p><h1 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h1><p>《利用python进行数据分析》<br>《python学习手册》<br>《python科学计算》<br>《集体智慧编程》<br>《推荐系统实践》<br>《机器学习系统设计》<br>《R语言实战》<br>《机器学习：使用案例分析》<br>《python自然语言处理》</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;tableau&quot;&gt;&lt;a href=&quot;#tableau&quot; class=&quot;headerlink&quot; title=&quot;tableau&quot;&gt;&lt;/a&gt;tableau&lt;/h1&gt;&lt;p&gt;《人人都是数据分析师tableau应用实战》&lt;/p&gt;
&lt;h1 id=&quot;统计学&quot;&gt;&lt;a href=&quot;#
      
    
    </summary>
    
      <category term="Data analysis" scheme="https://chumingke.github.io/categories/Data-analysis/"/>
    
    
      <category term="Data analysis" scheme="https://chumingke.github.io/tags/Data-analysis/"/>
    
  </entry>
  
  <entry>
    <title>关于传统企业数据规划的看法</title>
    <link href="https://chumingke.github.io//blog/2017/10/Data-planning-related.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Data-planning-related.html</id>
    <published>2017-10-09T06:02:00.000Z</published>
    <updated>2017-10-09T06:05:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>其实这是个很大的话题。也很难一时说清，这里我记录一下自己的看法。估计可能会有很多不对的地方，权当为以后做一些参考。</p><h1 id="传统企业的特点"><a href="#传统企业的特点" class="headerlink" title="传统企业的特点"></a>传统企业的特点</h1><p>1.组织机构庞大复杂。<br>组织复杂如果能运行良好，其实也可以。不过一般来讲，组织一旦复杂。公司运行就会受到阻碍。而且组织一旦复杂，牵一发而动全身。当我们需要更新某些部分的时候，从技术角度讲很难下手，从个人利益角度讲也是，公司的利益关系网也是复杂。</p><p>2.业务周期长<br>打个比方，我是生产运营处的一个数据分析课中的业务人员，然后程序后台很多东西都在咨询部门那边，所以每次有需求我要跟他们提。然后又是一个很长周期，等这个需求搞定了我们发现业务人员的需求已经换了。</p><p>3.业务差距大，理解沟通困难<br>很多时候其他部门也不能很好理解我们的需求。因为业务范围的不同。所以往往两边都懂的人沟通起来会比较顺畅。</p><p>4.人浮于事，推卸责任<br>在上面的情况下，就有可能出现人浮于事，推卸责任的现象。<br>有可能一开始大家的心态都是好的，都想好好完成这个事情。但是发现成本太高了。真的要好好解决要投入大量的精力，而且这个精力的投入可能是纯粹浪费在沟通或者其他不必要的事情上。有句话讲得好，不做不错，多做多错。</p><p>5.企业文化落后<br>传统企业，尤其是几十年的企业，企业文化中往往流动的都是传统的血液。其实这种文化在当初是很好用的。但是到了现在只能说有利有弊。比如过分尊重领导，思想陈旧，做事方法陈旧。优点有增强凝聚力，增强领导能力等等。</p><p>6.领导思维落后<br>这个在我看来是最大的弊端了。这几年数据分析很多，所以很多公司都想搞一搞。但是很多领导其实不懂数据分析是什么。下的决策往往缘木求鱼的效果。</p><h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><p>比如一个制造业公司。做快消品几十年。大领导听说数据分析对公司有好处，就想搞这块。然后让小领导去办这个事。然后小领导带着业务人员就开始做。<br>这里面有几个问题。</p><p>1.公司以前一点这方面基础没有。管理方面用类似SAP之类的系统。我们知道这个系统的数据模块主要是使用BW取数来推出报表的。BW就是我们说的传统BI，周期长，效果差，反应迟钝。然后最近流行一个HANA。</p><p>2.数据方面，业务部门的数据，是首先由业务部门制定指标，然后咨询部门设计系统。然后由工厂端输入数据。</p><p>这里面就有不少问题。<br>一是，业务部门制定的指标经常会变，因为本身业务也比较复杂，一开始如果没有考虑好，后期就要修改。那如果指标都一年一变的话，对应的数据就没有什么比较的意义。<br>二是，这个过程涉及到几个部门，由于之前说的沟通不畅，很容易出现很多问题。比如说系统突然出现错误，然后肯定是业务人员发现的，然后通知咨询，咨询开始调试。然后这就是个时间周期，这个周期里面的数据准确怎么保证呢？还有调试的结果也不一定准确，因为不同部门理解不同。</p><p>3.业务人员的技术能力问题。这里面所有的人都不懂大数据是什么。因为大数据是有一定门槛的。并不是说说就能懂的。你要用到的东西，远一点的比如机器学习，算法，近一点的python，数据库。都是有一定门槛的。我们的业务人员之前也就用过excel，其他的都不懂。那做个。。。</p><p>因为小领导也不懂，但是大领导布置了任务。只能硬着头皮做，所以就让业务人员去做，业务人员能怎么办呢。也是用传统的方法硬着头皮去做呗。<br>领导希望有一个可以随时取数的数据库，但是我们的数据都是在SAP里的，我们是通过BW取数的。小领导不清楚其他数据库是怎么搞的，只能按照传统思路，也就是硬着头皮写逻辑，就是想用BW做一个数据库表。要我说这连菜刀砍大树都算不上，简直是铅笔刀砍大树。还砍不断！<br>还有等等类似事情，最终会导致，大家敷衍了事，领导的任务无限延期。</p><h1 id="数据分析规划架构"><a href="#数据分析规划架构" class="headerlink" title="数据分析规划架构"></a>数据分析规划架构</h1><p>这是我之前做的小计划。</p><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>有一个可以随时提取数据进行数据分析的数据仓库<br>有一套完整的数据分析方案</p><h2 id="总体构架"><a href="#总体构架" class="headerlink" title="总体构架"></a>总体构架</h2><h3 id="后台存储"><a href="#后台存储" class="headerlink" title="后台存储"></a>后台存储</h3><p>数据库包括：</p><p>1.SAP<br>SAP BW BO</p><p>2.mysql<br>兼容性：都可以<br>特征：底层数据库</p><p>3.excel</p><p>4.access</p><h3 id="建模分析"><a href="#建模分析" class="headerlink" title="建模分析"></a>建模分析</h3><h4 id="简单建模"><a href="#简单建模" class="headerlink" title="简单建模"></a>简单建模</h4><h5 id="tableau"><a href="#tableau" class="headerlink" title="tableau"></a>tableau</h5><h5 id="excel"><a href="#excel" class="headerlink" title="excel"></a>excel</h5><p>1.描述分析<br>2.图表<br>3.关系分析<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">相关分析</div><div class="line">关联分析</div><div class="line">单因素方差分析</div><div class="line">双因素方差分析</div><div class="line">单变量求解</div><div class="line">规划求解</div><div class="line">线性回归</div></pre></td></tr></table></figure></p><p>4.分类器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">聚类分析</div><div class="line">异常值分析</div></pre></td></tr></table></figure></p><h5 id="power-bi"><a href="#power-bi" class="headerlink" title="power bi"></a>power bi</h5><h4 id="复杂建模"><a href="#复杂建模" class="headerlink" title="复杂建模"></a>复杂建模</h4><h5 id="python"><a href="#python" class="headerlink" title="python"></a>python</h5><h5 id="R"><a href="#R" class="headerlink" title="R"></a>R</h5><h5 id="sas"><a href="#sas" class="headerlink" title="sas"></a>sas</h5><h5 id="spss"><a href="#spss" class="headerlink" title="spss"></a>spss</h5><p>1.描述分析<br>2.关系分析<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">关联分析</div><div class="line">对应分析</div><div class="line">因子分析</div></pre></td></tr></table></figure></p><p>3.回归分析<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">线性回归</div><div class="line">逻辑回归</div></pre></td></tr></table></figure></p><p>4.分类算法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">决策树算法</div><div class="line">聚类分析</div><div class="line">时间序列分析</div></pre></td></tr></table></figure></p><p>5.模型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">自动建模</div><div class="line">RFM模型</div><div class="line">信用模型</div></pre></td></tr></table></figure></p><h3 id="展示（可视化）"><a href="#展示（可视化）" class="headerlink" title="展示（可视化）"></a>展示（可视化）</h3><p>tableau<br>d3.js<br>echarts<br>python<br>其他（excel，power bi）</p><h3 id="核心原理"><a href="#核心原理" class="headerlink" title="核心原理"></a>核心原理</h3><h4 id="数据分析方法论"><a href="#数据分析方法论" class="headerlink" title="数据分析方法论"></a>数据分析方法论</h4><p>见另一篇方法论。</p><h4 id="统计学原理"><a href="#统计学原理" class="headerlink" title="统计学原理"></a>统计学原理</h4><h4 id="配色原理"><a href="#配色原理" class="headerlink" title="配色原理"></a>配色原理</h4><p>常见的配色方案<br>参考公司配色</p><h3 id="工具介绍"><a href="#工具介绍" class="headerlink" title="工具介绍"></a>工具介绍</h3><h4 id="power-bi-1"><a href="#power-bi-1" class="headerlink" title="power bi"></a>power bi</h4><p>1.作用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">可视化</div><div class="line">powerbi 标准解决方案:预设分析模型</div><div class="line">powerbi绿色开发平台</div></pre></td></tr></table></figure></p><p>2.兼容性<br>仅win可用<br>3.工具<br>power系列:<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">pivot：数据的读取、关联</div><div class="line"><span class="built_in">map</span>：地图</div><div class="line"><span class="built_in">view</span>：透视表</div><div class="line">powerbi：web，desktop</div></pre></td></tr></table></figure></p><p>4.费用<br>基本免费<br>部分功能收费，费用较低<br>5.优缺点<br>优点：便宜，方案齐全<br>缺点：可视化图形难看，只可用于WIN</p><h4 id="excel-1"><a href="#excel-1" class="headerlink" title="excel"></a>excel</h4><h4 id="spss-1"><a href="#spss-1" class="headerlink" title="spss"></a>spss</h4><h4 id="tableau-1"><a href="#tableau-1" class="headerlink" title="tableau"></a>tableau</h4><h4 id="echarts"><a href="#echarts" class="headerlink" title="echarts"></a>echarts</h4><h4 id="python-1"><a href="#python-1" class="headerlink" title="python"></a>python</h4><h3 id="知识体系"><a href="#知识体系" class="headerlink" title="知识体系"></a>知识体系</h3><p>书籍</p><h4 id="tableau-2"><a href="#tableau-2" class="headerlink" title="tableau"></a>tableau</h4><p>《人人都是数据分析师tableau应用实战》</p><h4 id="统计学"><a href="#统计学" class="headerlink" title="统计学"></a>统计学</h4><p>《商务经济统计学》<br>《概率论与数理统计》<br>《统计思维》<br>《统计学习方法》</p><h4 id="数据挖掘"><a href="#数据挖掘" class="headerlink" title="数据挖掘"></a>数据挖掘</h4><p>《数据挖掘导论》<br>《算法导论》<br>《数据挖掘》<br>《web数据挖掘》</p><h4 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h4><p>《深入浅出数据分析》<br>《数据分析：企业的贤内助》<br>《网站分析》<br>《实用数据分析》</p><h4 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h4><p>《深入浅出SQL》<br>《hadoop实战》<br>《学习数据库Mysql》</p><h4 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h4><p>《利用python进行数据分析》<br>《python学习手册》<br>《python科学计算》<br>《集体智慧编程》<br>《推荐系统实践》<br>《机器学习系统设计》<br>《R语言实战》<br>《机器学习：使用案例分析》<br>《python自然语言处理》</p><h2 id="方案指导思想"><a href="#方案指导思想" class="headerlink" title="方案指导思想"></a>方案指导思想</h2><p>从单个问题出发,最小可行性产品，结合不同处理方式，找到最优解，以有实际结果为导向。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>从excel到excel到tableau到分析报告PPT</div><div class="line"><span class="number">10</span>万行，简单分析</div><div class="line"><span class="number">2.</span>从access到excel</div><div class="line"><span class="number">100</span>M，简单分析</div><div class="line"><span class="number">3.</span>从access到spss</div><div class="line"><span class="number">100</span>M，复杂分析</div><div class="line"><span class="number">4.</span>从access到power bi/从access到spss modeler</div><div class="line">百万级别，复杂分析</div><div class="line"><span class="number">5.</span>从excel到tableau到Python及ppt</div></pre></td></tr></table></figure></p><h2 id="需要做的事"><a href="#需要做的事" class="headerlink" title="需要做的事"></a>需要做的事</h2><h3 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h3><p>数据梳理</p><h4 id="业务模型梳理"><a href="#业务模型梳理" class="headerlink" title="业务模型梳理"></a>业务模型梳理</h4><p>1.基础数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">字段名</div><div class="line">字段类型</div></pre></td></tr></table></figure></p><p>2.指标数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">字段名</div><div class="line">字段类型</div><div class="line">公式</div><div class="line">逻辑关系</div><div class="line">代表什么</div></pre></td></tr></table></figure></p><p>3.数据结构建立</p><h4 id="非业务模型数据梳理"><a href="#非业务模型数据梳理" class="headerlink" title="非业务模型数据梳理"></a>非业务模型数据梳理</h4><h3 id="图表准备"><a href="#图表准备" class="headerlink" title="图表准备"></a>图表准备</h3><p>按作用分类</p><h3 id="数据分析方法论准备"><a href="#数据分析方法论准备" class="headerlink" title="数据分析方法论准备"></a>数据分析方法论准备</h3><h3 id="描述统计模型准备"><a href="#描述统计模型准备" class="headerlink" title="描述统计模型准备"></a>描述统计模型准备</h3><h4 id="常态模型"><a href="#常态模型" class="headerlink" title="常态模型"></a>常态模型</h4><p>已有模型优化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">日报</div><div class="line">月报</div><div class="line">KAI</div><div class="line">运营成本</div></pre></td></tr></table></figure></p><p>开发新模型</p><h4 id="非常态模型"><a href="#非常态模型" class="headerlink" title="非常态模型"></a>非常态模型</h4><p>汇报<br>年度总结<br>专案研究</p><h4 id="方法论及方法"><a href="#方法论及方法" class="headerlink" title="方法论及方法"></a>方法论及方法</h4><p>方法论:描述统计原理的应用<br>方法:总体分析,对比分析</p><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><h5 id="描述统计模型1-0"><a href="#描述统计模型1-0" class="headerlink" title="描述统计模型1.0"></a>描述统计模型1.0</h5><p>1.其他<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">表头</div><div class="line">LOGO</div><div class="line">简介/注意</div></pre></td></tr></table></figure></p><p>2.现状分析<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">综合评价分析</div><div class="line">对比分析</div><div class="line">平均分析</div></pre></td></tr></table></figure></p><p>3.原因分析<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">通过上下钻查看总厂至分厂运营状况</div><div class="line">分组分析</div><div class="line">结构分析</div><div class="line">杜邦分析</div></pre></td></tr></table></figure></p><p>4.项目进度<br>5.预测分析<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">线性回归</div></pre></td></tr></table></figure></p><h5 id="分析模型"><a href="#分析模型" class="headerlink" title="分析模型"></a>分析模型</h5><p>swot模型</p><h5 id="考核模型"><a href="#考核模型" class="headerlink" title="考核模型"></a>考核模型</h5><h3 id="数据挖掘模型准备"><a href="#数据挖掘模型准备" class="headerlink" title="数据挖掘模型准备"></a>数据挖掘模型准备</h3><h4 id="常态模型-1"><a href="#常态模型-1" class="headerlink" title="常态模型"></a>常态模型</h4><h4 id="非常态模型-1"><a href="#非常态模型-1" class="headerlink" title="非常态模型"></a>非常态模型</h4><h4 id="方法论及方法-1"><a href="#方法论及方法-1" class="headerlink" title="方法论及方法"></a>方法论及方法</h4><p>方法论<br>方法:回归分析,决策树</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;其实这是个很大的话题。也很难一时说清，这里我记录一下自己的看法。估计可能会有很多不对的地方，权当为以后做一些参考。&lt;/p&gt;
&lt;h1 id=&quot;传统企业的特点&quot;&gt;&lt;a href=&quot;#传统企业的特点&quot; class=&quot;headerlink&quot; title=&quot;传统企业的特点&quot;&gt;&lt;/a&gt;
      
    
    </summary>
    
      <category term="Data analysis" scheme="https://chumingke.github.io/categories/Data-analysis/"/>
    
    
      <category term="Data analysis" scheme="https://chumingke.github.io/tags/Data-analysis/"/>
    
  </entry>
  
  <entry>
    <title>数据分析方法</title>
    <link href="https://chumingke.github.io//blog/2017/10/Data-analysis-method.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Data-analysis-method.html</id>
    <published>2017-10-08T13:06:11.000Z</published>
    <updated>2017-10-08T13:07:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>整理了一些数据分析方法。</p><h1 id="数据分析方法"><a href="#数据分析方法" class="headerlink" title="数据分析方法"></a>数据分析方法</h1><h2 id="描述统计"><a href="#描述统计" class="headerlink" title="描述统计"></a>描述统计</h2><h2 id="关系分析"><a href="#关系分析" class="headerlink" title="关系分析"></a>关系分析</h2><h3 id="相关分析"><a href="#相关分析" class="headerlink" title="相关分析"></a>相关分析</h3><p>描述两个变量之间的关系</p><h3 id="关联分析"><a href="#关联分析" class="headerlink" title="关联分析"></a>关联分析</h3><p>描述一个变量对另一个变量关系支持度</p><h3 id="单因素方差分析"><a href="#单因素方差分析" class="headerlink" title="单因素方差分析"></a>单因素方差分析</h3><p>研究对象的某一指标、变量对因变量是否有影响</p><h3 id="双因素方差分析"><a href="#双因素方差分析" class="headerlink" title="双因素方差分析"></a>双因素方差分析</h3><p>两种因素、对因变量是否有影响</p><h3 id="因子分析"><a href="#因子分析" class="headerlink" title="因子分析"></a>因子分析</h3><h2 id="求解"><a href="#求解" class="headerlink" title="求解"></a>求解</h2><h3 id="单变量求解"><a href="#单变量求解" class="headerlink" title="单变量求解"></a>单变量求解</h3><p>已知公式，求某一解</p><h3 id="规划求解"><a href="#规划求解" class="headerlink" title="规划求解"></a>规划求解</h3><p>已知公式限定条件，求多解</p><h2 id="回归分析"><a href="#回归分析" class="headerlink" title="回归分析"></a>回归分析</h2><h3 id="线性回归"><a href="#线性回归" class="headerlink" title="线性回归"></a>线性回归</h3><p>得出回归方程，预测检验</p><h3 id="逻辑回归"><a href="#逻辑回归" class="headerlink" title="逻辑回归"></a>逻辑回归</h3><h2 id="分类算法"><a href="#分类算法" class="headerlink" title="分类算法"></a>分类算法</h2><h3 id="决策树算法"><a href="#决策树算法" class="headerlink" title="决策树算法"></a>决策树算法</h3><p>根据特征进行分类，便于决策</p><h3 id="聚类分析"><a href="#聚类分析" class="headerlink" title="聚类分析"></a>聚类分析</h3><h3 id="时间序列分析"><a href="#时间序列分析" class="headerlink" title="时间序列分析"></a>时间序列分析</h3><h2 id="神经网络"><a href="#神经网络" class="headerlink" title="神经网络"></a>神经网络</h2><h2 id="随机森林"><a href="#随机森林" class="headerlink" title="随机森林"></a>随机森林</h2><h2 id="svm"><a href="#svm" class="headerlink" title="svm"></a>svm</h2><h1 id="数据分析作用"><a href="#数据分析作用" class="headerlink" title="数据分析作用"></a>数据分析作用</h1><h2 id="现状分析"><a href="#现状分析" class="headerlink" title="现状分析"></a>现状分析</h2><p>基本方法：对比<br>数据分析方法：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>对比分析</div><div class="line"><span class="number">2.</span>平均分析</div><div class="line"><span class="number">3.</span>综合评价分析</div></pre></td></tr></table></figure></p><h2 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h2><p>基本方法：细分<br>数据分析方法：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>分组分析</div><div class="line"><span class="number">2.</span>结构分析</div><div class="line"><span class="number">3.</span>交叉分析</div><div class="line"><span class="number">4.</span>杜邦分析</div><div class="line"><span class="number">5.</span>漏斗图分析</div><div class="line"><span class="number">6.</span>矩阵关联分析</div><div class="line"><span class="number">7.</span>聚类分析</div></pre></td></tr></table></figure></p><h2 id="预测分析"><a href="#预测分析" class="headerlink" title="预测分析"></a>预测分析</h2><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>回归分析</div><div class="line"><span class="number">2.</span>时间序列</div><div class="line"><span class="number">3.</span>决策树</div><div class="line"><span class="number">4.</span>神经网络</div></pre></td></tr></table></figure><h1 id="按性质分"><a href="#按性质分" class="headerlink" title="按性质分"></a>按性质分</h1><h2 id="描述性数据分析"><a href="#描述性数据分析" class="headerlink" title="描述性数据分析"></a>描述性数据分析</h2><p>描述统计<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">集中趋势</div><div class="line">离散程度</div><div class="line">异常值</div></pre></td></tr></table></figure></p><h2 id="探索性数据分析"><a href="#探索性数据分析" class="headerlink" title="探索性数据分析"></a>探索性数据分析</h2><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>假设检验</div><div class="line"><span class="number">2.</span>相关分析</div><div class="line"><span class="number">3.</span>方差分析</div><div class="line"><span class="number">4.</span>回归分析</div><div class="line"><span class="number">5.</span>聚类分析</div><div class="line"><span class="number">6.</span>判别分析</div><div class="line"><span class="number">7.</span>主成分因子分析</div><div class="line"><span class="number">8.</span>时间序列分析</div><div class="line"><span class="number">9.</span>决策树</div></pre></td></tr></table></figure><h2 id="验证性数据分析"><a href="#验证性数据分析" class="headerlink" title="验证性数据分析"></a>验证性数据分析</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;整理了一些数据分析方法。&lt;/p&gt;
&lt;h1 id=&quot;数据分析方法&quot;&gt;&lt;a href=&quot;#数据分析方法&quot; class=&quot;headerlink&quot; title=&quot;数据分析方法&quot;&gt;&lt;/a&gt;数据分析方法&lt;/h1&gt;&lt;h2 id=&quot;描述统计&quot;&gt;&lt;a href=&quot;#描述统计&quot; class=&quot;
      
    
    </summary>
    
      <category term="Data analysis" scheme="https://chumingke.github.io/categories/Data-analysis/"/>
    
    
      <category term="Data analysis" scheme="https://chumingke.github.io/tags/Data-analysis/"/>
    
  </entry>
  
  <entry>
    <title>数据分析方法论</title>
    <link href="https://chumingke.github.io//blog/2017/10/Data-analysis-methodology.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Data-analysis-methodology.html</id>
    <published>2017-10-08T12:42:19.000Z</published>
    <updated>2017-10-08T12:45:09.000Z</updated>
    
    <content type="html"><![CDATA[<p>整理了一些思维、方法论。</p><h1 id="统计分析方法论"><a href="#统计分析方法论" class="headerlink" title="统计分析方法论"></a>统计分析方法论</h1><h1 id="营销管理方法论"><a href="#营销管理方法论" class="headerlink" title="营销管理方法论"></a>营销管理方法论</h1><h2 id="SWOT分析"><a href="#SWOT分析" class="headerlink" title="SWOT分析"></a>SWOT分析</h2><p>Strength(强势)<br>Opportunity(机会)<br>Weekness(弱点)<br>threat(威胁)</p><h2 id="4P营销理论"><a href="#4P营销理论" class="headerlink" title="4P营销理论"></a>4P营销理论</h2><p>产品<br>价格<br>渠道<br>促销<br>分析公司的整体营运情况</p><h2 id="PEST分析法"><a href="#PEST分析法" class="headerlink" title="PEST分析法"></a>PEST分析法</h2><p>政治（Political）<br>经济（Economic）<br>技术（Technological）<br>社会（Social）</p><ul><li>用于对宏观环境的分析<h2 id="SMART目标分析"><a href="#SMART目标分析" class="headerlink" title="SMART目标分析"></a>SMART目标分析</h2>明确性(Specific)<br>可量化(Measurable)<br>可实现(Attainable)<br>相关联(Relevant)<br>时效性(Time)<h2 id="5W2H分析法"><a href="#5W2H分析法" class="headerlink" title="5W2H分析法"></a>5W2H分析法</h2>何因(Why)<br>何事(What)<br>何时(When)<br>何人(Who)<br>何地(Where)<br>如何做(How)<br>何价(How much)<h2 id="用户行为分析（user-behavior）"><a href="#用户行为分析（user-behavior）" class="headerlink" title="用户行为分析（user behavior）"></a>用户行为分析（user behavior）</h2>认知<br>熟悉<br>试用<br>使用<br>忠诚<br>适用于网站流量分析<h2 id="逻辑树分析法"><a href="#逻辑树分析法" class="headerlink" title="逻辑树分析法"></a>逻辑树分析法</h2>问题：（子问题一，子问题二）<br>把问题的所有子问题分层罗列<h1 id="张梦溪的系统案例（知乎数据分析方法论是什么）"><a href="#张梦溪的系统案例（知乎数据分析方法论是什么）" class="headerlink" title="张梦溪的系统案例（知乎数据分析方法论是什么）"></a>张梦溪的系统案例（知乎数据分析方法论是什么）</h1><h2 id="商业分析理论"><a href="#商业分析理论" class="headerlink" title="商业分析理论"></a>商业分析理论</h2>1.理解商业分析目标<br>2.理解企业成长模式，核心业务平台是什么？<br>3.理解商业分析进化论<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">观察数据发生了什么<span class="comment">;</span></div><div class="line">理解为什么发生<span class="comment">;</span></div><div class="line">预测未来会发生什么<span class="comment">;</span></div><div class="line">商业决策。</div></pre></td></tr></table></figure></li></ul><p>4.EOI的分析架构<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">助力（Empower）</div><div class="line">优化（<span class="keyword">Optimize</span>）</div><div class="line">创新（Innovate）</div></pre></td></tr></table></figure></p><h2 id="常用分析方法"><a href="#常用分析方法" class="headerlink" title="常用分析方法"></a>常用分析方法</h2><h3 id="数据分析的基本思路"><a href="#数据分析的基本思路" class="headerlink" title="数据分析的基本思路"></a>数据分析的基本思路</h3><p>1.挖掘业务含义<br>2.制定分析计划<br>3.拆分查询数据<br>4.提炼业务洞察<br>5.产出商业决策</p><h3 id="内外因素分解法"><a href="#内外因素分解法" class="headerlink" title="内外因素分解法"></a>内外因素分解法</h3><p>案例</p><h3 id="DOSS"><a href="#DOSS" class="headerlink" title="DOSS"></a>DOSS</h3><h2 id="具体应用手段"><a href="#具体应用手段" class="headerlink" title="具体应用手段"></a>具体应用手段</h2><p>1.画像分群<br>2.趋势<br>3.漏斗洞察<br>4.行为轨迹<br>5.留存分析<br>6.A/B测试<br>7.优化建模</p><h1 id="linkeln案例"><a href="#linkeln案例" class="headerlink" title="linkeln案例"></a>linkeln案例</h1><p>数据分析思维</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;整理了一些思维、方法论。&lt;/p&gt;
&lt;h1 id=&quot;统计分析方法论&quot;&gt;&lt;a href=&quot;#统计分析方法论&quot; class=&quot;headerlink&quot; title=&quot;统计分析方法论&quot;&gt;&lt;/a&gt;统计分析方法论&lt;/h1&gt;&lt;h1 id=&quot;营销管理方法论&quot;&gt;&lt;a href=&quot;#营销管理方法
      
    
    </summary>
    
      <category term="Data analysis" scheme="https://chumingke.github.io/categories/Data-analysis/"/>
    
    
      <category term="Data analysis" scheme="https://chumingke.github.io/tags/Data-analysis/"/>
    
  </entry>
  
  <entry>
    <title>那些对自己特别狠的人，脑子里都是怎么想的？</title>
    <link href="https://chumingke.github.io//blog/2017/10/what-are-the-thoughts-in-the-mind-of-those-who-are-particularly-ruthless-to-them.html"/>
    <id>https://chumingke.github.io//blog/2017/10/what-are-the-thoughts-in-the-mind-of-those-who-are-particularly-ruthless-to-them.html</id>
    <published>2017-10-08T12:13:52.000Z</published>
    <updated>2017-10-08T12:17:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>作者：张林昊<br>链接：<a href="https://www.zhihu.com/question/57455607/answer/157878054" target="_blank" rel="external">https://www.zhihu.com/question/57455607/answer/157878054</a><br>来源：知乎<br>著作权归作者所有，转载请联系作者获得授权。</p><p>所有近乎残忍的坚持，背后都隐藏着欲望的鬼魅。</p><p>只是对你来讲，这些欲望是点缀，</p><p>对他来说，这些欲望是刚需。</p><p>什么是刚需？</p><p>周红衣这里有个再经典不过的例子，有人将木马封包装进AV里进行传播，360在用户试图播放时弹出警告，但是大多数用户的选择都是关掉弹窗，「如果360再弹，就把360彻底的卸掉」。</p><p>而有的人对成功的渴望，就是可以和你深夜精虫入脑两眼猩红，满世界求种子的欲望同样强烈！</p><p>你说他们「推开自己最爱的人，理智的可怕。」</p><p>其实并不是。</p><p>慕容复在枯井边推开了王语嫣，不是因为他理智，而是为那兴复燕国的执念。</p><p>黄袍加身不是你的刚需，因此你狠不下来。不做皇帝你一样能活，慕容复做不了皇帝能疯。</p><p>战胜欲望的永远只有更高级的欲望。</p><p>解不了，名缰系嗔贪。</p><p>当然，从某种程度上讲，你不理解，反倒说明你幸运。至少，不曾被自卑的阴影所笼罩，没有被未遂的野心所折磨，未曾在志得意满时被命运当头棒喝。</p><p>苏秦读书，以锥刺骨，你不理解，是因为你没体会过 「兄弟嫂妹妻妾窃皆笑之」的困窘。</p><p>乔丹练球，近乎偏执，你不理解，是因为你没品尝过只因身高不足便被球队扫地出门的羞辱。</p><p>人是欲望的产物。</p><p>有些行为看似不合逻辑，只是因为你还没能看穿他的欲望。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;作者：张林昊&lt;br&gt;链接：&lt;a href=&quot;https://www.zhihu.com/question/57455607/answer/157878054&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.zhihu.com/ques
      
    
    </summary>
    
      <category term="human nature" scheme="https://chumingke.github.io/categories/human-nature/"/>
    
    
      <category term="human nature" scheme="https://chumingke.github.io/tags/human-nature/"/>
    
  </entry>
  
  <entry>
    <title>李开复每天早上 4 点就起床，是怎么办到的？开复老师如何能很好地安排好自己的时间？</title>
    <link href="https://chumingke.github.io//blog/2017/10/How-can-Li-Kaifu-arrange-his-time-well.html"/>
    <id>https://chumingke.github.io//blog/2017/10/How-can-Li-Kaifu-arrange-his-time-well.html</id>
    <published>2017-10-08T11:52:31.000Z</published>
    <updated>2017-10-08T12:00:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>作者：李开复<br>链接：<a href="https://www.zhihu.com/question/19563168/answer/12257911" target="_blank" rel="external">https://www.zhihu.com/question/19563168/answer/12257911</a><br>来源：知乎<br>著作权归作者所有，转载请联系作者获得授权。</p><p>人的一生两个最大的财富是：你的才华和你的时间。才华越来越多，但是时间越来越少，我们的一生可以说是用时间来换取才华。如果一天天过去了，我们的时间少了，而才华没有增加，那就是虚度了时光。所以，我们必须节省时间，有效率地使用时间。如何有效率地利用时间呢？我有下面几个建议： </p><p><strong>1.做你真正感兴趣、与自己人生目标一致的事情。</strong></p><p> 我发现我的“生产力”和我的“兴趣”有着直接的关系，而且这种关系还不是单纯的线性关系。如果面对我没有兴趣的事情，我可能会花掉40％的时间，但只能产生20％的效果；如果遇到我感兴趣的事情，我可能会花100％的时间而得到200％的效果。<br> 要在工作上奋发图强，身体健康固然重要，但是真正能改变你的状态的关键是心理而不是生理上的问题。真正地投入到你的工作中，你需要的是一种态度、一种渴望、一种意志。</p><p><strong>2.知道你的时间是如何花掉的。</strong></p><p>挑一个星期，每天记录下每30分钟做的事情，然后做一个分类（例如：读书、准备GRE、和朋友聊天、社团活动等）和统计，看看自己什么方面花了太多的时间。凡事想要进步，必须先理解现状。<br>每天结束后，把一整天做的事记下来，每15分钟为一个单位（例如：1:00—1:15等车，1:15—1:45搭车，1:45—2:45与朋友喝茶……）。在一周结束后，分析一下，这周你的时间如何可以更有效率地安排？有没有活动占太大的比例？有没有方法可以增加效率？</p><p><strong>3.使用时间碎片和“死时间”。</strong></p><p>如果你做了上面的时间统计，你一定发现每天有很多时间流失掉了，例如等车、排队、走路、搭车等，可以用来背单字、打电话、温习功课等。现在随时随地都能上网，所以没有任何借口再发呆一次。<br>我前一阵和同事一起出差，他们都很惊讶为什么我和他们整天在一起，但是我的电子邮件都可以及时回答？后来，他们发现，当他们在飞机上和汽车上聊天、读杂志和发呆的时候，我就把电子邮件全回了。重点是，无论自己忙还是不忙，你要把那些可以利用时间碎片做的事先准备好，到你有空闲的时候有计划地拿出来做。</p><p><strong>4.要事为先 。</strong></p><p>每天一大早挑出最重要的三件事，当天一定要能够做完。<br>在工作和生活中每天都有干不完的事，唯一能够做的就是分清轻重缓急。<br>要理解急事不等于重要的事情。每天除了办又急又重要的事情外，一定要注意不要成为急事的奴隶。<br>有些急但是不重要的事情，你要学会放掉，要能对人说 no! 而且每天这三件事里最好有一件重要但是不急的，这样才能确保你没有成为急事的奴隶。</p><p><strong>5.要有纪律。</strong></p><p>有的年轻人会说自己“没有时间学习”，其实，换个说法就是“学习没有被排上优先级次序”。<br>曾经有一个教学生做时间管理的老师，他上课时带来两个大玻璃缸和一堆大小不一的石头。他做了一个实验，在其中一个玻璃缸中先把小石、砂倒进去，最后大石头就放不下了。而另一个玻璃缸中先放大石头，其它小石和砂却可以慢慢渗入。<br>他以此为比喻说：“时间管理就是要找到自己的优先级，若颠倒顺序，一堆琐事占满了时间，重要的事情就没有空位了。”</p><p><strong>6.运用80％—20％原则。</strong></p><p>人如果利用最高效的时间，只要20％的投入就能产生80％的效率。相对来说，如果使用最低效的时间，80％的时间投入只能产生20%效率。一天头脑最清楚的时候，应该放在最需要专心的工作上。<br>与朋友、家人在一起的时间，相对来说，不需要头脑那么清楚。所以，我们要把握一天中20％的最高效时间（有些人是早晨，也有些人是下午和晚上；除了时间之外，还要看你的心态，血糖的高低，休息是否足够等综合考量），专门用于最困难的科目和最需要思考的学习上。许多同学喜欢熬夜，但是晚睡会伤身，所以还是尽量早睡早起。</p><p><strong>7.平衡工作和家庭。</strong></p><p>我对于家庭的时间分配是用下列的原则：</p><ul><li><p>划清界限、言出必行——对家人做出承诺后，而且一定要做到，但是希望其他时间得到谅解。制定较低的期望值以免造成失望。</p></li><li><p>闲中偷忙——学会怎么利用时间碎片。例如：家人没起床的时候，你就可以利用这段空闲时间去做你需要的工作。</p></li><li><p>注重有质量的时间（quality time）——时间不是每一分钟都是一样的，有时需要全神贯注，有时坐在旁边上网就可以了。要记得家人平时为你牺牲很多，度假、周末是你补偿的机会。</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;作者：李开复&lt;br&gt;链接：&lt;a href=&quot;https://www.zhihu.com/question/19563168/answer/12257911&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.zhihu.com/quest
      
    
    </summary>
    
      <category term="Time utilization" scheme="https://chumingke.github.io/categories/Time-utilization/"/>
    
    
      <category term="Time utilization" scheme="https://chumingke.github.io/tags/Time-utilization/"/>
    
  </entry>
  
  <entry>
    <title>Numpy学习笔记</title>
    <link href="https://chumingke.github.io//blog/2017/10/Numpy-learning-notes.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Numpy-learning-notes.html</id>
    <published>2017-10-08T09:35:48.000Z</published>
    <updated>2017-10-08T09:36:32.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>通过Anconda安装</p><h1 id="网页形式的编辑器"><a href="#网页形式的编辑器" class="headerlink" title="网页形式的编辑器"></a>网页形式的编辑器</h1><p>Jupyter NoteBook<br>很好用<br>anconda安装好后，直接终端输入<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">jupyter notebook</span></div></pre></td></tr></table></figure></p><p>然后会跳出网页。目录类似GIT</p><h1 id="Numpy介绍-ndarry"><a href="#Numpy介绍-ndarry" class="headerlink" title="Numpy介绍+ndarry"></a>Numpy介绍+ndarry</h1><h2 id="scipy"><a href="#scipy" class="headerlink" title="scipy"></a>scipy</h2><p>scipy库是基于python生态的一款开源数值计算、科学与工程应用的开源软件。<br>包括常用的Numpy,pandas、matplotlib等库。</p><h2 id="Numpy"><a href="#Numpy" class="headerlink" title="Numpy"></a>Numpy</h2><h3 id="Numerical-Python"><a href="#Numerical-Python" class="headerlink" title="Numerical Python"></a>Numerical Python</h3><p>即数值python包</p><h3 id="包括的内容"><a href="#包括的内容" class="headerlink" title="包括的内容"></a>包括的内容</h3><p>1.一个具有矢量算术运算和复杂广播能力的快速且节省空间的多维数组，称为ndarray<br><figure class="highlight smali"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">N-dimensional<span class="built_in"> array </span>object</div></pre></td></tr></table></figure></p><p>2.用于对整组数据进行快速运算的标准数学函数<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ufunc (universal <span class="keyword">function</span> <span class="title">object);</span></div></pre></td></tr></table></figure></p><p>3.用于整合c/c++和Fortran代码的工具包<br>4.实用线性代数、傅里叶变换和随机数生成函数。numpy和稀疏矩阵运算包scipy配合使用更加方便</p><h3 id="约定导入方式"><a href="#约定导入方式" class="headerlink" title="约定导入方式"></a>约定导入方式</h3><figure class="highlight elm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div></pre></td></tr></table></figure><h2 id="ndarray"><a href="#ndarray" class="headerlink" title="ndarray"></a>ndarray</h2><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">np.array(      ##建立Ndarray多维数组，可以直接使用嵌套列表</div><div class="line">【</div><div class="line">    【<span class="number">1</span>，<span class="number">2</span>，<span class="number">3</span>，<span class="number">4</span>】，          ##开头几个方括号，就是几维的</div><div class="line">    【<span class="number">2</span>，<span class="number">3</span>，<span class="number">4</span>，<span class="number">5</span>】</div><div class="line">  】，</div><div class="line">【</div><div class="line">    【<span class="number">3</span>，<span class="number">4</span>，<span class="number">5</span>，<span class="number">6</span>】，</div><div class="line">    【<span class="number">4</span>，<span class="number">5</span>，<span class="number">6</span>，<span class="number">7</span>】</div><div class="line">  】</div><div class="line">）</div></pre></td></tr></table></figure><h2 id="ndarray属性"><a href="#ndarray属性" class="headerlink" title="ndarray属性"></a>ndarray属性</h2><p>ndim——维度数量<br>shape——是一个表示各维度大小的元组，即数组的形状<br>dtype——是一个用于说明数组元素数据类型的对象<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">arr2 = np.array ( [ 'Python','cctv','ibeifeng',hello world' ] , dtype = '<span class="string">|S4')</span></div><div class="line"></div><div class="line">arr2  </div><div class="line">&gt;&gt;&gt;array ( [ 'Pyth','cctv','ibei','hell'],dtype = '|S4')</div></pre></td></tr></table></figure></p><p>size——元素总个数，即shape中个数组相乘</p><h1 id="ndarry的shape属性巧算"><a href="#ndarry的shape属性巧算" class="headerlink" title="ndarry的shape属性巧算"></a>ndarry的shape属性巧算</h1><h2 id="多维数组维度，shape算法"><a href="#多维数组维度，shape算法" class="headerlink" title="多维数组维度，shape算法"></a>多维数组维度，shape算法</h2><p>逗号分割</p><h2 id="怎么取数"><a href="#怎么取数" class="headerlink" title="怎么取数"></a>怎么取数</h2><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arr2【<span class="number">0</span>】【<span class="number">1</span>】【<span class="number">1</span>】</div></pre></td></tr></table></figure><h1 id="ndarry的常见创建方式"><a href="#ndarry的常见创建方式" class="headerlink" title="ndarry的常见创建方式"></a>ndarry的常见创建方式</h1><h2 id="array函数"><a href="#array函数" class="headerlink" title="array函数"></a>array函数</h2><p>接收一个普通python序列，转成ndarray，之前讲的</p><h2 id="zeros函数"><a href="#zeros函数" class="headerlink" title="zeros函数"></a>zeros函数</h2><p>创建指定长度或形状的全零数组<br>通过help(zeros)查看帮助<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">np.zero((<span class="number">2</span>,<span class="number">2</span>))</div><div class="line">##使用元组类型，两个括号，定义了两个维度，每个维度有两个值</div><div class="line">##<span class="number">2</span>行<span class="number">2</span>列，我觉得倒着看方便</div><div class="line">array([[<span class="number">0.</span> , <span class="number">0.</span>],            ##默认是浮点数</div><div class="line">       [<span class="number">0.</span> , <span class="number">0.</span>]])</div></pre></td></tr></table></figure></p><h2 id="ones函数"><a href="#ones函数" class="headerlink" title="ones函数"></a>ones函数</h2><p>创建指定长度或形状的全1数组，同zeros一样<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">np.ones((<span class="number">5</span>,<span class="number">6</span>,<span class="number">2</span>) ,dtype = int)</div></pre></td></tr></table></figure></p><h2 id="empty函数"><a href="#empty函数" class="headerlink" title="empty函数"></a>empty函数</h2><p>创建一个没有任何具体值的数组（准确地说是一些未初始化的垃圾值）<br>作用：<br>填充随机值<br>比如我们要做算法，一开始不知道数值，设一个随机值<br>NAN 空值，缺失值</p><h2 id="其他创建方式"><a href="#其他创建方式" class="headerlink" title="其他创建方式"></a>其他创建方式</h2><h3 id="arrange函数"><a href="#arrange函数" class="headerlink" title="arrange函数"></a>arrange函数</h3><p>类似与python的range函数，通过指定开始值、终值和步长来创建一维数组，注意数组不包括终值<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">np.arange(<span class="number">2</span>,<span class="number">20</span>,<span class="number">3</span>)</div></pre></td></tr></table></figure></p><h3 id="linspace函数"><a href="#linspace函数" class="headerlink" title="linspace函数"></a>linspace函数</h3><p>通过指定开始值、终值和元素个数来创建一维数组，可以通过endpoint关键字指定是否包括终值，缺省设置是包括终值，等差数列</p><h3 id="logspace函数"><a href="#logspace函数" class="headerlink" title="logspace函数"></a>logspace函数</h3><p>和linspace类似，不过它创建等比数列<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">np.logspace(<span class="number">2</span>,<span class="number">20</span>,<span class="number">3</span>)</div><div class="line">##第一个值代表<span class="number">10</span>的<span class="number">2</span>次方，第二个代表<span class="number">10</span>的<span class="number">20</span>次方，第三个代表生成元素的个数</div></pre></td></tr></table></figure></p><h3 id="以上皆为一维数组，如何生成多维数组（转置）"><a href="#以上皆为一维数组，如何生成多维数组（转置）" class="headerlink" title="以上皆为一维数组，如何生成多维数组（转置）"></a>以上皆为一维数组，如何生成多维数组（转置）</h3><p>reshape<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">np.arange(<span class="number">2</span>,<span class="number">20</span>,<span class="number">2</span>).reshape((<span class="number">3</span>,<span class="number">3</span>))</div><div class="line">np.arange(<span class="number">2</span>,<span class="number">20</span>,<span class="number">2</span>).reshape((<span class="number">3</span>,<span class="number">-1</span>))</div><div class="line">##<span class="number">-1</span>代表根据前面的数自动计算后面的数</div></pre></td></tr></table></figure></p><h3 id="使用随机数填充数组"><a href="#使用随机数填充数组" class="headerlink" title="使用随机数填充数组"></a>使用随机数填充数组</h3><p>即用numpy.random模块的random()函数，数组所包含的元素数量由参数决定<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">np.random.random((2,3,4))</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#随机数范围一般在0-1之间</span></span></div><div class="line">np.random.random_sample()</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#生成每一位随机数的方法</span></span></div></pre></td></tr></table></figure></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>先规范显示出数组，<br>层层去中括号对，直到无中括号对，每去一个层，一个维度，去掉一层[]，后的元素个数（逗号隔开）即该维度的元素个数。</p><h1 id="Numpy中的数据类型"><a href="#Numpy中的数据类型" class="headerlink" title="Numpy中的数据类型"></a>Numpy中的数据类型</h1><h2 id="创建时"><a href="#创建时" class="headerlink" title="创建时"></a>创建时</h2><p>创建Numpy数组时可以通过dtype属性显式指定数据类型，如果不指定Numpy会自己判断出合适的数据类型，所以一般无需显式指定。</p><h2 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h2><p>astype方法，可以转换数组的元素数据类型，得到一个新数组<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">arr2 = np.arange(2,10,2)</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#建立数组</span></span></div><div class="line">arr2.dtype</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#查看类型</span></span></div><div class="line">arr3 = arr2.astype('float‘）</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#转换为浮点格式</span></span></div><div class="line">arr4 = arr2.astype('|U2')</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#使用Unicode编码，每个元素长度为2</span></span></div><div class="line">arr5 = arr2.astype('|S2')</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#使用string编码（转换为十六进制编码），每个元素长度为2</span></span></div><div class="line">arr6 = np.array([1,2,3,'4'], dtype = np.float)</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#建议使用np中自带的形式np.float去处理，规范写法</span></span></div></pre></td></tr></table></figure></p><h2 id="改变array形状"><a href="#改变array形状" class="headerlink" title="改变array形状"></a>改变array形状</h2><h3 id="reshape"><a href="#reshape" class="headerlink" title="reshape"></a>reshape</h3><p>形状可变，元素总数不可变<br>不改变原来的ndarray,得到新的ndarray是原数组的视图</p><h3 id="视图的概念"><a href="#视图的概念" class="headerlink" title="视图的概念"></a>视图的概念</h3><h4 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h4><p>相当于多个变量使用（指向）一个内存地址（空间）<br>只要修改一个，都会修改</p><h4 id="副本"><a href="#副本" class="headerlink" title="副本"></a>副本</h4><p>复制一份放到新的内存空间<br>修改其中一个副本，其他的不会改变<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attr">arr3</span> = arr.copy()</div><div class="line"><span class="comment">##拷贝，生成副本</span></div></pre></td></tr></table></figure></p><p>因此对于ndarray的一些方法操作，首先区分是否会改变原来变量，以此来判断是视图还是副本<br>表格详见PPT，引号内填的一般是类型代码</p><h1 id="Nnmpy基本操作"><a href="#Nnmpy基本操作" class="headerlink" title="Nnmpy基本操作"></a>Nnmpy基本操作</h1><p>数组与标量、数组之间的运算</p><h2 id="numpy的算术运算"><a href="#numpy的算术运算" class="headerlink" title="numpy的算术运算"></a>numpy的算术运算</h2><p>加法<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">arr = np.arange(<span class="number">0</span>,<span class="number">20</span>,<span class="number">2</span>)</div><div class="line">arr + <span class="number">2</span>           ##会给每一个元素都加<span class="number">2</span></div></pre></td></tr></table></figure></p><p>或者：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">arr2 = np.arange(<span class="number">2</span>,<span class="number">40</span>,<span class="number">4</span>)    ##相加的数组形状要一样</div><div class="line">arr + arr2                  ##同一位置的做加法运算</div></pre></td></tr></table></figure></p><p>加减乘除基本相同<br>除法可能警告除数可能为零，结果为0<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">##怎么处理?</div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division        ##保证数据合法性</div><div class="line">arr2/arr           ##还是会警告，不过异常值原来为<span class="number">0</span>现在为nan</div></pre></td></tr></table></figure></p><ul><li>数组算数运算必须保证两边数组形状一致。</li><li>元素级的运算。<h2 id="数据的矩阵积（matrix-product）"><a href="#数据的矩阵积（matrix-product）" class="headerlink" title="数据的矩阵积（matrix product）"></a>数据的矩阵积（matrix product）</h2>1.满足第一个矩阵的列数与第二个矩阵的行数相同，才可以进行矩阵乘法——为保证每个元素都有的乘<br>2.矩阵积不是元素级运算<br>3.Excel案例<figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">##取随机数</div><div class="line">=<span class="built_in">randbetween</span>(<span class="number">0</span>,<span class="number">10</span>)</div><div class="line">##求每个公司花费的总金额和购买的产品大小</div></pre></td></tr></table></figure></li></ul><h1 id="索引和切片"><a href="#索引和切片" class="headerlink" title="索引和切片"></a>索引和切片</h1><h2 id="索引与切片"><a href="#索引与切片" class="headerlink" title="索引与切片"></a>索引与切片</h2><p>两种方法：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">new_arr1 [<span class="string">1 </span>][<span class="symbol"> 1 </span>]</div><div class="line">new_arr1 [ 1,1 ]</div></pre></td></tr></table></figure></p><p>例子：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">new_arr1 [1]</div><div class="line">new_arr1 [ 1,0:]                        ##普遍写法</div><div class="line">new_arr1 [0, 0:2 ,1:3 ]                 ##嵌套取数</div><div class="line"><span class="section">##或者</span></div><div class="line">new_arr1 [<span class="string">0</span>] [<span class="string"> 0 : 2 </span>][<span class="symbol"> 1 </span>] [ 1 : 3 ]</div></pre></td></tr></table></figure></p><ul><li>切片是视图<h2 id="布尔型索引"><a href="#布尔型索引" class="headerlink" title="布尔型索引"></a>布尔型索引</h2><h3 id="筛选作用"><a href="#筛选作用" class="headerlink" title="筛选作用"></a>筛选作用</h3>快速筛选数据在不在某个范围内<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">arr3 &gt; 0.5</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#进行判断，输出ture false矩阵</span></span></div><div class="line">arr3[arr3 &gt;0.5]</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#可以把满足条件的值取出来</span></span></div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#true的位置取出来，组成新数组</span></span></div><div class="line">arr4 [arr4 =='Tom'] = 1</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#数据替换，将tom替换为1</span></span></div></pre></td></tr></table></figure></li></ul><h3 id="与非或操作"><a href="#与非或操作" class="headerlink" title="与非或操作"></a>与非或操作</h3><p>数据规整：与&amp;或|非~</p><h2 id="花式索引"><a href="#花式索引" class="headerlink" title="花式索引"></a>花式索引</h2><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">arr = np.arange (<span class="number">32</span>).reshape((<span class="number">8</span>,<span class="number">4</span>))</div><div class="line">arr [[<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>]]</div><div class="line">arr [[<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>],[<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>]]  </div><div class="line">    ##前一个取出对应行，后一个取出对应列</div><div class="line">##整数数组形式索引</div><div class="line">ix</div><div class="line">##ix函数产生一个索引器</div></pre></td></tr></table></figure><p>详见PPT<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ix</div><div class="line">np.ix_([<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>],[<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>])</div><div class="line">np.ix_([<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>],[<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>])</div><div class="line">##而且进行了重新排列</div></pre></td></tr></table></figure></p><h1 id="数组转置与轴兑换"><a href="#数组转置与轴兑换" class="headerlink" title="数组转置与轴兑换"></a>数组转置与轴兑换</h1><h2 id="数组的T属性"><a href="#数组的T属性" class="headerlink" title="数组的T属性"></a>数组的T属性</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">arr.transpose()      ##生成视图</div><div class="line">arr.T                ##生成视图</div></pre></td></tr></table></figure><h2 id="轴兑换"><a href="#轴兑换" class="headerlink" title="轴兑换"></a>轴兑换</h2><h1 id="通用函数"><a href="#通用函数" class="headerlink" title="通用函数"></a>通用函数</h1><p>1.快速的元素级数组函数<br>2.ufunc<br>一种对ndarray中的数据执行元素级运算的函数，也可以看做简单函数的矢量化包装器<br>简单函数:接收一个或多个标量值，并产生一个或多个标量值<br>3.常见的一元通用函数<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#详见PPT</span></span></div><div class="line">np.isnan(arr3)</div></pre></td></tr></table></figure></p><p>4.常见的二元通用函数<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">np</span><span class="selector-class">.power</span>(<span class="selector-tag">arr</span>,<span class="selector-tag">arr2</span>)</div></pre></td></tr></table></figure></p><p>5.聚合函数</p><ul><li>对一组值进行操作，返回一个单一值作为结果的函数</li><li>因此求数组所有元素之和、最大最小标准差就是聚合函数</li><li>聚合函数可以指定对数值的某个轴元素进行操作:<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arr<span class="selector-class">.mean</span> (axis =<span class="number">0</span>)</div></pre></td></tr></table></figure></li></ul><h1 id="np-where函数"><a href="#np-where函数" class="headerlink" title="np.where函数"></a>np.where函数</h1><p>np.where函数是三元表达式 x if condition else y 的矢量化版本<br>实现数据的过滤操作<br>例子<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">xarr = np.array( [<span class="number">1.1</span>,<span class="number">2.2</span>,<span class="number">3.3</span>,<span class="number">4.4</span>])</div><div class="line">yarr = np.array( [<span class="number">1.2</span>,<span class="number">2.3</span>,<span class="number">3.4</span>,<span class="number">4.5</span>])</div><div class="line">bool_arr=np.array([<span class="literal">True</span>,<span class="literal">False</span>,<span class="literal">False</span>,<span class="literal">True</span>])   ##布尔数组</div><div class="line">zip_arr = zip (xarr,yarr,bool_arr)           ##数组合并</div><div class="line">result = [<span class="string">'%.2f'</span> % x <span class="keyword">if</span> bl else <span class="string">'%.2f'</span> % y  for x,y,bl <span class="keyword">in</span> zip_arr ]</div><div class="line">##三元表达式，满足条件输出，附带格式化功能</div><div class="line">np.<span class="keyword">where</span> (bool_arr,xarr,yarr)</div><div class="line">##如果用np.<span class="keyword">where</span>可以这么做</div><div class="line">##np.<span class="keyword">where</span>(表达式数组，当前表达式为<span class="literal">True</span>提取数据的数组，当前表达式为<span class="literal">False</span>提取数据的数组）</div><div class="line">result = [（ x <span class="keyword">if</span> bl else  y）  for x,y,bl <span class="keyword">in</span> zip_arr <span class="keyword">if</span> x &gt;<span class="number">2</span> ]</div><div class="line">##先做for 取出数值，然后做<span class="keyword">if</span>&gt;<span class="number">2</span>,如果大于<span class="number">2</span>，进行前面三元表达式操作，如果不大于就不操作</div></pre></td></tr></table></figure></p><h1 id="np-unique函数"><a href="#np-unique函数" class="headerlink" title="np.unique函数"></a>np.unique函数</h1><p>求数组中不重复的元素<br>例子:<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">arr = <span class="built_in">np</span>.<span class="built_in">array</span>(['中国‘，’中国‘，’中国‘，’美国‘，’英国‘])</div><div class="line">arr</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> arr: </div><div class="line">    <span class="built_in">print</span> i</div><div class="line">这样才可以显示中文</div><div class="line">arr1 = <span class="built_in">np</span>.<span class="built_in">unique</span>(arr)</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> arr: </div><div class="line">    <span class="built_in">print</span> i                ##检查发现没有重复值了</div></pre></td></tr></table></figure></p><h1 id="数组数据文件读取"><a href="#数组数据文件读取" class="headerlink" title="数组数据文件读取"></a>数组数据文件读取</h1><p>分两种</p><h2 id="将数组以二进制格式保存到磁盘"><a href="#将数组以二进制格式保存到磁盘" class="headerlink" title="将数组以二进制格式保存到磁盘"></a>将数组以二进制格式保存到磁盘</h2><h3 id="save写数据"><a href="#save写数据" class="headerlink" title="save写数据"></a>save写数据</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">arr = <span class="built_in">np</span>.<span class="built_in">random</span>.<span class="built_in">random</span>((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</div><div class="line"><span class="built_in">np</span>.<span class="built_in">save</span>('data',arr)</div><div class="line">    ##将多维数组存储到文件，自动添加后缀.npy（二进制文件，记事本无法打开）</div></pre></td></tr></table></figure><h3 id="load读取二进制形式的数据文件"><a href="#load读取二进制形式的数据文件" class="headerlink" title="load读取二进制形式的数据文件"></a>load读取二进制形式的数据文件</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attr">arr2</span> = np.load(<span class="string">'data.npy'</span>)</div><div class="line"><span class="comment">##读取文件时，需要后缀</span></div></pre></td></tr></table></figure><h2 id="存取文本文件"><a href="#存取文本文件" class="headerlink" title="存取文本文件"></a>存取文本文件</h2><h3 id="读取数据"><a href="#读取数据" class="headerlink" title="读取数据"></a>读取数据</h3><h4 id="np-loadtxt"><a href="#np-loadtxt" class="headerlink" title="np.loadtxt"></a>np.loadtxt</h4><blockquote><p>fname 文件名，dtype 数据类型，comments 注释行的符号定义，delimiter 数据分隔符的定义，converteres 转换函数，skipprows 跳过的行数，usecols 使用哪些列<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">arr4 = np.loadtxt(<span class="string">'example.csv'</span>,delimiter = <span class="string">','</span> )</div><div class="line"> ##数字自动转为浮点数</div><div class="line"> ##如果原始数据中没有分隔符，用空格，就不用设置分隔符delimiter</div></pre></td></tr></table></figure></p></blockquote><h4 id="np-genfromtxt"><a href="#np-genfromtxt" class="headerlink" title="np.genfromtxt"></a>np.genfromtxt</h4><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">np.genfromtxt(<span class="string">'example.csv'</span>,delimiters = <span class="string">','</span>)</div><div class="line">##类似loatxt</div></pre></td></tr></table></figure><h3 id="写入文本文件"><a href="#写入文本文件" class="headerlink" title="写入文本文件"></a>写入文本文件</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">np.savetxt(<span class="string">'arr.csv'</span>,arr5,delimiter = <span class="string">','</span>)</div><div class="line">##自动写入了科学计算法</div><div class="line"></div><div class="line">np.savetxt(<span class="string">'arr.csv'</span>,arr5,delimiter = <span class="string">','</span>  ,fmt = <span class="string">'%.2f'</span>)</div><div class="line"></div><div class="line">np.savetxt(<span class="string">'arr.csv'</span>,arr5.reshape((<span class="number">2</span>,<span class="number">6</span>)),delimiter = <span class="string">','</span>  ,fmt = <span class="string">'%.2f'</span>)</div><div class="line">##修改形状后写入</div><div class="line"></div><div class="line">arr3 = np.random.random((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</div><div class="line">##如果使用随机数，可能会报错，因为可能不是二维数组</div><div class="line">##如果数组为二维以上数组，必须转换为二维数组才能存储</div><div class="line"></div><div class="line">np.savetxt(<span class="string">'arr1.csv'</span>,arr3.reshape((<span class="number">4</span>,<span class="number">6</span>)),delimiter = <span class="string">','</span>)</div><div class="line">##解决办法，改变形状后，可以存进去</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h1&gt;&lt;p&gt;通过Anconda安装&lt;/p&gt;
&lt;h1 id=&quot;网页形式的编辑器&quot;&gt;&lt;a href=&quot;#网页形式的编辑器&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="python" scheme="https://chumingke.github.io/categories/python/"/>
    
      <category term="numpy" scheme="https://chumingke.github.io/categories/python/numpy/"/>
    
    
      <category term="python" scheme="https://chumingke.github.io/tags/python/"/>
    
      <category term="numpy" scheme="https://chumingke.github.io/tags/numpy/"/>
    
  </entry>
  
  <entry>
    <title>Python2.7学习笔记（二）</title>
    <link href="https://chumingke.github.io//blog/2017/10/Python2-7-learning-notes-2.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Python2-7-learning-notes-2.html</id>
    <published>2017-10-08T08:04:32.000Z</published>
    <updated>2017-10-08T08:05:05.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="第二部分"><a href="#第二部分" class="headerlink" title="第二部分"></a>第二部分</h1><h2 id="高级特性"><a href="#高级特性" class="headerlink" title="高级特性"></a>高级特性</h2><h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><h3 id="迭代"><a href="#迭代" class="headerlink" title="迭代"></a>迭代</h3><p>1.如果给定一个list或tuple我们可以通过for循环来历遍这个list后者tuple。<br>这种历遍我们称为迭代（Iteration)<br>2.dict<br>由于dict的储存不是按照list的方式顺序排列，所以迭代出的结果顺序可能不一样。<br>默认dict迭代的是key,如果要迭代value：<br><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> <span class="keyword">value</span> <span class="keyword">in</span> d.itervalues()</div></pre></td></tr></table></figure></p><p>如果要同时迭代:<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> d.iteritems()</div></pre></td></tr></table></figure></p><p>3.怎么判断是否可以迭代?<br>使用collections模块的iterable<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">form</span> collections import Iterable</div><div class="line"><span class="function"><span class="title">isinstanc</span><span class="params">(<span class="string">'abs'</span>,Iterable)</span></span></div></pre></td></tr></table></figure></p><p>4.下标循环<br>java通过下标循环<br>如果想在python中实现类似下标循环<br>内置的enumerate函数可以吧list编程索引-元素对<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> <span class="selector-tag">i</span>,value <span class="keyword">in</span> enumerate([<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>]):</div></pre></td></tr></table></figure></p><h3 id="列表生成式"><a href="#列表生成式" class="headerlink" title="列表生成式"></a>列表生成式</h3><p>1.列表生成式即List Comprehensions<br>内置的非常简单强大可以用来创建list的生成式<br>2.直接在列表里面写上公式<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[ x*x for x <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">11</span>) <span class="keyword">if</span> x%<span class="number">2</span> == <span class="number">0</span> ]</div><div class="line">##还可以写两层循环，生成全排列</div><div class="line">##三层及以上使用较少</div></pre></td></tr></table></figure></p><p>3.列表生成式也可以使用两个变量生成list<br>4.最后把一个list中所有的字符串变小写</p><h3 id="生成器（Generator）"><a href="#生成器（Generator）" class="headerlink" title="生成器（Generator）"></a>生成器（Generator）</h3><p>1.如果列表元素可以按照某种算法推算出来，那我们是否可以在循环过程中不断推算出后续的元素而不必创建完整的list。python中这种一边循环一边计算的机制，称为生成器<br>2.只要把列表的[]改成（），就创建了一个generator<br>3.如果一个函数定义中包含yield关键字，那这个函数就是一个generator<br>4.generator和函数的执行流程不一样<br>函数是顺序执行，遇到return语句或者最后一行函数语句就返回。<br>而变成generator的函数，在每次调用next()的时候执行，遇到yield语句返回，再次执行时从上次返回的yield语句处继续执行。<br>5.generator是非常强大的工具<br>6.斐波那契数列<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">def fib(max):</div><div class="line">n,a,<span class="attribute">b</span>=0,0,1</div><div class="line"><span class="keyword">while</span> n &lt; max:</div><div class="line"><span class="builtin-name">print</span> b</div><div class="line">a,<span class="attribute">b</span>=b,a+b</div><div class="line">n = n+1</div></pre></td></tr></table></figure></p><p>7.将斐波那契数列函数改为generator<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">##将print <span class="keyword">b </span>改为<span class="keyword">yield </span><span class="keyword">b</span></div><div class="line"><span class="keyword">def </span>fib(max):</div><div class="line">n,a,<span class="keyword">b=0,0,1</span></div><div class="line"><span class="keyword">while </span>n &lt; max:</div><div class="line"><span class="keyword">yield </span><span class="keyword">b</span></div><div class="line"><span class="keyword">a,b=b,a+b</span></div><div class="line"><span class="keyword">n </span>= n+<span class="number">1</span></div></pre></td></tr></table></figure></p><h2 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h2><h3 id="高阶函数（Higher-order-function）"><a href="#高阶函数（Higher-order-function）" class="headerlink" title="高阶函数（Higher-order function）"></a>高阶函数（Higher-order function）</h3><h4 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h4><p>1.变量可以指向函数<br>2.函数名也是变量<br>如果不慎将固定函数名指向其他变量，想要恢复只能重启python交互环境。<br>3.传入函数<br>将函数作为另一个函数的参数：高阶函数。</p><h4 id="map-reduce"><a href="#map-reduce" class="headerlink" title="map/reduce"></a>map/reduce</h4><h5 id="map"><a href="#map" class="headerlink" title="map"></a>map</h5><p>1.接受两个参数，第一个是函数，一个是序列<br>2.map将传入的函数一次作用到序列的每个元素，并把结果作为新的list返回<br>3.不改变原列表，返回新列表</p><h5 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h5><p>1.把一个函数作用在一个序列上，该函数必须接收两个参数，并把结果和序列的下一个参数做累计计算<br>2.例如阶乘<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">reduce(<span class="name">f</span>,[ x1,x2,x3,x4])   =    f(<span class="name">f</span>(<span class="name">f</span>(<span class="name">x1</span>,x2),x3),x4)</div></pre></td></tr></table></figure></p><p>3.可以写一个把字符串转化为整数的函数</p><h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><p>1.用于过滤序列<br>筛选函数<br>2.也是接收一个函数和一个序列，并把函数依次作用于每个元素，根据返回值是True还是False决定保留还是丢弃该元素<br>3.在一个list中，删掉偶数，只保留奇数，可以这么写<br>4.把一个序列中的空字符串删掉，可以这么写</p><h4 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h4><p>1.排序算法<br>2.通常规定，对于两个元素xy,如果认为x &lt; y,则返回-1，如果认为x == y ,则返回0，如果认为x&gt;y，则返回1<br>3.可以sorted()直接排序<br>4.sorted也是一个高阶函数，同样可以接收一个比较函数来实现自定义的排序<br>如果要倒序排序<br>如果要按字母序排序字符串</p><h3 id="返回函数"><a href="#返回函数" class="headerlink" title="返回函数"></a>返回函数</h3><p>1.高阶函数除了可以接受函数作为参数外，还可以把函数作为结果值返回<br>2.我们来实现一个可变参数的求和<br>通常情况下<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc_sum</span><span class="params">(*args)</span></span><span class="symbol">:</span></div><div class="line">    ax = <span class="number">0</span></div><div class="line">   <span class="keyword">for</span> n <span class="keyword">in</span> <span class="symbol">args:</span></div><div class="line">        ax = ax+n</div><div class="line">   <span class="keyword">return</span> ax</div></pre></td></tr></table></figure></p><p>如果不需要立即求和，而是在后面的代码中，根据需要再计算，可以不返回求和结果，而返回求和函数<br>这种称为“闭包（closure)”的程序结构拥有极大威力<br>例子<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">lazy_sum</span><span class="params">(*args)</span></span><span class="symbol">:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">()</span></span><span class="symbol">:</span></div><div class="line">        ax = <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> <span class="symbol">args:</span></div><div class="line">            ax = ax +n</div><div class="line">        <span class="keyword">return</span> ax</div><div class="line">    <span class="keyword">return</span> sum</div></pre></td></tr></table></figure></p><p>当我们调用lazy_sum（）时，返回的并不是求和结果，而是求和函数<br>3.返回函数不要引用任何循环变量，或者后续会发生变化的变量<br>4.如果一定要引用，方法是再创建一个函数，用该函数的参数绑定循环变量当前的值，无论该循环变量后续如何更改，已绑定到函数参数的值不变，缺点是代码比较长，可利用lambda函数缩短代码。</p><h3 id="匿名函数lambda"><a href="#匿名函数lambda" class="headerlink" title="匿名函数lambda"></a>匿名函数lambda</h3><figure class="highlight llvm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">map ( lambda <span class="keyword">x</span>: <span class="keyword">x</span>*<span class="keyword">x</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>])</div><div class="line">lambda <span class="keyword">x</span>: <span class="keyword">x</span>*<span class="keyword">x</span></div><div class="line">##等价于:</div><div class="line">def f(<span class="keyword">x</span>)</div><div class="line">    return <span class="keyword">x</span>*<span class="keyword">x</span></div><div class="line">##<span class="keyword">x</span>表示函数参数</div></pre></td></tr></table></figure><p>匿名函数有个限制，只能有一个表达式，不用写return,返回值就是该表达式的结果。</p><h3 id="装饰器-Decorator"><a href="#装饰器-Decorator" class="headerlink" title="装饰器(Decorator)"></a>装饰器(Decorator)</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>1.函数也是对象，函数对象可以被赋值给变量，所以可以通过变量调用函数<br>2.函数有一个<strong>name</strong>属性，可以获取函数名<br>3.现在我们要增强一个函数的功能，比如，在函数前后自动打印日志。又不想修改该函数的定义，这种在代码运行期间动态增加功能的方式，我们称之为装饰器<br>4.本质上，Decorator就是一个返回函数的高阶函数</p><h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">import functools</div><div class="line">def <span class="built_in">log</span>(<span class="function"><span class="keyword">func</span>):</span></div><div class="line">    <span class="symbol">@functools</span>.wraps(<span class="function"><span class="keyword">func</span>)</span></div><div class="line">    def wrapper(*args, **kw):</div><div class="line">        print <span class="string">'call %s():'</span> % <span class="function"><span class="keyword">func</span>.<span class="title">__name__</span></span></div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(*args, **kw)</span></span></div><div class="line">    <span class="keyword">return</span> wrapper</div></pre></td></tr></table></figure><h3 id="偏函数"><a href="#偏函数" class="headerlink" title="偏函数"></a>偏函数</h3><h4 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h4><blockquote><p>python的 functools 模块提供了很多有用的功能，其中一个就是偏函数 （Partial function) 。此处偏函数和数学意义上的不一样。<br>偏函数可以类似设定参数默认值，降低函数调用的难度。</p><h4 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h4><p>1.int函数提供额外的base参数，默认为10，可以做N进制转换：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">int ('<span class="number">12345</span>' ,base = <span class="number">8</span>)</div><div class="line"><span class="number">5349</span></div><div class="line">int ('<span class="number">12345</span>' ,<span class="number">16</span>)</div><div class="line"><span class="number">74565</span></div></pre></td></tr></table></figure></p></blockquote><p>2.假如要转换大量的二进制字符串，每次都传入int(x,base=2）非常麻烦，于是，我们想到可以定义一个int2()的函数<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">int2</span> <span class="params">(x,base =<span class="number">20</span></span></span></div><div class="line"><span class="function"><span class="params">    <span class="keyword">return</span> int(x,base)</span></span></div></pre></td></tr></table></figure></p><p>3.functools.partial可以帮助我们创建偏函数，不需要自己定义int2()<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import functools</div><div class="line">int2 = functools.<span class="keyword">partial</span>(<span class="keyword">int</span>,<span class="keyword">base</span> =<span class="number">2</span>)</div></pre></td></tr></table></figure></p><p>4.简单地说，functools.partial的作用就是，把一个函数的某些参数给固定住（也就是设置默认值），返回一个新的函数，调用会更简单）<br>5.注意上面新的int2函数，仅仅是把base参数重新设定默认值为2，但也可以在函数调用时传入其他值</p><blockquote><p>当函数的参数个数太多，需要简化时，使用functools.partial创建一个新函数，这个新函数可以固定住原函数的部分参数</p><h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><h3 id="使用模块"><a href="#使用模块" class="headerlink" title="使用模块"></a>使用模块</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><p>一个.py文件就称之为一个模块（Module）</p><h4 id="包（Package）"><a href="#包（Package）" class="headerlink" title="包（Package）:"></a>包（Package）:</h4><p>1.你也许还想到，如果不同的人编写的模块名相同怎么办？为了避免模块名冲突，Python又引入了按目录来组织模块的方法，称为包（Package）</p></blockquote><p>2.引入了包以后，只要顶层的包名不与别人冲突，那所有模块都不会与别人冲突。现在，abc.py模块的名字就变成了mycompany.abc，类似的，xyz.py的模块名变成了mycompany.xyz</p><p>3.每一个包目录下面都会有一个<strong>init</strong>.py的文件<br>这个文件是必须存在的，否则，Python就把这个目录当成普通目录，而不是一个包。<br><strong>init</strong>.py可以是空文件，也可以有Python代码<br>因为<strong>init</strong>.py本身就是一个模块，而它的模块名就是mycompany<br>类似的，可以有多级目录，组成多级层次的包结构<br>文件www.py的模块名就是mycompany.web.www</p><h4 id="例子-2"><a href="#例子-2" class="headerlink" title="例子"></a>例子</h4><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">#!/usr/bin/env python   </div><div class="line">##第<span class="number">1</span>行和第<span class="number">2</span>行是标准注释，第<span class="number">1</span>行注释可以让这个hello.py文件直接在Unix/Linux/Mac上运行</div><div class="line"># -*- coding: utf<span class="number">-8</span> -*-</div><div class="line">##第<span class="number">2</span>行注释表示.py文件本身使用标准UTF<span class="number">-8</span>编码；</div><div class="line"></div><div class="line"><span class="string">' a test module '</span>         </div><div class="line">##第<span class="number">4</span>行是一个字符串，表示模块的文档注释，任何模块代码的第一个字符串都被视为模块的文档注释；</div><div class="line"></div><div class="line">__author__ = <span class="string">'Michael Liao'</span></div><div class="line">##第<span class="number">6</span>行使用__author__变量把作者写进去，这样当你公开源代码后别人就可以瞻仰你的大名；                                       </div><div class="line">##以上就是Python模块的标准文件模板，当然也可以全部删掉不写，但是，按标准办事肯定没错。</div><div class="line"><span class="keyword">import</span> sys                    ##导入该模块</div><div class="line">def test():</div><div class="line">    args = sys.argv</div><div class="line">    <span class="keyword">if</span> len(args)==<span class="number">1</span>:</div><div class="line">        print <span class="string">'Hello, world!'</span></div><div class="line">    elif len(args)==<span class="number">2</span>:</div><div class="line">        print <span class="string">'Hello, %s!'</span> % args[<span class="number">1</span>]</div><div class="line">    else:</div><div class="line">        print <span class="string">'Too many arguments!'</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</div><div class="line">##当我们在命令行运行hello模块文件时，Python解释器把一个特殊变量__name__置为__main__，而如果在其他地方导入该hello模块时，<span class="keyword">if</span>判断将失败，因此，这种<span class="keyword">if</span>测试可以让一个模块通过命令行运行时执行一些额外的代码，最常见的就是运行测试。</div><div class="line">##直接在命令行，可以调用</div><div class="line">##在交互环境，仅导入不能运行函数，需要调用</div><div class="line">    test()</div></pre></td></tr></table></figure><h4 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h4><p>1.导入模块时，还可以使用别名，这样，可以在运行时根据当前环境选择最合适的模块<br>2.比如Python标准库一般会提供StringIO和cStringIO两个库<br>3.两个库的接口和功能是一样的，但是cStringIO是C写的，速度更快<br>所以，你会经常看到这样的写法:<br><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>:</div><div class="line">    <span class="keyword">import</span> cStringIO <span class="keyword">as</span> <span class="type">StringIO</span></div><div class="line"><span class="keyword">except</span> <span class="type">ImportError</span>: <span class="comment"># 导入失败会捕获到ImportError</span></div><div class="line">    <span class="keyword">import</span> <span class="type">StringIO</span></div></pre></td></tr></table></figure></p><p>这样就可以优先导入cStringIO。如果有些平台不提供cStringIO，还可以降级使用StringIO。导入cStringIO时，用import … as …指定了别名StringIO，因此，后续代码引用StringIO即可正常工作</p><p>4.还有类似simplejson这样的库，在Python 2.6之开始内置，所以，会有这样的写法：<br><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>:</div><div class="line">    <span class="keyword">import</span> json <span class="comment"># python &gt;= 2.6</span></div><div class="line"><span class="keyword">except</span> <span class="type">ImportError</span>:</div><div class="line">    <span class="keyword">import</span> simplejson <span class="keyword">as</span> json <span class="comment"># python &lt;= 2.5</span></div></pre></td></tr></table></figure></p><p>5.由于Python是动态语言，函数签名一致接口就一样，因此，无论导入哪个模块后续代码都能正常工作。</p><h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><p>在一个模块中，我们可能会定义很多函数和变量<br>1.有的函数和变量我们希望给别人使用</p><p>正常的函数和变量名是公开的（public），可以被直接引用<br>比如：abc，x123，PI等</p><p>2.有的函数和变量我们希望仅仅在模块内部使用<br>在Python中，是通过_前缀来实现的<br>类似<strong>xxx</strong>这样的变量是特殊变量，可以被直接引用，但是有特殊用途<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">比如上面的<span class="strong">__author__</span>，<span class="strong">__name__</span>就是特殊变量</div><div class="line">hello模块定义的文档注释也可以用特殊变量<span class="strong">__doc__</span>访问</div><div class="line">我们自己的变量一般不要用这种变量名</div></pre></td></tr></table></figure></p><p>类似_xxx和__xxx这样的函数或变量就是非公开的（private），不应该被直接引用<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">比如<span class="variable">_abc</span>，<span class="variable">__abc</span>等</div></pre></td></tr></table></figure></p><p>从编程习惯上不应该引用private函数或变量<br>例子<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">_private_1</span><span class="params">(name)</span>:</span></div><div class="line">    <span class="keyword">return</span> <span class="string">'Hello, %s'</span> % name</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">_private_2</span><span class="params">(name)</span>:</span></div><div class="line">    <span class="keyword">return</span> <span class="string">'Hi, %s'</span> % name</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">greeting</span><span class="params">(name)</span>:</span></div><div class="line">    <span class="keyword">if</span> len(name) &gt; <span class="number">3</span>:</div><div class="line">        <span class="keyword">return</span> _private_1(name)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">return</span> _private_2(name)</div></pre></td></tr></table></figure></p><p>我们在模块里公开greeting()函数，而把内部逻辑用private函数隐藏起来了。<br>这样，调用greeting()函数不用关心内部的private函数细节。<br>这也是一种非常有用的代码封装和抽象的方法。<br>即：外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public。</p><h3 id="使用第三方模块"><a href="#使用第三方模块" class="headerlink" title="使用第三方模块"></a>使用第三方模块</h3><h3 id="使用future"><a href="#使用future" class="headerlink" title="使用future"></a>使用<strong>future</strong></h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;第二部分&quot;&gt;&lt;a href=&quot;#第二部分&quot; class=&quot;headerlink&quot; title=&quot;第二部分&quot;&gt;&lt;/a&gt;第二部分&lt;/h1&gt;&lt;h2 id=&quot;高级特性&quot;&gt;&lt;a href=&quot;#高级特性&quot; class=&quot;headerlink&quot; title=&quot;高级特性&quot;&gt;&lt;/a
      
    
    </summary>
    
      <category term="python" scheme="https://chumingke.github.io/categories/python/"/>
    
    
      <category term="python" scheme="https://chumingke.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python2.7 learning notes</title>
    <link href="https://chumingke.github.io//blog/2017/10/Python2-7-learning-notes-1.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Python2-7-learning-notes-1.html</id>
    <published>2017-10-08T08:03:58.000Z</published>
    <updated>2017-10-08T08:03:58.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Python2.7学习笔记（一）</title>
    <link href="https://chumingke.github.io//blog/2017/10/Python2-7-learning-notes.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Python2-7-learning-notes.html</id>
    <published>2017-10-08T06:16:27.000Z</published>
    <updated>2017-10-08T06:17:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>廖老师的教程<a href="https://www.liaoxuefeng.com" target="_blank" rel="external">https://www.liaoxuefeng.com</a></p><h1 id="第一部分"><a href="#第一部分" class="headerlink" title="第一部分"></a>第一部分</h1><h2 id="python简介"><a href="#python简介" class="headerlink" title="python简介"></a>python简介</h2><p>优缺点</p><h2 id="安装python"><a href="#安装python" class="headerlink" title="安装python"></a>安装python</h2><p>python解释器：<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">Python</span></div><div class="line"><span class="attribute">IPython</span></div><div class="line"><span class="attribute">JPython</span></div><div class="line"><span class="attribute">CPython</span></div><div class="line"><span class="attribute">ironPython</span></div></pre></td></tr></table></figure></p><h2 id="第一个python程序"><a href="#第一个python程序" class="headerlink" title="第一个python程序"></a>第一个python程序</h2><h3 id="使用文本编辑器"><a href="#使用文本编辑器" class="headerlink" title="使用文本编辑器"></a>使用文本编辑器</h3><p>推荐两个:<br>Sublime Text——免费<br>Notepad++——免费 中文界面</p><h3 id="运行py"><a href="#运行py" class="headerlink" title="运行py"></a>运行py</h3><p>终端如何使用py文件：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#定位到根目录下</span></span></div><div class="line">cd ...untitled</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#然后 python helloworld.py</span></span></div></pre></td></tr></table></figure></p><p>怎么直接运行py<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash">!/usr/bin/env python    <span class="comment">##首先要在.py文件的第一行加上</span></span></div><div class="line"><span class="meta">$</span><span class="bash">  chmod a+x hello.py    <span class="comment">##然后通过命令</span></span></div></pre></td></tr></table></figure></p><h3 id="输入和输出"><a href="#输入和输出" class="headerlink" title="输入和输出"></a>输入和输出</h3><p>输出：print<br>输入：raw_input()</p><h2 id="python基础"><a href="#python基础" class="headerlink" title="python基础"></a>python基础</h2><h3 id="关于缩进"><a href="#关于缩进" class="headerlink" title="关于缩进"></a>关于缩进</h3><p>缩进的坏处是“复制-粘贴”功能失效了。<br>粘贴后必须重新检查缩进是否正确。</p><h3 id="数据类型和变量"><a href="#数据类型和变量" class="headerlink" title="数据类型和变量"></a>数据类型和变量</h3><h4 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h4><p>整数，浮点数，字符串，布尔值，空值</p><blockquote><p>计算机使用二进制，所以有时候使用十六进制表示整数比较方便。<br>十六进制用0x前缀和0-9，a-f表示。例如：0xff00</p><h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p>1.同一个变量可以被反复赋值，而且可以是不同类型的变量<br>这种变量本身不固定的语言称之为动态语言。<br>与之对应的是静态语言<br>静态语言在定义变量时必须制定变量类型，如果不匹配就会报错。例如java。<br>例如：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">int <span class="selector-tag">a</span> =<span class="number">123</span>        #<span class="selector-id">#a</span> 是整数类型变量</div><div class="line"><span class="selector-tag">a</span> = <span class="string">"ABC"</span>         ##会报错</div></pre></td></tr></table></figure></p></blockquote><p>2.理解变量在计算机内存中的表示<br>当我们写：a = ‘ABC’时，python干了两件事：<br><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">在内存中创建了一个‘ABC'的字符串</span></div><div class="line"><span class="comment">在内存中创建了一个名为a的变量，并指向‘ABC’</span></div></pre></td></tr></table></figure></p><p>也可以把一个变量a赋值给另一个变量b，这个操作实际上是把变量b指向变量a所指向的数据。<br>所以当给a重新赋值，就是让a指向别的值，对b无影响。</p><h4 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h4><p>通常用全部大写的变量名表示常量</p><h3 id="字符串和编码"><a href="#字符串和编码" class="headerlink" title="字符串和编码"></a>字符串和编码</h3><h4 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h4><p>因为计算机只能处理数字，要处理文本，就必须将文本转换为数字。</p><blockquote><p>最早计算机设计采用8个比特作为一个字节，所以一个字节能表示最大的整数是255。二进制11111111=十进制255。如果要表示更大的整数，就必须用更多字节<br>最早美国英文、数字、符号，使用ASCII编码。比如A的编码是65.小写字母z是122，127个字母。<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">GB2312</span>——中文</div><div class="line">Shift_JIS——日文</div><div class="line">Euc-kr——韩文</div><div class="line"><span class="built_in">Unicode</span>——所有语言</div><div class="line">UTF-<span class="number">8</span>——可变长编码</div></pre></td></tr></table></figure></p></blockquote><p>如果统一用unicode，虽然解决乱码问题<br>如果写的文本都是英文的话，使用unicode比ASCII需要多一倍的空间。<br>因此出现了把unicode编码转化成“可变长编码”的UTF-8。</p><blockquote><p>总结下现在计算机系统通用的字符编码工作方式<br>计算机内存中，统一使用Unicode编码<br>当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码<br>用记事本编辑的时候，从文件读取的UTF-8字符被转换为Unicode字符存到内存里，编辑完成后，保存的时候再把Unicode转化为UTF-8保存到文件<br>浏览网页的时候，服务器会把动态生成的Unicode内容转换为UTF-8再传输到浏览器</p><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>1.最早python支持ASCII编码<br>把字母和对应的数字相互转换<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">ord</span><span class="params">()</span></span></div><div class="line"><span class="function"><span class="title">chr</span><span class="params">()</span></span></div></pre></td></tr></table></figure></p></blockquote><p>2.后来添加了对Unicode的支持<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> <span class="string">u'中文'</span>——中文</div><div class="line"><span class="string">u'中'</span>——<span class="string">u'\u4e2d'</span></div><div class="line"><span class="comment">##写u'中'和u'\u4e2d'是一样的</span></div><div class="line"><span class="comment">##\u后面是十六进制的Unicode码</span></div></pre></td></tr></table></figure></p><p>两种字符串如何转换？<br>字符串‘xxx’虽然是ASCII编码，但也可以看成UTF-8编码。但u’xxx’只能使Unicode编码。<br>把u’xxx’转换为UTF-8编码的‘xxx’用encode(‘utf-8’)方法：<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">u'ABC'.encode('utf-8')——'ABC'</div><div class="line">##英文字符转换后表示的UTF-8的值和Unicode值相等（但占据的储存空间不同）</div><div class="line">u'中文‘.encode('utf-8')——'<span class="symbol">\x</span>e4<span class="symbol">\x</span>b8<span class="symbol">\x</span>ad<span class="symbol">\x</span>e6<span class="symbol">\x</span>96<span class="symbol">\x</span>87'</div><div class="line">##中文字符转换后1个Unicode字符将变为3个UTF-8字符</div><div class="line">##<span class="symbol">\x</span>e4就是其中一个字节，它的值是228.没有对应字母可以显示，所以十六进制显示字节的数值</div><div class="line">len('<span class="symbol">\x</span>e4<span class="symbol">\x</span>b8<span class="symbol">\x</span>ad<span class="symbol">\x</span>e6<span class="symbol">\x</span>96<span class="symbol">\x</span>87')——6</div><div class="line">##len（）函数可以返回字符串的长度</div></pre></td></tr></table></figure></p><p>反过来把UTF-8编码表示的字符串’xxx’转换为Unicode字符串u’xxx’用decode(‘utf-8’)方法：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">'abc'</span>.decode(<span class="string">'utf-8'</span>)——<span class="string">u'abc'</span></div><div class="line"><span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">'utf-8'</span>)——<span class="string">u'\u4e2d\u6587'</span></div><div class="line"><span class="keyword">print</span> <span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">'utf-8'</span>)——中文</div></pre></td></tr></table></figure></p><p>3.保存为UTF-8编码<br>由于python源代码也是一个文本文件，所以，当你源代码中包含中文的时候，在保存源代码时，务必制定保存为UTF-8编码。<br>通常在文件开头写两行：<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#！/usr/bin/<span class="keyword">env</span> <span class="keyword">python</span></div></pre></td></tr></table></figure></p><p>告诉Linux/OS X系统，这是一个python可执行程序，windows系统会忽略这个注释<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> -*- coding:utf-8 -*-</span></div></pre></td></tr></table></figure></p><p>告诉python解释器，按照UTF-8编码读取源代码，否则，在源代码中写的中文输出可能会有乱码</p><blockquote><p>如果你使用Notepad++进行编辑，除了要加上#-<em>- coding:utf-8 -</em>-外，中文字符串必须是Unicode字符串。<br>声明了UTF-8编码也并不意味着你的.py文件就是UTF-8编码，必须却把Notepad++正在使用UTF-8without BOM编码</p></blockquote><p>4.格式化<br>%？占位符<br>常见占位符：<br><figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="xml"></span><span class="perl">%d整数、%f浮点数、%s字符串、%x十六进制整数</span><span class="xml"></span></div></pre></td></tr></table></figure></p><p>其中整数还有浮点数能指定是否补0和整数与小数之间的位数<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">'%<span class="number">2</span>d-%<span class="number">02</span>d' % (<span class="number">3</span>,<span class="number">1</span>)——'<span class="number">3</span><span class="number">-01</span>'</div><div class="line">'%<span class="number">.2</span>f' % <span class="number">3.1415926</span>——'<span class="number">3.14</span>'</div></pre></td></tr></table></figure></p><p>如果不确定用什么，用%s，%s把任何类型转化为字符串。<br>对于unicode字符串，用法一样，最好替换的字符串也是Unicode ：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">u'Hi, %s'</span> % <span class="string">u'Michael——u'</span>Hi,Michael<span class="string">'</span></div></pre></td></tr></table></figure></p><p>那怎么表示%？<br>转义，用%%表示一个%<br><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">'growth rate: %d %%'</span> <span class="comment">% 7</span></div><div class="line"><span class="string">'growth rate :7%'</span></div></pre></td></tr></table></figure></p><p>5.python也支持其他编码方式，没有特殊要求不用</p><h3 id="使用list和tuple"><a href="#使用list和tuple" class="headerlink" title="使用list和tuple"></a>使用list和tuple</h3><h4 id="list"><a href="#list" class="headerlink" title="list"></a>list</h4><h5 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h5><p>1.最后一个元素的索引是<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">len</span><span class="params">(classmates)</span></span>-<span class="number">1</span></div></pre></td></tr></table></figure></p><p>2.list里面的元素数据类型可以不同<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">L</span>=[<span class="string">'Apple'</span>,<span class="number">123</span>,,<span class="literal">True</span>]</div></pre></td></tr></table></figure></p><p>3.list里面的元素可以是另一个list<br>二维数组概念</p><h5 id="查"><a href="#查" class="headerlink" title="查"></a>查</h5><p>用索引</p><h5 id="增"><a href="#增" class="headerlink" title="增"></a>增</h5><p>1.添加到末尾<br>append<br><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">classmates.<span class="built_in">append</span>(<span class="string">'Adam'</span>)</div></pre></td></tr></table></figure></p><p>2.插入指定位置<br>insert<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">classmates</span><span class="selector-class">.insert</span>(<span class="number">1</span>,<span class="string">'jack'</span>)</div></pre></td></tr></table></figure></p><h5 id="删"><a href="#删" class="headerlink" title="删"></a>删</h5><p>1.要删除list末尾的元素<br>pop<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">classmates</span><span class="selector-class">.pop</span>()</div></pre></td></tr></table></figure></p><p>2.删除指定位置的元素<br>pop(i)<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">classmates</span><span class="selector-class">.pop</span>(1)</div></pre></td></tr></table></figure></p><h5 id="改"><a href="#改" class="headerlink" title="改"></a>改</h5><p>替换<br>直接赋值给对应索引位置<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">classmates[1]</span> = <span class="string">'Sarah'</span></div></pre></td></tr></table></figure></p><h4 id="tuple"><a href="#tuple" class="headerlink" title="tuple"></a>tuple</h4><h5 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h5><p>1.初始化后不可修改<br>2.因为不可变，所以代码更安全，如果可能，尽量用tuple<br>3.当tuple中只有一个元素，初始化的时候必须加逗号<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">t</span> = (<span class="number">1</span>,)</div></pre></td></tr></table></figure></p><h5 id="查-1"><a href="#查-1" class="headerlink" title="查"></a>查</h5><p>用索引</p><h5 id="没有增删改"><a href="#没有增删改" class="headerlink" title="没有增删改"></a>没有增删改</h5><h5 id="可变的-tuple"><a href="#可变的-tuple" class="headerlink" title="可变的 tuple"></a>可变的 tuple</h5><p>1.当tuple中包含可变元素例如list<br>2.tuple指向不变<br>3.如果要创建一个内容也不不变的tuple怎么做？<br>必须保证tuple中每个元素也不可变</p><h3 id="条件判断和循环"><a href="#条件判断和循环" class="headerlink" title="条件判断和循环"></a>条件判断和循环</h3><h4 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h4><p>if</p><h4 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h4><p>1.for<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">range()</div><div class="line">##生成整数序列[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div></pre></td></tr></table></figure></p><p>2.while<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">raw_input</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#注意该方法永远以字符串的形式返回</span></span></div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#如果有需要要将字符串转换</span></span></div><div class="line">birth= int (raw_input('birth: '))</div></pre></td></tr></table></figure></p><h3 id="使用dict和set"><a href="#使用dict和set" class="headerlink" title="使用dict和set"></a>使用dict和set</h3><h4 id="dict"><a href="#dict" class="headerlink" title="dict"></a>dict</h4><h5 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h5><p>1.键值对<br>2.需要牢记</p><ul><li>dict的key必须是不可变对象</li><li>这种通过key计算位置的算法称为哈希算法（Hash)<br>3.如果key不存在会报错<figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">##通过<span class="keyword">in</span>判断是否存在</div><div class="line"><span class="string">'Thomas'</span> <span class="keyword">in</span> d——<span class="literal">False</span></div><div class="line">##通过dict提供的get方法，不存在，返回None或者自己指定value</div><div class="line">d.get(<span class="string">'Thomas'</span>)    ##返回None的时候，交互式命令行不显示结果</div><div class="line">d.get(<span class="string">'Tmoas'</span>,<span class="number">-1</span>)       ##<span class="number">-1</span></div></pre></td></tr></table></figure></li></ul><p>4.和list区别<br>查找、插入速度极快，不会随着Key的增加而增加。<br>需要占用大量内存，内存浪费多。<br>5.list特点<br>查找和插入时间随元素的增加而增加。<br>占用时间小，浪费内存少。</p><h5 id="查-2"><a href="#查-2" class="headerlink" title="查"></a>查</h5><p>用key</p><h5 id="增-1"><a href="#增-1" class="headerlink" title="增"></a>增</h5><p>1.初始化指定<br>2.通过key放入<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">d[<span class="string">'Adam'</span>]=<span class="number">67</span></div></pre></td></tr></table></figure></p><h5 id="删-1"><a href="#删-1" class="headerlink" title="删"></a>删</h5><p>pop(key)方法<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">d.pop(<span class="string">'Bob'</span>)          ##<span class="number">75</span></div></pre></td></tr></table></figure></p><h5 id="改-1"><a href="#改-1" class="headerlink" title="改"></a>改</h5><p>一个key对应一个value，多次放入，后面的值会把前面的值冲掉</p><h4 id="set"><a href="#set" class="headerlink" title="set"></a>set</h4><h5 id="属性-3"><a href="#属性-3" class="headerlink" title="属性"></a>属性</h5><p>1.和dict类似，也是一组Key的集合，但不储存value。由于key不能重复，所以，在set中，没有重复的key<br>2.重复的元素自动被过滤<br>3.set可以看成数学意义上的无序和无重复元素的集合<br>因此两个set可以做数学意义上的交集、并集等操作<br>4.与dict相比<br>唯一区别仅在于没有存储对应的value<br>同样不可以放入可变对象，因为无法判断两个可变对象是否相等，也就无法保证set内部不会有重复元素。</p><h5 id="增-2"><a href="#增-2" class="headerlink" title="增"></a>增</h5><p>1.初始化创建<br>需提供一个list作为输入集合<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">s=set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div><div class="line">s    ——set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div><div class="line">##注意，传入的参数【<span class="number">1</span>，<span class="number">2</span>，<span class="number">3</span>】是一个<span class="type">list</span>，而显示的set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])只是告诉你这个set内部有<span class="number">1</span>，<span class="number">2</span>，<span class="number">3</span>这些元素，显示的[]不表示这是一个<span class="type">list</span></div></pre></td></tr></table></figure></p><p>2.add(key)方法添加<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">s.add(<span class="number">4</span>)</div><div class="line">s   ——set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</div></pre></td></tr></table></figure></p><h5 id="删-2"><a href="#删-2" class="headerlink" title="删"></a>删</h5><p>remove(key)方法<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">s.remove</div><div class="line">s      ——<span class="builtin-name">set</span>([1,2,3])</div></pre></td></tr></table></figure></p><h5 id="改-2"><a href="#改-2" class="headerlink" title="改"></a>改</h5><p>1.交集<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">s1=set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div><div class="line">s2=set([<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</div><div class="line">s1 &amp; s2    ——set([<span class="number">2</span>,<span class="number">3</span>])</div></pre></td></tr></table></figure></p><p>2.并集<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">s1 | s2        ——set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</div></pre></td></tr></table></figure></p><h5 id="查-3"><a href="#查-3" class="headerlink" title="查"></a>查</h5><h4 id="再议不可变对象"><a href="#再议不可变对象" class="headerlink" title="再议不可变对象"></a>再议不可变对象</h4><h5 id="list是可变"><a href="#list是可变" class="headerlink" title="list是可变"></a>list是可变</h5><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">a</span>=[<span class="string">'c'</span>,<span class="string">'b'</span>,<span class="string">'a'</span>]</div><div class="line"><span class="keyword">a</span>.<span class="built_in">sort</span>()</div><div class="line"><span class="keyword">a</span>    ——[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]</div></pre></td></tr></table></figure><h5 id="str是不变对象"><a href="#str是不变对象" class="headerlink" title="str是不变对象"></a>str是不变对象</h5><p>案例1<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">a</span>=<span class="string">'abc'</span></div><div class="line"><span class="keyword">a</span>.<span class="built_in">replace</span>(<span class="string">'a'</span>,<span class="string">'A'</span>)     ——<span class="string">'Abc'</span></div><div class="line"><span class="keyword">a</span>                      ——<span class="string">'abc'</span></div></pre></td></tr></table></figure></p><p>案例2<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">a</span> = <span class="string">'abc'</span></div><div class="line">b=<span class="selector-tag">a</span>.replace(<span class="string">'a'</span>,<span class="string">'A'</span>)</div><div class="line"><span class="selector-tag">b</span>                      ——<span class="string">'Abc'</span></div><div class="line"><span class="selector-tag">a</span>                      ——<span class="string">'abc'</span></div></pre></td></tr></table></figure></p><p>解释：<br>当调用replace时，replace作用在字符串对象‘abc’上，但是没有改变字符串‘abc’的内容，而是创建了一个新字符串’Abc’并返回。<br>用变量b指向新字符串就容易理解。<br>a仍然指向原有字符串，b则指向新字符串。<br>结论：<br>所以对于不变对象来说，调用对象自身的任意方法，都不会改变该对象自身的内容。<br>相反，这些方法会创建新的对象并返回。这样，就保证了不可变对象本身永远是不可变的。</p><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h3><p>1.数据类型转换函数——工厂函数+解码<br>2.将函数赋值给变量</p><h3 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h3><p>1.def<br>return返回<br>2.空函数<br>pass<br>3.参数检查<br>添加参数检查后，如果传入错误的参数诶性，函数就可以抛出一个错误<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">raise</span> TypeError(<span class="symbol">'bad</span> operand <span class="keyword">type</span>')</div></pre></td></tr></table></figure></p><p>4.返回多个值<br>其实是返回一个tuple</p><h3 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h3><h4 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h4><p>1.当函数有多个参数时，把变化大的参数放前面变化小的参数放后面，使用默认函数最大的好处是能降低调用函数的难度。<br>2.默认函数的坑<br>必须指向不可变对象<br>例如参数为list，每次调用list可能都会变化。<br>如何优化，调用前先把list归零。</p><h4 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h4><p>1.定义参数时在参数前加*<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(*numbers)</span></span></div><div class="line"><span class="comment">##在函数内部，参数numbers接收到的是一个tuple</span></div></pre></td></tr></table></figure></p><p>2.可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple。</p><h4 id="关键词参数"><a href="#关键词参数" class="headerlink" title="关键词参数"></a>关键词参数</h4><p>1.定义参数时在参数前加**<br>可以扩展函数的功能，如果调用者愿意提供更多的参数。<br>2.关键字参数允许你传入0个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个dict。</p><h4 id="参数组合"><a href="#参数组合" class="headerlink" title="参数组合"></a>参数组合</h4><p>必选参数、默认参数、可变参数、关键字参数可以混合使用。<br>必须按照这种顺序定义。<br>另外，对于任意参数都可以通过类似func(<em>args,*</em>kw)的形式调用它。</p><h3 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h3><p>1.在函数内部，可以调用其他函数，如果一个函数在内部调用自己本身，这个函数就是递归函数<br>2.理论上，所有递归函数都可以写成循环的方式，但循环的逻辑不如递归清晰<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">def <span class="built_in">fact</span>(<span class="built_in">n</span>)</div><div class="line">return <span class="built_in">n</span>*<span class="built_in">fact</span>(<span class="built_in">n</span>-<span class="number">1</span>)</div></pre></td></tr></table></figure></p><p>3.使用递归函数需要注意防止栈溢出</p><blockquote><p>在计算机中，函数调用是通过栈（stack）这种数据结构实现的。<br>每当进入一个函数调用，栈就会加一层栈帧，当函数返回，栈就会减一层栈帧。<br>由于栈的大小不是无限的，所以递归调用的次数过多，会导致栈溢出。<br>试试fact(1000）</p></blockquote><p>解决递归调用栈溢出的方法是通过尾递归优化</p><blockquote><p>事实上尾递归和循环的效果是一样的，所以把循环看成一种特殊的尾递归函数也是可以的。<br>尾递归是指，在函数返回的时候，调用自身本身，并且return语句不能包含表达式。<br>这样编译器就可以把尾递归做优化，使递归本身无论调用多少次，都只占用一个栈帧，不会出现栈溢出的情况。</p></blockquote><p>遗憾的是，大部分编程语言没有针对尾递归做优化，python解释器也没有优化，所以即使把上面的函数改成尾递归方式，也会导致栈溢出</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;廖老师的教程&lt;a href=&quot;https://www.liaoxuefeng.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.liaoxuefeng.com&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;第一部分&quot;&gt;&lt;a href=&quot;#第一
      
    
    </summary>
    
      <category term="python" scheme="https://chumingke.github.io/categories/python/"/>
    
    
      <category term="python" scheme="https://chumingke.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>如何利用pandas进行数据清洗？</title>
    <link href="https://chumingke.github.io//blog/2017/10/pandas-for-data-cleaning.html"/>
    <id>https://chumingke.github.io//blog/2017/10/pandas-for-data-cleaning.html</id>
    <published>2017-10-07T03:04:57.000Z</published>
    <updated>2017-10-07T03:06:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文为课程笔记。<br>参考网址：www.cnblogs.com/stream886/p/6021743.html</p><h1 id="数据重复值处理"><a href="#数据重复值处理" class="headerlink" title="数据重复值处理"></a>数据重复值处理</h1><h2 id="引入pandas"><a href="#引入pandas" class="headerlink" title="引入pandas"></a>引入pandas</h2><figure class="highlight elm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> pandas</div></pre></td></tr></table></figure><h2 id="数据载入"><a href="#数据载入" class="headerlink" title="数据载入"></a>数据载入</h2><h3 id="excel或csv-参数为路径"><a href="#excel或csv-参数为路径" class="headerlink" title="excel或csv,参数为路径"></a>excel或csv,参数为路径</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">pd</span><span class="selector-class">.read_excel</span>()</div><div class="line"><span class="selector-tag">pd</span><span class="selector-class">.read</span><span class="selector-class">.csv</span>()</div></pre></td></tr></table></figure><h3 id="数据库查询语句"><a href="#数据库查询语句" class="headerlink" title="数据库查询语句"></a>数据库查询语句</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attr">conn</span> = Mysqldb.connect(host=<span class="string">'127.0.0.1'</span>,user = <span class="string">'root'</span>,passwd = <span class="string">'123'</span>,db = <span class="string">'ca'</span>)</div><div class="line"><span class="attr">df</span> = pd.read_sql(<span class="string">'select * from ca_list'</span>, conn)</div><div class="line"><span class="comment">##参数1为sql语句，参数2为数据库链接对象</span></div></pre></td></tr></table></figure><h3 id="访问html来获取数据"><a href="#访问html来获取数据" class="headerlink" title="访问html来获取数据"></a>访问html来获取数据</h3><p>一般不会这么做，一般用爬虫<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">pd</span><span class="selector-class">.read_html</span>()</div></pre></td></tr></table></figure></p><h2 id="数据转换为dataframe对象"><a href="#数据转换为dataframe对象" class="headerlink" title="数据转换为dataframe对象"></a>数据转换为dataframe对象</h2><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">lonadata = pd.DataFrame(df，<span class="keyword">index</span> = <span class="string">'id'</span>)</div><div class="line"><span class="keyword">print</span> lonadata试一下</div><div class="line"><span class="comment">##第一个参数为之前生成的数据对象，第二个参数是指定的索引</span></div></pre></td></tr></table></figure><h2 id="重复值的清洗"><a href="#重复值的清洗" class="headerlink" title="重复值的清洗"></a>重复值的清洗</h2><h3 id="检测重复值"><a href="#检测重复值" class="headerlink" title="检测重复值"></a>检测重复值</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> lonadata.duplicated()</div><div class="line">##有重复显示<span class="keyword">true</span>,无重复为<span class="keyword">false</span></div></pre></td></tr></table></figure><h3 id="删除重复值"><a href="#删除重复值" class="headerlink" title="删除重复值"></a>删除重复值</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">lonadata</span><span class="selector-class">.drop_duplicates</span>()</div></pre></td></tr></table></figure><h1 id="数据空值处理"><a href="#数据空值处理" class="headerlink" title="数据空值处理"></a>数据空值处理</h1><h2 id="数据载入-1"><a href="#数据载入-1" class="headerlink" title="数据载入"></a>数据载入</h2><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attr">df2</span> = pd.read_sql(<span class="string">'select * from ca_zwmc'</span>,conn,index_col = <span class="string">'ID'</span>)</div><div class="line"><span class="attr">lonadata2</span> = ph.DataFrame(df2)</div></pre></td></tr></table></figure><h2 id="查看是否有空值"><a href="#查看是否有空值" class="headerlink" title="查看是否有空值"></a>查看是否有空值</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="builtin-name">print</span> lonadata.isnull()</div><div class="line"><span class="comment">##如果当前数据存在空值，显示true</span></div><div class="line"><span class="builtin-name">print</span> lonadata.notnull()</div><div class="line"><span class="comment">##如果当前数据不存在空值，显示true</span></div></pre></td></tr></table></figure><h2 id="对于空数据的处理"><a href="#对于空数据的处理" class="headerlink" title="对于空数据的处理"></a>对于空数据的处理</h2><h3 id="填充数据"><a href="#填充数据" class="headerlink" title="填充数据"></a>填充数据</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">lonadata3= lonadata.fillna ( 0 ） </div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#填充0</span></span></div><div class="line">.fillna ( lonadata ['annual_inc ' ].mean() )  </div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#填平均值</span></span></div><div class="line">print lonadata3.isnull()</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#检查一下</span></span></div></pre></td></tr></table></figure><h3 id="删除空值数据-把一行都删了）"><a href="#删除空值数据-把一行都删了）" class="headerlink" title="删除空值数据(把一行都删了）"></a>删除空值数据(把一行都删了）</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="builtin-name">print</span> lonadata.dropna()</div></pre></td></tr></table></figure><h1 id="数据间的空格处理"><a href="#数据间的空格处理" class="headerlink" title="数据间的空格处理"></a>数据间的空格处理</h1><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><p>取出dataframe集合中单列数据，指定单列<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> lonadata[<span class="string">'zwyc_name'</span>]</div></pre></td></tr></table></figure></p><p>对于数据中出现乱码，老师采取了一个控制输入输出均为utf-8的代码<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">db</span> = conn.cursor()</div><div class="line"><span class="keyword">db</span>.excute(‘<span class="keyword">set</span> names utf8')</div></pre></td></tr></table></figure></p><h2 id="查看数据中空格"><a href="#查看数据中空格" class="headerlink" title="查看数据中空格"></a>查看数据中空格</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> lonadata2[<span class="string">'zwyc_name'</span>].value_counts()</div><div class="line"><span class="comment">##其实是统计相同数据出现多少次</span></div></pre></td></tr></table></figure><h2 id="处理空格"><a href="#处理空格" class="headerlink" title="处理空格"></a>处理空格</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">print lonadata2[<span class="string">'zwmc_name'</span>]<span class="selector-class">.map</span> ( str<span class="selector-class">.lstrip</span> )</div><div class="line">##去除左侧空格</div><div class="line">print lonadata2[<span class="string">'zwmc_name'</span>]<span class="selector-class">.map</span> ( str<span class="selector-class">.rstrip</span> )</div><div class="line">##去除右侧空格</div><div class="line">print lonadata2[<span class="string">'zwmc_name'</span>]<span class="selector-class">.map</span> ( str<span class="selector-class">.strip</span> )</div><div class="line">##去除两侧</div></pre></td></tr></table></figure><h1 id="大小写转换"><a href="#大小写转换" class="headerlink" title="大小写转换"></a>大小写转换</h1><figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> lonadata2[<span class="string">'zwmc_name'</span>].<span class="built_in">map</span> ( <span class="built_in">str</span>.upper)</div><div class="line">##转换为大写</div><div class="line"><span class="built_in">print</span> lonadata2[<span class="string">'zwmc_name'</span>].<span class="built_in">map</span> ( <span class="built_in">str</span>.lower)</div><div class="line">##转换为小写</div><div class="line"><span class="built_in">print</span> lonadata2[<span class="string">'zwmc_name'</span>].<span class="built_in">map</span> ( <span class="built_in">str</span>.title)</div><div class="line">##首字母大写</div></pre></td></tr></table></figure><h1 id="异常和极端值"><a href="#异常和极端值" class="headerlink" title="异常和极端值"></a>异常和极端值</h1><h2 id="检测异常和极端值"><a href="#检测异常和极端值" class="headerlink" title="检测异常和极端值"></a>检测异常和极端值</h2><h3 id="快速统计方法"><a href="#快速统计方法" class="headerlink" title="快速统计方法"></a>快速统计方法</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> lonadata.<span class="built_in">describe</span> ()</div><div class="line">描述统计,通过最大值最小值等发现异常值</div></pre></td></tr></table></figure><h3 id="数据转换格式"><a href="#数据转换格式" class="headerlink" title="数据转换格式"></a>数据转换格式</h3><h4 id="转换为格式"><a href="#转换为格式" class="headerlink" title="转换为格式"></a>转换为格式</h4><figure class="highlight elm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np     ##需要引入Numpy</div><div class="line"><span class="title">print</span> lonadata.descripe () .<span class="keyword">as</span><span class="keyword">type</span>(np.int64)  ##astype</div></pre></td></tr></table></figure><h4 id="转换为时间格式"><a href="#转换为时间格式" class="headerlink" title="转换为时间格式"></a>转换为时间格式</h4><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">print lonadata3 [ <span class="string">'datatime'</span> ]  ##输出看看</div><div class="line">print pd.to_datetime (lonadata3 [ <span class="string">'datatime'</span> ])</div><div class="line">##另外如果从数据库直接写入时间，就直接是datatime格式</div><div class="line">##大部分情况下不直接存时间格式，因为字符串格式比时间格式快，因为系统转换时间格式需要时间</div></pre></td></tr></table></figure><h4 id="显示数据格式"><a href="#显示数据格式" class="headerlink" title="显示数据格式"></a>显示数据格式</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> lonadata3 [ <span class="string">'datatime'</span> ]. dtypes </div><div class="line"><span class="comment">##最后不用加空格，不是个方法，是个状态</span></div></pre></td></tr></table></figure><h3 id="索引和列转换"><a href="#索引和列转换" class="headerlink" title="索引和列转换"></a>索引和列转换</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">print</span> <span class="selector-tag">lonadata</span><span class="selector-class">.descripe</span> () <span class="selector-class">.astype</span>(<span class="selector-tag">np</span><span class="selector-class">.int64</span>)<span class="selector-class">.T</span>   ##<span class="selector-class">.T</span></div></pre></td></tr></table></figure><h2 id="异常值替换"><a href="#异常值替换" class="headerlink" title="异常值替换"></a>异常值替换</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">lonadata<span class="selector-class">.replace</span> ( [ <span class="number">100000</span>,<span class="number">36</span> ] , lonadata [ <span class="string">'loan_amnt'</span> ]<span class="selector-class">.mean</span> () )</div><div class="line">##把很大的<span class="number">100000</span>，还有很小的<span class="number">36</span>这类极端值替换为均值,均匀分布它们的值</div></pre></td></tr></table></figure><h1 id="更改数据类型"><a href="#更改数据类型" class="headerlink" title="更改数据类型"></a>更改数据类型</h1><p>数据转换格式</p><h1 id="数据分组"><a href="#数据分组" class="headerlink" title="数据分组"></a>数据分组</h1><p>根据范围分组<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">conn2 = Mysqldb.connect(host='127.0.0.1',user = 'root',passwd = '123',db = 'ca')      <span class="comment">##首先连接数据库</span></div><div class="line">db = conn.cursor()               <span class="comment">##设置好输入输出为utf-8</span></div><div class="line">db.excute(‘set names utf8')</div><div class="line">df4 = pd.read_sql('select * from ca_list', conn2，index_col = 'ID' )                    <span class="comment">##写好sql语句</span></div><div class="line">lonadata = pd.DataFrame(df4)      <span class="comment">##转换为dataframe对象</span></div><div class="line">bins = [0,5,10,15，20]                <span class="comment">##设定范围区间</span></div><div class="line">group_label = [u'访问低‘，u'正常访问‘，u'高访问’，u'受欢迎‘ ]                               <span class="comment">##四个标签，需要五个分割点</span></div><div class="line">lonadata [ 'cat' ] = pd.cut ( lonadata['browse'] ,bins,labels = group_labels )           <span class="comment">##进行分割</span></div><div class="line">print lonadata</div></pre></td></tr></table></figure></p><h1 id="数据分列"><a href="#数据分列" class="headerlink" title="数据分列"></a>数据分列</h1><p>根据分隔符分列<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">grade_split = pd.DataFrame (( x.split ( <span class="string">'/'</span> ) <span class="keyword">for</span> x <span class="keyword">in</span> lonadata.title_fenci ))</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">encoding</span><span class="params">(x)</span>:</span></div><div class="line">    <span class="keyword">return</span> x.encode(<span class="string">'gbk'</span>)</div><div class="line">grade_split = pd.DataFrame (( map (encoding,x.split ( <span class="string">'/'</span> ) )<span class="keyword">for</span> x <span class="keyword">in</span> lonadata.title_fenci ))</div><div class="line"><span class="comment">##用map加了一个解码效果</span></div><div class="line"><span class="comment">##但是代码有误</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> grade_split</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本文为课程笔记。&lt;br&gt;参考网址：www.cnblogs.com/stream886/p/6021743.html&lt;/p&gt;
&lt;h1 id=&quot;数据重复值处理&quot;&gt;&lt;a href=&quot;#数据重复值处理&quot; class=&quot;headerlink&quot; title=&quot;数据重复值处理&quot;&gt;&lt;/a&gt;
      
    
    </summary>
    
      <category term="python" scheme="https://chumingke.github.io/categories/python/"/>
    
      <category term="pandas" scheme="https://chumingke.github.io/categories/python/pandas/"/>
    
    
      <category term="python" scheme="https://chumingke.github.io/tags/python/"/>
    
      <category term="pandas" scheme="https://chumingke.github.io/tags/pandas/"/>
    
  </entry>
  
  <entry>
    <title>简明Python教程笔记（一）</title>
    <link href="https://chumingke.github.io//blog/2017/10/Concise-Python-tutorial-notes.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Concise-Python-tutorial-notes.html</id>
    <published>2017-10-06T13:43:29.000Z</published>
    <updated>2017-10-06T13:44:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>此文为简明Python教程笔记。</p><h1 id="第一部分"><a href="#第一部分" class="headerlink" title="第一部分"></a>第一部分</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>Python特点<br>简单、易学——伪代码本质<br>免费开源——FLOSS（自由/开放源码软件）<br>高层语言<br>可移植性强——支持多平台<br>解释性——更易移植<br>面向对象——既面向过程也面向对象<br>可扩展性<br>可嵌入性<br>丰富的库</p><h2 id="最初的步骤"><a href="#最初的步骤" class="headerlink" title="最初的步骤"></a>最初的步骤</h2><h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>如果是windows，使用前需要编辑path变量——c\python23</p><h3 id="运行方式"><a href="#运行方式" class="headerlink" title="运行方式"></a>运行方式</h3><p>命令行，交互式解释器，或者源文件。<br>交互式解释器作用是把python代码翻译成机器码<br>交互式解释器有哪些？<br>Python——命令行启动<br>IPython<br>JPython<br>CPython<br>ironPython<br>IDLE（集成开发环境Python GUI）——提示符： &gt;&gt;&gt;是你键入python语句的提示符。退出python提示符：按Ctrl-z再按Enter。</p><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>“#”符号右面的内容都是注释<br>“#!”后面跟着一个程序<br>组织行：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash">！/usr/bin/python</span></div></pre></td></tr></table></figure></p><p>这行告诉系统该运行哪个解释器<br>python文件第一行有这个才能直接运行。</p><h3 id="编码解码"><a href="#编码解码" class="headerlink" title="编码解码"></a>编码解码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> -*- encoding:utf-8 -*-</span></div></pre></td></tr></table></figure><p>文件首行有这行才能显示中文。<br>文件保存为utf-8格式的文件。</p><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><p>特点：<br>不能改变它的值<br>在赋值给变量之前不需要声明<br>访问一个未赋值的变量会产生一个异常<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">some_other_var</span>  <span class="comment"># Raises a name error</span></div></pre></td></tr></table></figure></p><p>if 可以作为表达式来使用<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"yahoo!"</span> <span class="keyword">if</span> <span class="number">3</span> &gt; <span class="number">2</span> <span class="keyword">else</span> <span class="number">2</span> <span class="meta">#=&gt; <span class="string">"yahoo!"</span></span></div></pre></td></tr></table></figure></p><h3 id="数"><a href="#数" class="headerlink" title="数"></a>数</h3><p>包含整数，长整数，浮点数，复数。</p><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><h4 id="字符串相关"><a href="#字符串相关" class="headerlink" title="字符串相关"></a>字符串相关</h4><p>引号：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">单引号</div><div class="line">双引号与单引号完全相同</div><div class="line">三引号——指示多行字符串</div></pre></td></tr></table></figure></p><p>转义符<br>自然字符串——前缀r或R<br>Unicode字符串——前缀u或U<br>字符串是不可变的<br>按字面意义级连接字符串</p><h4 id="字符串处理"><a href="#字符串处理" class="headerlink" title="字符串处理"></a>字符串处理</h4><p>1.字符串连接：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">##两种方法</div><div class="line">+</div><div class="line"><span class="string">" "</span><span class="selector-class">.join</span>[<span class="selector-tag">a</span>,b]</div></pre></td></tr></table></figure></p><p>2.转义符：<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="string">'What\'s your name?'</span></div><div class="line"><span class="comment">##行末的单独一个反斜杠表示字符串在下一行继续，而不是开始一个新的行</span></div><div class="line"><span class="string">\\</span> 反斜杠</div><div class="line"><span class="string">\000</span> 空</div><div class="line"><span class="string">\’</span> 单引号</div><div class="line"><span class="string">\”</span> 双引号</div><div class="line"><span class="string">\n</span> 换行</div><div class="line"><span class="string">\t</span> Tab制表符</div><div class="line"><span class="string">\40表示空格</span></div></pre></td></tr></table></figure></p><p>3.使用dir(str)查看常见的字符串方法。<br>4.比较两个序列值是否相同<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">cmp</span><span class="params">(str1,str2)</span></span></div></pre></td></tr></table></figure></p><p>5.字符串格式化输出<br>占位符：<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">%<span class="selector-tag">s</span></span>  字符串（采用str()的显示）</div><div class="line"><span class="tag">%<span class="selector-tag">f</span></span> 浮点数</div><div class="line"><span class="tag">%<span class="selector-tag">r</span></span> 字符串（采用repr()的显示）</div><div class="line"><span class="tag">%<span class="selector-tag">c</span></span> 单个字符</div><div class="line"><span class="tag">%<span class="selector-tag">b</span></span> 二进制整数</div><div class="line"><span class="tag">%<span class="selector-tag">d</span></span> 十进制整数</div><div class="line"><span class="tag">%<span class="selector-tag">e</span></span> 指数</div></pre></td></tr></table></figure></p><p>format函数：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#检测字符串里有没有大括号&#123;&#125;，有的话ID替换掉</span></span></div><div class="line">url.format(itemid)</div></pre></td></tr></table></figure></p><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p>1.规则<br>第一个字符必须是字母表中的字母（大写或小写）或者一个下划线，名称的其他部分可以由字母（大写或小写）、下划线（‘ _ ’）或数字（0-9）组成。<br>2.变量<br>使用规则：变量要先赋值，后使用<br>相关方法：id(a)，可以查看a变量在python解释器中定义的位置<br>3.函数<br>4.类</p><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><h4 id="数据类型有哪些"><a href="#数据类型有哪些" class="headerlink" title="数据类型有哪些"></a>数据类型有哪些</h4><p>None——null<br>str——字符串类型，ASCII，以8位的ASCII码储存，比如：‘abc’，’中国’<br>unicode——Unicode字符串类型，16位的Unicode字符，比如：u’Hello world’<br>float——双精度（64）浮点数<br>bool——布尔类型，Ture或者False（大写）<br><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">表示Ture：</div><div class="line"><span class="number">1</span></div><div class="line">“****”——字符串不为空</div><div class="line"><span class="string">[1，2，3]</span>——列表不为空</div><div class="line">&#123;“a”:<span class="string">"aaa"</span>&#125;</div><div class="line">只要不是空的</div><div class="line">表示False：</div><div class="line"><span class="number">0</span></div><div class="line">“”——字符串为空</div><div class="line"><span class="string">[]</span>——列表为空</div><div class="line">&#123;&#125;——字典为空</div></pre></td></tr></table></figure></p><p>int——有符号整数，最大值由平台决定<br>long——任意精度的有符号整数，int类型数字一旦超过最大值，会自动转换为long</p><h4 id="数-1"><a href="#数-1" class="headerlink" title="数"></a>数</h4><p>整数，长整数，浮点数，复数complex。</p><h4 id="如何判断一个变量的类型"><a href="#如何判断一个变量的类型" class="headerlink" title="如何判断一个变量的类型"></a>如何判断一个变量的类型</h4><p>type函数可以用于得到某个对象的类型<br>isinstance 函数用于判断某个对象类型是否属于指定的类型中的一种</p><h4 id="类型转换函数"><a href="#类型转换函数" class="headerlink" title="类型转换函数"></a>类型转换函数</h4><p>str字符串调用decode方法转为unicode（解码）。<br>unicode字符串调用encode方法转为str字符串。<br>工厂函数:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">int  将其他对象转成整数类型  </div><div class="line"><span class="function"><span class="title">float</span><span class="params">()</span></span></div><div class="line"><span class="function"><span class="title">bool</span><span class="params">()</span></span></div><div class="line"><span class="function"><span class="title">str</span><span class="params">()</span></span></div><div class="line"><span class="function"><span class="title">long</span><span class="params">()</span></span></div></pre></td></tr></table></figure></p><h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p>任何东西</p><h3 id="逻辑行与物理行"><a href="#逻辑行与物理行" class="headerlink" title="逻辑行与物理行"></a>逻辑行与物理行</h3><p>物理行是你在编写程序时所 看见的。逻辑行是Python 看见 的单个语句。<br>想要在一个物理行中使用多于一个逻辑行，那么你需要使用分号（;）<br>反斜杠的使用，有时候有一种暗示的假设，可以不需要使用反斜杠</p><h3 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h3><p>同一层次的语句合起来称为一个块</p><h3 id="None"><a href="#None" class="headerlink" title="None"></a>None</h3><p>不要使用相等符号 <code>==</code> 来把对象和 None 进行比较<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"etc"</span> <span class="keyword">is</span> <span class="keyword">None</span></div></pre></td></tr></table></figure></p><p>None、0 以及空字符串和空列表都等于 False，除此以外的所有值都等于 True<br><figure class="highlight basic"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">0 </span>== False  #=&gt; True</div><div class="line"><span class="string">""</span> == False #=&gt; True</div></pre></td></tr></table></figure></p><h2 id="运算符与表达式"><a href="#运算符与表达式" class="headerlink" title="运算符与表达式"></a>运算符与表达式</h2><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>1.注意优先级<br>2.计算顺序——圆括号改变<br>3.结合规律：<br>具有相同优先级的运算符从左到右顺序：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">2</span>+<span class="number">3</span>+<span class="number">4</span>的等同于（<span class="number">2</span>+<span class="number">3</span>）+<span class="number">4</span></div></pre></td></tr></table></figure></p><p>赋值运算符是自右向左:<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">a</span>=b=c等同于a=(b=c)</div></pre></td></tr></table></figure></p><h3 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h3><p>1.数学运算表达式<br>其中，关于除法<br><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">除法，有一个是小数，结果是小数。</div><div class="line">整数相除，默认得到商。</div><div class="line">from<span class="number">__f</span>uture<span class="number">__</span><span class="keyword">import</span> division让两整数相除得到浮点数结果</div></pre></td></tr></table></figure></p><p>2.逻辑运算表达式——or,and<br>3.比较运算表达式——1&gt;2<br>4.python中表达式都有值，其值就是表达式运算后的结果</p><h1 id="第二部分"><a href="#第二部分" class="headerlink" title="第二部分"></a>第二部分</h1><h2 id="控制流"><a href="#控制流" class="headerlink" title="控制流"></a>控制流</h2><h3 id="选择结构（判断语句）"><a href="#选择结构（判断语句）" class="headerlink" title="选择结构（判断语句）"></a>选择结构（判断语句）</h3><p>if语句<br>用来检验一个条件， 如果 条件为真，我们运行一块语句<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if-elif-else</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#逻辑行结尾处有一个冒号,else可选</span></span></div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#冒号后跟着语句块</span></span></div></pre></td></tr></table></figure></p><h3 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h3><h4 id="while语句"><a href="#while语句" class="headerlink" title="while语句"></a>while语句</h4><p>1.循环次数未知<br>2.只要在一个条件为真的情况下，while语句允许你重复执行一块语句<br>3.else可选</p><h4 id="for循环（迭代历遍语句）"><a href="#for循环（迭代历遍语句）" class="headerlink" title="for循环（迭代历遍语句）"></a>for循环（迭代历遍语句）</h4><p>1.迭代字符串<br>2.for..in——for i in range(1, 5):<br>3.在一序列的对象上 递归 即逐一使用队列中的每个项目<br>4.else可选<br>5.range(数字)：</p><ul><li>返回从零到给定的数字的数字列表</li><li>range（0，1001，2）</li><li>包头不包尾，默认是0</li><li>迭代器，先把要迭代的数全部生成好存在内存，再一个个操作</li><li>必须整数</li><li>3.5版本默认就是生成器<br>6.xrange——生成器，一次生成一个（性能的提升），3.5版本没有<br>7.循环次数已知<h4 id="break语句"><a href="#break语句" class="headerlink" title="break语句"></a>break语句</h4>如果你从for或while循环中 终止 ，任何对应的循环else块将不执行<br>if s == ‘quit’:  break<br>跳出循环<h4 id="continue语句"><a href="#continue语句" class="headerlink" title="continue语句"></a>continue语句</h4>用来告诉Python跳过当前循环块中的剩余语句，然后 继续 进行下一轮循环。<br>略过循环。<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> len(s) &lt; <span class="number">3</span>:  <span class="keyword">continue</span></div><div class="line">##如果长度小于<span class="number">3</span>，我们将使用<span class="keyword">continue</span>语句，忽略块中的剩余的语句。否则，这个循环中的剩余语句将被执行</div></pre></td></tr></table></figure></li></ul><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>1.函数是重用的程序段<br>2.通过def关键字定义<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sayHello</span><span class="params">()</span></span><span class="symbol">:</span></div></pre></td></tr></table></figure></p><p>3.<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">if__name__=='__main__':pass</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#python文件在被调用的时候，__name__值为模块名</span></span></div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#当python文件被运行之后，__name__值为‘__main__’</span></span></div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#上面只定义函数、常用属性，下面写主逻辑。</span></span></div></pre></td></tr></table></figure></p><h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><p>1.参数名称为 形参<br>2.函数调用的值称为实参<br>3.默认参数值<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">##只有在形参表末尾的那些参数可以有默认参数值</span></div><div class="line">def <span class="function"><span class="keyword">func</span><span class="params">(a, b=<span class="number">5</span>)</span>是有效的</span></div></pre></td></tr></table></figure></p><p>4.关键参数<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">##使用名字（关键字）而不是位置来给函数指定实参</span></div><div class="line"><span class="string">"&#123;name&#125; wants to eat &#123;food&#125;"</span>.format(<span class="attribute">name</span>=<span class="string">"Bob"</span>, <span class="attribute">food</span>=<span class="string">"lasagna"</span>)</div></pre></td></tr></table></figure></p><p>5.可变数量参数<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">##也可以定义一个函数，并让它接受可变数量的关键字参数</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">keyword_args</span><span class="params">(**kwargs)</span></span><span class="symbol">:</span></div><div class="line">keyword_args(big=<span class="string">"foot"</span>, loch=<span class="string">"ness"</span>) <span class="comment">#=&gt; &#123;"big": "foot", "loch": "ness"&#125;</span></div><div class="line"><span class="comment">##你可以定义一个函数，并让它接受可变数量的定位参数</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">varargs</span><span class="params">(*args)</span></span></div><div class="line">varargs(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">#=&gt; (1,2,3)</span></div><div class="line"><span class="comment">##还可以同时使用这两类参数</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">all_the_args</span><span class="params">(*args, **kwargs)</span></span><span class="symbol">:</span></div><div class="line"><span class="comment">##使用 * 来展开元组，使用 ** 来展开关键字参数</span></div></pre></td></tr></table></figure></p><h4 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h4><p>所有变量的作用域是它们被定义的块<br>global语句<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">global x, y, z</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#声明是全局变量</span></span></div></pre></td></tr></table></figure></p><h3 id="语句与文档字符串"><a href="#语句与文档字符串" class="headerlink" title="语句与文档字符串"></a>语句与文档字符串</h3><h4 id="return语句"><a href="#return语句" class="headerlink" title="return语句"></a>return语句</h4><p>从一个函数 返回 即跳出函数<br>没有返回值的return语句等价于return None</p><h4 id="文档字符串（DocStrings）"><a href="#文档字符串（DocStrings）" class="headerlink" title="文档字符串（DocStrings）"></a>文档字符串（DocStrings）</h4><p>1.标准格式<br>文档字符串以大写字母开始，句号结尾。第二行是空行，从第三行开始是详细的描述。<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">'''    '''</span></div></pre></td></tr></table></figure></p><p>2.调用方法<br>用<strong>doc</strong>（注意双下划线）调用printMax函数的文档字符串属性<br>3.也适用模块和类</p><h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="name">lambda</span> x: x &gt; <span class="number">2</span>)(<span class="number">3</span>) #=&gt; True</div></pre></td></tr></table></figure><h3 id="dir-函数"><a href="#dir-函数" class="headerlink" title="dir()函数"></a>dir()函数</h3><p>查看该模块的函数列表<br>dir + help的使用</p><h3 id="内置的常用数学函数"><a href="#内置的常用数学函数" class="headerlink" title="内置的常用数学函数"></a>内置的常用数学函数</h3><p>divmod 返回两个数相除的商和余数<br>round 四舍五入</p><h3 id="Math模块常用的函数"><a href="#Math模块常用的函数" class="headerlink" title="Math模块常用的函数"></a>Math模块常用的函数</h3><p>pow 幂运算<br>sqrt  开方运算<br>floor/ceil<br>fabs<br>fmod</p><h3 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h3><p>map:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">map</span><span class="params">(lambda x:x*<span class="number">2</span>+<span class="number">1</span>,data)</span></span></div><div class="line"><span class="function"><span class="title">map</span><span class="params">(add_10, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span></span> #=&gt; [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>]</div></pre></td></tr></table></figure></p><p>reduce:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">##求10的阶乘</span></div><div class="line"><span class="built_in">num</span>=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]</div><div class="line">reduce(lambda x,y:x*y,<span class="built_in">num</span>)</div></pre></td></tr></table></figure></p><p>使用列表推导式来模拟 map 和 filter<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[add_10(i) for i in [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]  #=&gt; [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>]</div><div class="line">[x for x in [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>] if x &gt; <span class="number">5</span>] #=&gt; [<span class="number">6</span>, <span class="number">7</span>]</div></pre></td></tr></table></figure></p><p>filter<br><figure class="highlight llvm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#<span class="symbol">#1000</span>以内的偶数</div><div class="line">res=<span class="keyword">filter</span>(lambda <span class="keyword">x</span>: <span class="keyword">x</span><span class="symbol">%2</span>==<span class="number">0</span>,a)</div><div class="line"><span class="keyword">filter</span>(lambda <span class="keyword">x</span>: <span class="keyword">x</span> &gt; <span class="number">5</span>, [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]) #=&gt; [<span class="number">6</span>, <span class="number">7</span>]</div><div class="line">##过滤判断好的</div></pre></td></tr></table></figure></p><h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><h3 id="导入方法"><a href="#导入方法" class="headerlink" title="导入方法"></a>导入方法</h3><h4 id="绝对导入"><a href="#绝对导入" class="headerlink" title="绝对导入"></a>绝对导入</h4><p>import sys语句<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">sys</span><span class="selector-class">.argv</span></div></pre></td></tr></table></figure></p><h4 id="相对导入"><a href="#相对导入" class="headerlink" title="相对导入"></a>相对导入</h4><p>from..import语句<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> sys <span class="keyword">import</span> argv</div><div class="line"><span class="keyword">from</span> sys <span class="keyword">import</span> *    ##你可以从一个模块中导入所有函数</div><div class="line">##不建议使用这种方式,<span class="keyword">import</span> 更易读</div></pre></td></tr></table></figure></p><h4 id="字节编译的-pyc文件"><a href="#字节编译的-pyc文件" class="headerlink" title="字节编译的.pyc文件"></a>字节编译的.pyc文件</h4><h4 id="安装其他人的模块"><a href="#安装其他人的模块" class="headerlink" title="安装其他人的模块"></a>安装其他人的模块</h4><p>1.Anaconda2\Scripts<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">所有<span class="keyword">python</span>的工具都在这个文件夹</div><div class="line">conda.<span class="keyword">exe</span></div></pre></td></tr></table></figure></p><p>2.模块的安装<br>pip命令(python自带)：<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">c:</span>\python27\scripts&gt;pip.exe install pymysql</div><div class="line"><span class="symbol">c:</span>\python27\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span>   <span class="comment">##所有第三方库的文件夹</span></span></div></pre></td></tr></table></figure></p><p>conda命令(anaconda环境特有):<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">conda<span class="selector-class">.exe</span> install scrapy</div><div class="line">conda<span class="selector-class">.exe</span> list  ##把当前python环境里安装的所有第三方模块都返回</div></pre></td></tr></table></figure></p><p>优先使用<br>好处：能够自动分析模块之间的依赖，如果安装A模块中，引用了B模块，可以自动安装好B模块<br>缺点：网络不好易下载失败，解决办法：尝试使用代理<br>whl文件的安装（google一下）:<br>二进制文件<br>搜索需要的包，复制到scripts文件夹下，使用pip等安装，输入首字母按Tab自动补全。</p><h4 id="sys-path"><a href="#sys-path" class="headerlink" title="sys.path"></a>sys.path</h4><p>当前python文件的目录<br>site-packages</p><h3 id="模块方法"><a href="#模块方法" class="headerlink" title="模块方法"></a>模块方法</h3><p>1.模块的属性<br>模块的<strong>name</strong><br>当一个模块被第一次输入的时候，这个模块的主块将被运行。假如我们只想在程序本身被使用的时候运行主块，而在它被别的模块输入的时候不运行主块，我们该怎么做呢？这可以通过模块的<strong>name</strong>属性完成。<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="variable">__name__</span> == <span class="string">'__main__'</span>:</div></pre></td></tr></table></figure></p><p>2.join的方法<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span><span class="string">"    "</span>.<span class="keyword">join</span>(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>)</div></pre></td></tr></table></figure></p><h3 id="模块类别"><a href="#模块类别" class="headerlink" title="模块类别"></a>模块类别</h3><h4 id="常见模块"><a href="#常见模块" class="headerlink" title="常见模块"></a>常见模块</h4><p>1.sys系统相关<br>2.datetime日期<br>3.re正则表达式<br>4.math数学运算模块<br>5.Numpy科学计算 Pandas结构化函数 Scipy数值积分 matplotlib绘制数据图表<br>6.request http访问库 scrapy网络爬虫工具库<br>7.学习方法<br>dir()函数:<br>列出模块定义的标识符。标识符有函数、类和变量。<br>当你为dir()提供一个模块名的时候，它返回模块定义的名称列表<br>如果不提供参数，它返回当前模块中定义的名称列表<br>help()函数:<br>详细定义<br>8.python标准库</p><h4 id="制造你自己的模块"><a href="#制造你自己的模块" class="headerlink" title="制造你自己的模块"></a>制造你自己的模块</h4><p>这个模块应该被放置在我们输入它的程序的同一个目录中，或者在sys.path所列目录之一<br>使用了点号来使用模块的成员<br>from mymodule import sayhi, version</p><h3 id="库、包、模块之间的关系"><a href="#库、包、模块之间的关系" class="headerlink" title="库、包、模块之间的关系"></a>库、包、模块之间的关系</h3><p>包含关系：库-包-模块<br>一个包下面可以有很多模块<br>包的文件下面必须有<strong>init</strong>.py</p><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><h3 id="类与对象的概念"><a href="#类与对象的概念" class="headerlink" title="类与对象的概念"></a>类与对象的概念</h3><p>当你使用变量i并给它赋值的时候，你可以认为你创建了一个类（类型）int的对象（实例）i</p><h3 id="列表list"><a href="#列表list" class="headerlink" title="列表list"></a>列表list</h3><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p>1.方括号<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">shoplist</span> = [<span class="string">'apple'</span>, <span class="string">'mango'</span>, <span class="string">'carrot'</span>, <span class="string">'banana'</span>]</div></pre></td></tr></table></figure></p><p>2.比如赋整数5，你可以认为你创建了一个类（类型）int的对象（实例）i<br>3.用 in 来检查是否存在于某个列表中<br>4.索引indexing、分片slicing<br>5.获取列表长度<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">len</span><span class="params">(a)</span></span></div><div class="line"><span class="selector-tag">a</span>.__len__()</div></pre></td></tr></table></figure></p><p>6.在print 语句的结尾使用一个逗号来消除每个语句自动打印的换行符，就是不回车了<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> <span class="string">'these items are:'</span>,</div></pre></td></tr></table></figure></p><h4 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h4><p>1.添加<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#在末尾添加</span></span></div><div class="line">shoplist.append('rice')</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#插入，在索引为1的位置插入</span></span></div><div class="line">mylist.insert(1,3000)</div></pre></td></tr></table></figure></p><p>2.排序<br>shoplist.sort()<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">shoplist.sort(reverse=ture)   ##表示从大到小</div><div class="line">##这个方法影响列表本身，而不是返回一个修改后的列表</div><div class="line">##与字符串工作的方法不同，因此我们说列表可变，字符串不可变</div></pre></td></tr></table></figure></p><p>reverse——把列表的元素反过来<br>3.修改索引为1的元素<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">把列表的元素反过来</div></pre></td></tr></table></figure></p><p>4.删除<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#删除</span></span></div><div class="line">del shoplist[0]</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#移除最后一个元素，并且返回删除的值</span></span></div><div class="line">li.pop()        #=&gt; 3 and li is now [1, 2, 4]</div><div class="line"><span class="meta">#</span><span class="bash">删除指定元素（有多个删除第一个，没有抛出异常）</span></div><div class="line">remove</div></pre></td></tr></table></figure></p><p>5.输出列表元素<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">print</span> <span class="selector-tag">mylist</span>(0<span class="selector-pseudo">:10</span><span class="selector-pseudo">:2)</span></div><div class="line">#<span class="selector-id">#0-10</span>隔一个取</div></pre></td></tr></table></figure></p><p>6.列表求和<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> <span class="built_in">sum</span>(mylist)</div></pre></td></tr></table></figure></p><h4 id="表与表"><a href="#表与表" class="headerlink" title="表与表"></a>表与表</h4><p>1.列表相加<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">li + other_li</div><div class="line">##结果[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>] - 请留意 li 和 other_li 并不会被修改</div></pre></td></tr></table></figure></p><p>2.用 extend 来合并列表<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">li.extend(other_li)</div><div class="line">现在 li 是 [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</div></pre></td></tr></table></figure></p><h4 id="不定常列表"><a href="#不定常列表" class="headerlink" title="不定常列表"></a>不定常列表</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcw</span><span class="params">(*args)</span></span><span class="symbol">:</span></div><div class="line"><span class="comment">##后面就可以将args作为列表使用</span></div><div class="line">func2(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</div></pre></td></tr></table></figure><h3 id="元组tuple"><a href="#元组tuple" class="headerlink" title="元组tuple"></a>元组tuple</h3><h4 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h4><p>1.圆括号<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">zoo</span> = (<span class="string">'wolf'</span>, <span class="string">'elephant'</span>, <span class="string">'penguin'</span>)</div></pre></td></tr></table></figure></p><p>2.不可变<br>3.来访问new_zoo元组的第三个项目的第三个项目<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">new_zoo[<span class="string">2</span>][<span class="symbol">2</span>]</div></pre></td></tr></table></figure></p><p>4.含有单个元素的元组，在第一个项目后跟一个逗号,这样Python才能区分元组和表达式中一个带圆括号的对象<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">singleton</span> = (<span class="number">2</span> , )</div></pre></td></tr></table></figure></p><h4 id="基本使用方法"><a href="#基本使用方法" class="headerlink" title="基本使用方法"></a>基本使用方法</h4><p>1.元组最通常的用法是用在打印语句中<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> <span class="string">'%s is %d years old'</span>   % (name, age)</div><div class="line"><span class="string">"&#123;0&#125; can be &#123;1&#125;"</span>.<span class="built_in">format</span>(<span class="string">"strings"</span>, <span class="string">"formatted"</span>)  ##<span class="built_in">format</span> 方法</div></pre></td></tr></table></figure></p><p>2.定制字符串<br>%s——表示字符串<br>%d——表示整数<br>3.也可以一个定制<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print 'why <span class="keyword">is</span> %s playing <span class="keyword">with</span> <span class="keyword">that</span> python?' % <span class="built_in">name</span></div></pre></td></tr></table></figure></p><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><p>1.元组拆包<br>你可以把元组（或列表）中的元素解包赋值给多个变量<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a, b, c = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</div><div class="line">##现在 a 是 <span class="number">1</span>，b 是 <span class="number">2</span>，c 是 <span class="number">3</span></div><div class="line">##如果你省去了小括号，那么元组会被自动创建</div><div class="line">d, e, f = <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span></div></pre></td></tr></table></figure></p><p>2.交换两个值<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">e, d = d, e</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#现在 d 是 5 而 e 是 4</span></span></div></pre></td></tr></table></figure></p><h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><h4 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h4><p>1.字典是dict类的实例/对象<br>2.花括号<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attr">ab</span> = &#123; <span class="string">'Swaroop'</span> : <span class="string">'swaroopch@byteofpython.info'</span>&#125;</div><div class="line"><span class="attr">d</span> = &#123;key1 : value1, key2 : value2 &#125;</div></pre></td></tr></table></figure></p><p>3.字典输出无序<br>4.映射mapping：<br>通过名称来引用值的数据结构<br>把键（名字）和值（详细情况）联系在一起<br>哈希映射或相联数组(重要)</p><h4 id="基本使用方法-1"><a href="#基本使用方法-1" class="headerlink" title="基本使用方法"></a>基本使用方法</h4><p>1.<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> <span class="string">"Swaroop's address is %s"</span> % ab[<span class="string">'Swaroop'</span>]</div></pre></td></tr></table></figure></p><p>2.用索引操作符来寻址一个键并为它赋值<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ab[<span class="string">'Guido'</span>] = <span class="string">'guido@python.org'</span></div></pre></td></tr></table></figure></p><p>3.del语句来删除键/值对<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">del</span> ab[<span class="string">'Spammer'</span>]</div></pre></td></tr></table></figure></p><p>4.使用in操作符检验一个键/值对是否存在<br>或者使用dict类的has_key方法<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="string">'Guido'</span> <span class="keyword">in</span> <span class="string">ab:</span></div></pre></td></tr></table></figure></p><p>5.使用 in 来检查一个字典是否包含某个键名<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"one"</span> <span class="keyword">in</span> filled_dict #=&gt; <span class="literal">True</span></div></pre></td></tr></table></figure></p><h4 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h4><p>1.与键名有关<br>将字典的所有键名获取为一个列表<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">filled_dict.keys() #=&gt; [<span class="string">"three"</span>, <span class="string">"two"</span>, <span class="string">"one"</span>]</div><div class="line">##请注意：无法保证字典键名的顺序如何排列</div></pre></td></tr></table></figure></p><p>将字典的所有键值获取为一个列表<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">filled_dict.values() #=&gt; [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</div></pre></td></tr></table></figure></p><p>2.与键值有关<br>使用 [] 来查询键值：<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">filled_dict[<span class="string">"one"</span>] <span class="meta">#=&gt; 1</span></div></pre></td></tr></table></figure></p><p>get根据key获取value值，key不存在时返回None，查询一个不存在的键名会产生一个键名错误：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">filled_dict[<span class="string">"four"</span>] <span class="comment"># KeyError</span></div><div class="line"><span class="comment">##所以要使用 get 方法来避免键名错误</span></div><div class="line">filled_dict.<span class="keyword">get</span>(<span class="string">"one"</span>) <span class="comment">#=&gt; 1</span></div><div class="line">filled_dict.<span class="keyword">get</span>(<span class="string">"four"</span>) <span class="comment">#=&gt; None</span></div><div class="line"><span class="comment">##get 方法支持传入一个默认值参数，将在取不到值时返回</span></div><div class="line">filled_dict.<span class="keyword">get</span>(<span class="string">"one"</span>, <span class="number">4</span>) <span class="comment">#=&gt; 1</span></div><div class="line">filled_dict.<span class="keyword">get</span>(<span class="string">"four"</span>, <span class="number">4</span>) <span class="comment">#=&gt; 4</span></div></pre></td></tr></table></figure></p><p>pop获取指定键的值，然后将该键值对从字典中移除。<br>setdefault根据key返回对应的value值，key不存在则返回默认值并相应更新字典。<br>3.都有关<br>items：<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">字典的<span class="keyword">items方法来使用字典中的每个键/值对，来使用字典中的每个键/值对。</span></div><div class="line"><span class="keyword">将所有的项以列表的方式返回。</span></div><div class="line"><span class="keyword">iteritems返回迭代器。</span></div></pre></td></tr></table></figure></p><p>Setdefault 方法可以安全地把新的名值对添加到字典里：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">filled_dict.setdefault(<span class="string">"five"</span>, <span class="number">5</span>)</div><div class="line">##filled_dict[<span class="string">"five"</span>] 被设置为 <span class="number">5</span></div><div class="line">filled_dict.setdefault(<span class="string">"five"</span>, <span class="number">6</span>)</div><div class="line">##filled_dict[<span class="string">"five"</span>] 仍然为 <span class="number">5</span></div></pre></td></tr></table></figure></p><p>copy、deepcopy复制（浅复制、深复制）。<br>popitem随机移除某个键值对。<br>clear清除字典中所有的项。<br>update使用一个字典去更新另一个字典：<br><figure class="highlight q"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">字典重点键值对会添加到原来的字典中</div><div class="line">有相同的<span class="built_in">key</span>则更新对应的<span class="built_in">value</span></div></pre></td></tr></table></figure></p><h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">person_info=&#123;uid[0]:&#123;"name":name[0],"age":age[0],"sex":sex[0]&#125;&#125;</div><div class="line">person_info[<span class="string">"u1"</span>][<span class="symbol">'name'</span>]</div><div class="line"><span class="section">##取u1中name是什么</span></div></pre></td></tr></table></figure><p>不定常字典:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func3</span><span class="params">(**kwargs)</span></span></div><div class="line">func3(host=<span class="string">"localhost"</span>,port=<span class="string">"3366"</span>)</div><div class="line">连接数据库时方便使用</div></pre></td></tr></table></figure></p><p>先创建空表，后逐步填充:<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">employee</span>=&#123;&#125;.fromkeys((<span class="string">"name"</span>,<span class="string">"age"</span>,<span class="string">"salary"</span>).<span class="string">"i,do not know"</span>)</div></pre></td></tr></table></figure></p><h4 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h4><p>1.set 用于保存集合<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">empty_set = set()</div><div class="line">some_set = set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</div><div class="line">##some_set 现在是 set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line">##从 Python <span class="number">2.7</span> 开始，&#123;&#125; 可以用来声明一个集合</div><div class="line">filled_set = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</div><div class="line">##（译注：集合是种无序不重复的元素集，因此重复的 <span class="number">2</span> 被滤除了。）</div><div class="line">##（译注：&#123;&#125; 不会创建一个空集合，只会创建一个空字典。）</div></pre></td></tr></table></figure></p><p>2.把更多的元素添加进一个集合<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">filled_set.add(<span class="number">5</span>)</div><div class="line">##filled_set 现在是 &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</div></pre></td></tr></table></figure></p><p>3.使用 &amp; 来获取交集<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">other_set = &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</div><div class="line">filled_set &amp; other_set #=&gt; &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</div></pre></td></tr></table></figure></p><p>4.使用 - 来获取补集<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125; - &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>&#125; #=&gt; &#123;<span class="number">1</span>, <span class="number">4</span>&#125;</div></pre></td></tr></table></figure></p><h3 id="序列"><a href="#序列" class="headerlink" title="序列"></a>序列</h3><p>1.列表、元组和字符串都是序列<br>2.索引操作符<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print <span class="symbol">'Item</span> <span class="number">0</span> <span class="keyword">is</span>', shoplist[<span class="number">0</span>]</div></pre></td></tr></table></figure></p><p>3.切片操作符<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">print 'Item <span class="number">1</span> <span class="keyword">to</span> <span class="number">-1</span> <span class="keyword">is</span>', shoplist[<span class="number">1</span>:<span class="number">-1</span>]</div><div class="line"><span class="comment">##相当于数学中的左闭右开区间</span></div></pre></td></tr></table></figure></p><p>4.使用 | 来获取并集<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">filled_set | other_set #=&gt; &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</div></pre></td></tr></table></figure></p><h3 id="引用-参考"><a href="#引用-参考" class="headerlink" title="引用/参考"></a>引用/参考</h3><p>如果是想复制，使用切片操作，复制后复制副本不受原始对象变化影响。<br>如果只是使用另一个变量名，那么是只是参考同一个对象。</p><h3 id="更多字符串的方法"><a href="#更多字符串的方法" class="headerlink" title="更多字符串的方法"></a>更多字符串的方法</h3><p>1.startwith方法<br>测试字符串是否以给定字符串开始<br>2.in操作符<br>给定字符串是否是另一个字符串的一部分<br>3.find方法<br>找出位置，返回-1表示找不到<br>4.字符串join<br>返回一个生成的大字符串：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">delimiter = <span class="string">'_*_'</span></div><div class="line"><span class="built_in">print</span> delimiter.join(mylist)</div><div class="line">mylist = [<span class="string">'Brazil'</span>,<span class="string">'Russia'</span>,<span class="string">'India'</span>,<span class="string">'China'</span>]</div><div class="line"><span class="comment">##结果:</span></div><div class="line">Brazil_*_Russia_*_India_*_China</div></pre></td></tr></table></figure></p><h3 id="python推导式"><a href="#python推导式" class="headerlink" title="python推导式"></a>python推导式</h3><p>for循环结合表达式<br>列表推导式<br>字典推导式<br>集合推导式</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;此文为简明Python教程笔记。&lt;/p&gt;
&lt;h1 id=&quot;第一部分&quot;&gt;&lt;a href=&quot;#第一部分&quot; class=&quot;headerlink&quot; title=&quot;第一部分&quot;&gt;&lt;/a&gt;第一部分&lt;/h1&gt;&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerli
      
    
    </summary>
    
      <category term="python" scheme="https://chumingke.github.io/categories/python/"/>
    
    
      <category term="python" scheme="https://chumingke.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>MySQL查询语句练习题(50题版)</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-query-exercises-50.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-query-exercises-50.html</id>
    <published>2017-10-06T09:40:04.000Z</published>
    <updated>2017-10-06T09:40:41.000Z</updated>
    
    <content type="html"><![CDATA[<p>学生表：Student（编号sid，姓名sname，年龄sage，性别ssex)<br>课程表：Course（课程编号cid，课程名称cname，教师编号tid）<br>成绩表：Sc（学生编号sid，课程编号cid，成绩score）<br>教师表：Teacher（教师编号tid，姓名tname）</p><p>1，插入学生数据<br>| 学号        | 姓名       | 年龄  |  性别|<br>| :——–: |:———–:|:———-:|:——:|<br>| 1001| 张三| 10| 男|<br>| 1002| 李四| 11| 女|<br>| 1003| 王五| 12| 男|<br>| 1004| 马六| 19| 女|<br>| 1005| 孙七| 22| 女|<br>| 1006| 钱八| 18| 男|<br>| 1007| 赵九| 11| 女|<br>| 1008| 周公| 19| 男|<br>2，插入老师数据<br>| 教师编号        | 教师姓名       |<br>| :——–: |:———–:|<br>| 1| 叶平|<br>| 2| 李浩然|<br>| 3| 胡平原|<br>| 4| 朱清时|<br>| 5| 赛先生|<br>| 6| 宋三东|<br>3，插入课程数据<br>| 课程编号      | 课程名    |教师编号  |<br>| :——–: |:———–:|:———-:|<br>| 001| PHP| 1|<br>| 002| C#| 1|<br>| 003| C++| 2|<br>| 004| JAVA| 3|<br>| 005| Python| 4|<br>| 006| R| 5|<br>| 007| HTML| 6|<br>4，插入成绩数据<br>| 学号      | 课程编号    |成绩  |<br>| :——–: |:———–:|:———-:|<br>| 1001| 001| 89|<br>| 1002| 001| 80|<br>| 1003| 001| 30|<br>| 1004| 001| 78|<br>| 1005| 001| 68|<br>| 1006| 001| 93|<br>| 1007| 001| 62|<br>| 1001| 002| 67|<br>| 1002| 002| 86|<br>| 1003| 002| 67|<br>| 1004| 002| 77|<br>| 1005| 002| 66|<br>| 1006| 002| 84|<br>| 1007| 002| 72|<br>| 1001| 003| 82|<br>| 1002| 003| 85|<br>| 1003| 003| 32|<br>| 1004| 003| 73|<br>| 1005| 003| 64|<br>| 1006| 003| 87|<br>| 1007| 003| 77|<br>| 1008| 003| 94|<br>| 1001| 004| 39|<br>| 1002| 004| 80|<br>| 1003| 004| 80|<br>| 1004| 004| 88|<br>| 1005| 004| 68|<br>| 1006| 004| 59|<br>| 1007| 004| 42|<br>| 1008| 004| 64|<br>| 1001| 005| 89|<br>| 1002| 005| 70|<br>| 1003| 005| 60|<br>| 1004| 005| 58|<br>| 1005| 005| 38|<br>| 1006| 005| 89|<br>| 1007| 005| 72|<br>| 1008| 005| 64|<br>| 1001| 006| 49|<br>| 1002| 006| 90|<br>| 1003| 006| 70|<br>| 1004| 006| 48|<br>| 1005| 006| 98|<br>| 1006| 006| 59|<br>| 1007| 006| 72|<br>| 1008| 006| 74|<br>| 1001| 007| 49|<br>| 1002| 007| 50|<br>| 1003| 007| 70|<br>| 1004| 007| 88|<br>| 1005| 007| 78|<br>| 1006| 007| 99|<br>| 1007| 007| 82|<br>以下题目答案均由45题版本的数据库来操作。懒得再建了。</p><h2 id="1、查询“001”课程比“002”课程成绩高的所有学生的学号；"><a href="#1、查询“001”课程比“002”课程成绩高的所有学生的学号；" class="headerlink" title="1、查询“001”课程比“002”课程成绩高的所有学生的学号；"></a>1、查询“001”课程比“002”课程成绩高的所有学生的学号；</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#自连接</span></div><div class="line"><span class="attribute">select</span> S<span class="literal">no</span> from Score a </div><div class="line">where C<span class="literal">no</span>= <span class="string">'3-105'</span> and </div><div class="line">Degree &gt; (<span class="literal">select</span> Degree from Score b where C<span class="literal">no</span>=<span class="string">'3-245'</span>and a.S<span class="literal">no</span>=b.S<span class="literal">no</span>);</div><div class="line"><span class="comment">#输出两个表后连接比较</span></div><div class="line"><span class="attribute">select</span> a.S<span class="literal">no</span> from </div><div class="line">(<span class="literal">select</span> S<span class="literal">no</span>,Degree from Score where C<span class="literal">no</span>=<span class="string">'3-105'</span>) a inner join </div><div class="line">(<span class="literal">select</span> S<span class="literal">no</span>,Degree from Score where C<span class="literal">no</span>=<span class="string">'3-245'</span>) b </div><div class="line"><span class="literal">on</span> a.S<span class="literal">no</span>=b.S<span class="literal">no</span></div><div class="line">where a.Degree&gt;b.Degree;</div></pre></td></tr></table></figure><h2 id="2、查询平均成绩大于60分的同学的学号和平均成绩；"><a href="#2、查询平均成绩大于60分的同学的学号和平均成绩；" class="headerlink" title="2、查询平均成绩大于60分的同学的学号和平均成绩；"></a>2、查询平均成绩大于60分的同学的学号和平均成绩；</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">select Sno,avg(Degree) <span class="keyword">from</span> Score </div><div class="line">group by Sno</div><div class="line">having avg(Degree)&gt;60;</div></pre></td></tr></table></figure><h2 id="3、查询所有同学的学号、姓名、选课数、总成绩；"><a href="#3、查询所有同学的学号、姓名、选课数、总成绩；" class="headerlink" title="3、查询所有同学的学号、姓名、选课数、总成绩；"></a>3、查询所有同学的学号、姓名、选课数、总成绩；</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">select Score.Sno,Sname,count(*),sum(Degree) <span class="keyword">from</span> Score,Student where Score.<span class="attribute">Sno</span>=Student.Sno<span class="built_in"> group </span>by Score.Sno ;</div><div class="line"></div><div class="line">select Score.Sno,Sname,count(*),sum(Degree) <span class="keyword">from</span> Score inner join Student on Score.<span class="attribute">Sno</span>=Student.Sno<span class="built_in"> group </span>by Sno;</div></pre></td></tr></table></figure><h2 id="4、查询姓“李”的老师的个数；"><a href="#4、查询姓“李”的老师的个数；" class="headerlink" title="4、查询姓“李”的老师的个数；"></a>4、查询姓“李”的老师的个数；</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#还需要去重</div><div class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span>(Tname)) <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tname <span class="keyword">like</span> <span class="string">'李%'</span>;</div></pre></td></tr></table></figure><h2 id="5、查询没学过“叶平”老师课的同学的学号、姓名；"><a href="#5、查询没学过“叶平”老师课的同学的学号、姓名；" class="headerlink" title="5、查询没学过“叶平”老师课的同学的学号、姓名；"></a>5、查询没学过“叶平”老师课的同学的学号、姓名；</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Sno <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Cno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Course <span class="keyword">where</span> Tno = (</div><div class="line"><span class="keyword">select</span> Tno <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tname =<span class="string">'李诚'</span>)));</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Sno <span class="keyword">not</span> <span class="keyword">in</span>(</div><div class="line"><span class="keyword">select</span> Score.Sno <span class="keyword">from</span> Score <span class="keyword">inner</span> <span class="keyword">join</span> Course <span class="keyword">on</span> Score.Cno=Course.Cno <span class="keyword">inner</span> <span class="keyword">join</span> Teacher <span class="keyword">on</span> Course.Tno=Teacher.Tno <span class="keyword">where</span> Tname=<span class="string">'李诚'</span>);</div></pre></td></tr></table></figure><h2 id="6、查询学过“001”并且也学过编号“002”课程的同学的学号、姓名；"><a href="#6、查询学过“001”并且也学过编号“002”课程的同学的学号、姓名；" class="headerlink" title="6、查询学过“001”并且也学过编号“002”课程的同学的学号、姓名；"></a>6、查询学过“001”并且也学过编号“002”课程的同学的学号、姓名；</h2><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Student.Sno,Sname <span class="keyword">from</span> Student inner <span class="keyword">join</span> Score <span class="keyword">on</span> Student.Sno=Score.Sno <span class="keyword">where</span> Cno=<span class="string">'001'</span> <span class="keyword">and</span> Student.Sno <span class="keyword">in</span> (<span class="keyword">select</span> Student.Sno,Sname <span class="keyword">from</span> Student inner <span class="keyword">join</span> Score <span class="keyword">on</span> Student.Sno=Score.Sno <span class="keyword">where</span> Cno=<span class="string">'002'</span>);</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Sno <span class="keyword">in</span>(</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'001'</span> <span class="keyword">and</span> Sno <span class="keyword">in</span>(</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Cno=<span class="string">'002'</span>));</div><div class="line"></div><div class="line"><span class="keyword">select</span> Student.Sno,Student.Sname <span class="keyword">from</span> Student,Score  <span class="keyword">where</span> Student.Sno=Score.Sno <span class="keyword">and</span> Score.Sno=<span class="string">'001'</span> <span class="keyword">and</span> exists( <span class="keyword">Select</span> * <span class="keyword">from</span> Score <span class="keyword">as</span> SC_2 <span class="keyword">where</span> SC_2.Sno=SC.Sno <span class="keyword">and</span> SC_2.Sno=<span class="string">'002'</span>);</div><div class="line">#EXISTS用于检查子查询是否至少会返回一行数据，该子查询实际上并不返回任何数据，而是返回值<span class="keyword">True</span>或<span class="keyword">False</span>。</div></pre></td></tr></table></figure><h2 id="7、查询学过“叶平”老师所教的所有课的同学的学号、姓名；"><a href="#7、查询学过“叶平”老师所教的所有课的同学的学号、姓名；" class="headerlink" title="7、查询学过“叶平”老师所教的所有课的同学的学号、姓名；"></a>7、查询学过“叶平”老师所教的所有课的同学的学号、姓名；</h2><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Sno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Cno <span class="keyword">in</span>(</div><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Course <span class="keyword">where</span> Tno =(</div><div class="line"><span class="keyword">select</span> Tno <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tname = <span class="string">'李诚'</span>))</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> Sno </div><div class="line">having count<span class="comment">(*)=(select count(*)</span> <span class="keyword">from</span> Course,Teacher <span class="keyword">where</span> Course.Tno=Teacher.Tno <span class="keyword">and</span> Tname =<span class="string">'李诚'</span>)</div><div class="line">);</div><div class="line"></div><div class="line"><span class="keyword">select</span> Student.Sno,Student.Sname <span class="keyword">from</span> Student,Score,Course,Teacher <span class="keyword">where</span> Student.Sno=Score.Sno</div><div class="line"><span class="keyword">and</span> Score.Cno=Course.Cno <span class="keyword">and</span> Course.Tno = Teacher.Tno <span class="keyword">and</span> Teacher.Tname=<span class="string">'李诚'</span></div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> Sno </div><div class="line">having count<span class="comment">(*) = (select count(*)</span> <span class="keyword">from</span> Course,Teacher <span class="keyword">where</span> Course.Tno= Teacher.Tno <span class="keyword">and</span> Teacher.Tname= <span class="string">'李诚'</span>);</div></pre></td></tr></table></figure><h2 id="8、查询课程编号“002”的成绩比课程编号“001”课程低的所有同学的学号、姓名；"><a href="#8、查询课程编号“002”的成绩比课程编号“001”课程低的所有同学的学号、姓名；" class="headerlink" title="8、查询课程编号“002”的成绩比课程编号“001”课程低的所有同学的学号、姓名；"></a>8、查询课程编号“002”的成绩比课程编号“001”课程低的所有同学的学号、姓名；</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Sno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score a2 <span class="keyword">where</span> Cno=<span class="string">'002'</span> <span class="keyword">and</span> Degree&gt;</div><div class="line">(<span class="keyword">select</span> Degree <span class="keyword">from</span> Score a1 <span class="keyword">where</span> Cno=<span class="string">'001'</span> <span class="keyword">and</span> a1.Sno=a2.Sno));</div><div class="line"></div><div class="line"><span class="keyword">Select</span> Sno,Sname <span class="keyword">from</span> (<span class="keyword">select</span> Student.Sno,Student.Sname,Degree,(<span class="keyword">select</span> score <span class="keyword">from</span> Score SC_2 <span class="keyword">where</span> SC_2.Sno=Student.Sno <span class="keyword">and</span> SC_2.Cno=<span class="string">'002'</span>) Degree2 <span class="keyword">from</span> Student,Score <span class="keyword">where</span> Student.Sno=Score.Sno <span class="keyword">and</span> Cno =<span class="string">'001'</span>) S_2 <span class="keyword">where</span> Degree2 &lt;Degree;</div></pre></td></tr></table></figure><h2 id="9、查询所有课程成绩小于60分的同学的学号、姓名；"><a href="#9、查询所有课程成绩小于60分的同学的学号、姓名；" class="headerlink" title="9、查询所有课程成绩小于60分的同学的学号、姓名；"></a>9、查询所有课程成绩小于60分的同学的学号、姓名；</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#注意关键词所有课程，可以采用逆向思维</div><div class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Sno <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Degree&gt;<span class="number">60</span>);</div></pre></td></tr></table></figure><h2 id="10、查询没有学全所有课的同学的学号、姓名；"><a href="#10、查询没有学全所有课的同学的学号、姓名；" class="headerlink" title="10、查询没有学全所有课的同学的学号、姓名；"></a>10、查询没有学全所有课的同学的学号、姓名；</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">select Sno,Sname <span class="keyword">from</span> Student where Sno <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line">select Sno <span class="keyword">from</span> Score<span class="built_in"> group </span>by Sno</div><div class="line">having count(*) = (</div><div class="line">select count(distinct(Cno)) <span class="keyword">from</span> Score));</div><div class="line"></div><div class="line">select Sno,Sname <span class="keyword">from</span> Student where Sno <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line">select Sno <span class="keyword">from</span> Score<span class="built_in"> group </span>by Sno</div><div class="line">having count(*) = (</div><div class="line">select count(*) <span class="keyword">from</span> Course));</div><div class="line"></div><div class="line">select Student.Sno,Student.Sname</div><div class="line"><span class="keyword">from</span> Student,Score</div><div class="line">where Student.<span class="attribute">Sno</span>=Score.Sno<span class="built_in"> group </span>by  Student.Sno,Student.Sname </div><div class="line">having count(Cno) &lt;(select count(Cno) <span class="keyword">from</span> Course);</div></pre></td></tr></table></figure><h2 id="11、查询至少有一门课与学号为“1001”的同学所学相同的同学的学号和姓名；"><a href="#11、查询至少有一门课与学号为“1001”的同学所学相同的同学的学号和姓名；" class="headerlink" title="11、查询至少有一门课与学号为“1001”的同学所学相同的同学的学号和姓名；"></a>11、查询至少有一门课与学号为“1001”的同学所学相同的同学的学号和姓名；</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Sno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Cno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Score <span class="keyword">where</span> Sno = <span class="string">'103'</span>));</div></pre></td></tr></table></figure><h2 id="12、查询与“1001”同学所学课程相同的其他同学学号和姓名；"><a href="#12、查询与“1001”同学所学课程相同的其他同学学号和姓名；" class="headerlink" title="12、查询与“1001”同学所学课程相同的其他同学学号和姓名；"></a>12、查询与“1001”同学所学课程相同的其他同学学号和姓名；</h2><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#自己做的待考证</div><div class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Sno <span class="keyword">in</span>(</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score a <span class="keyword">where</span> Cno <span class="keyword">in</span> (<span class="keyword">select</span> Cno <span class="keyword">from</span> Score <span class="keyword">where</span> Sno=<span class="string">'103'</span>)</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> Sno </div><div class="line">having count<span class="comment">(*) = (select count(*)</span> <span class="keyword">from</span> Score <span class="keyword">where</span> Sno=<span class="string">'103'</span>)</div><div class="line">);</div></pre></td></tr></table></figure><h2 id="13、把“SC”表中“叶平”老师教的课的成绩都更改为此课程的平均成绩；"><a href="#13、把“SC”表中“叶平”老师教的课的成绩都更改为此课程的平均成绩；" class="headerlink" title="13、把“SC”表中“叶平”老师教的课的成绩都更改为此课程的平均成绩；"></a>13、把“SC”表中“叶平”老师教的课的成绩都更改为此课程的平均成绩；</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">#这个方法出不来</div><div class="line"><span class="keyword">update</span> Score a <span class="keyword">set</span> Degree = (<span class="keyword">select</span> <span class="built_in">avg</span>(Degree) <span class="keyword">from</span> Score b <span class="keyword">group</span> <span class="keyword">by</span> Cno <span class="keyword">where</span> a.Cno=b.Cno)</div><div class="line"><span class="keyword">where</span> a.Cno <span class="keyword">in</span> (<span class="keyword">select</span> Cno <span class="keyword">from</span> Course,Teacher <span class="keyword">where</span> Teacher.Tno = Course.Tno <span class="keyword">and</span> Tname=<span class="string">'李诚'</span>));</div><div class="line">#网上的方法是</div><div class="line"><span class="keyword">update</span> SC <span class="keyword">set</span> score=(<span class="keyword">select</span> <span class="built_in">avg</span>(SC_2.score) </div><div class="line">    <span class="keyword">from</span> SC SC_2 </div><div class="line">    <span class="keyword">where</span> SC_2.C#=SC.C# ) <span class="keyword">from</span> Course,Teacher <span class="keyword">where</span> Course.C#=SC.C# <span class="keyword">and</span> Course.T#=Teacher.T# <span class="keyword">and</span> Teacher.Tname=<span class="string">'叶平'</span>); </div><div class="line"></div><div class="line"><span class="keyword">update</span> Score <span class="keyword">inner</span> <span class="keyword">join</span> (<span class="keyword">select</span> Cno,<span class="built_in">avg</span>(Degree) avgDegree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno <span class="keyword">in</span> </div><div class="line">(<span class="keyword">select</span> Cno <span class="keyword">from</span> Course <span class="keyword">where</span> Tno = (<span class="keyword">select</span> Tno <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tname = <span class="string">'李诚'</span>)) <span class="keyword">group</span> <span class="keyword">by</span> Cno) a</div><div class="line"><span class="keyword">on</span> Score.Cno=a.Cno</div><div class="line"><span class="keyword">Set</span> Score.degree = a.avgDegree;</div></pre></td></tr></table></figure><h2 id="14、查询和“1002”号的同学学习的课程完全相同的其他同学学号和姓名；"><a href="#14、查询和“1002”号的同学学习的课程完全相同的其他同学学号和姓名；" class="headerlink" title="14、查询和“1002”号的同学学习的课程完全相同的其他同学学号和姓名；"></a>14、查询和“1002”号的同学学习的课程完全相同的其他同学学号和姓名；</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#有可能学了同样数目但是类型不同的课程，所以用not in</div><div class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Sno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Sno <span class="keyword">not</span> <span class="keyword">in</span>(</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Cno <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> Cno <span class="keyword">from</span> Score <span class="keyword">where</span> Sno = <span class="string">'103'</span>))</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> Sno</div><div class="line"><span class="keyword">having</span> <span class="built_in">count</span>(Cno) = (<span class="keyword">select</span> <span class="built_in">count</span>(Cno) <span class="keyword">from</span> Score <span class="keyword">where</span> Sno = <span class="string">'103'</span>));</div></pre></td></tr></table></figure><h2 id="15、删除学习“叶平”老师课的SC表记录；"><a href="#15、删除学习“叶平”老师课的SC表记录；" class="headerlink" title="15、删除学习“叶平”老师课的SC表记录；"></a>15、删除学习“叶平”老师课的SC表记录；</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">delete <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = (</div><div class="line">select Cno <span class="keyword">from</span> Course <span class="keyword">where</span> Tno = (</div><div class="line">select Tno <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tname=<span class="string">'叶平'</span>));</div><div class="line">``` </div><div class="line">## <span class="number">16</span>、向SC表中插入一些记录，这些记录要求符合以下条件：没有上过编号“<span class="number">003</span>”课程的同学学号、<span class="string">'002'</span>号课的平均成绩；</div></pre></td></tr></table></figure><p>insert into Score (Sno,Cno,Degree)<br>values<br>(select Sno,002,(select avg(Degree) from Score where Cno =’002’ ) from Student where Sno not in (select Sno from Score where Cno = ‘003’));<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">## <span class="number">17</span>、按平均成绩从高到低显示所有学生的“JAVA”、“C#”、“C++”三门的课程成绩，按如下形式显示： 学生ID,,C#,C++,JAVA,有效课程数,有效平均分。</div></pre></td></tr></table></figure></p><p>select Sno as ‘学生ID’,<br>(select Degree from Score a where Cno =(select Cno from Course where Cname=’C#’) and a.Sno=SC.Sno) as ‘C#’,<br>(select Degree from Score b where Cno =(select Cno from Course where Cname=’C++’) and b.Sno=SC.Sno) as ‘C++’,<br>(select Degree from Score c where Cno =(select Cno from Course where Cname=’JAVA’) and c.Sno=SC.Sno) as ‘JAVA’,<br>count(*) as ‘有效课程数’,<br>avg(Degree) as ‘有效平均分’<br>from Score SC group by Sno<br>order by avg(Degree) desc;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 18、查询各科成绩最高和最低的分：以如下形式显示：课程ID，最高分，最低分;</span></span></div></pre></td></tr></table></figure></p><p>#自己写的<br>select Cno as ‘课程ID’,max(Degree) as ‘最高分’,min(Degree) as ‘最低分’ from Score group by Cno;</p><p>#网上的<br>SELECT L.Cno As 课程ID,L.score AS 最高分,R.score AS 最低分<br>    FROM SC L ,SC AS R<br>    WHERE L.Cno = R.Cno and<br>        L.Degree = (SELECT MAX(IL.Degree)<br>                      FROM SC AS IL,Student AS IM<br>                      WHERE L.Cno = IL.Cno and IM.Sno=IL.Sno<br>                      GROUP BY IL.Cno)<br>        AND<br>        R.Score = (SELECT MIN(IR.Degree)<br>                      FROM SC AS IR<br>                      WHERE R.Cno = IR.Cno<br>                  GROUP BY IR.Cno<br>                    );<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 19、按各科平均成绩从低到高和及格率的百分数从高到低顺序 ；</span></span></div></pre></td></tr></table></figure></p><p>#自己写的<br>select <em> from Score a order by<br>(select avg(Degree) from Score b where a.Cno=b.Cno group by Cno) asc,<br>(select count(</em>) from Score c where Degree &gt; 60 and a.Cno=c.Cno group by Cno)/(select count(*) from Score d where a.Cno=d.Cno group by Cno) desc;</p><p>#网上的<br>SELECT t.C# AS 课程号,max(course.Cname)AS 课程名,isnull(AVG(score),0) AS平均成绩,100 <em> SUM(CASE WHEN  isnull(score,0)&gt;=60 THEN 1 ELSE 0 END)/COUNT(</em>) AS 及格百分数<br>    FROM SC T,Course<br>    where t.C#=course.C#<br>    GROUP BY t.C#<br>    ORDER BY 100<em> SUM(CASE WHEN  isnull(score,0)&gt;=60 THEN 1 ELSE 0 END)/COUNT(</em>) DESC<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">## <span class="number">20</span>、查询如下课程平均成绩和及格率的百分数(用<span class="string">"1行"</span>显示): 企业管理（<span class="number">001</span>），马克思（<span class="number">002</span>），OO&amp;UML （<span class="number">003</span>），数据库（<span class="number">004</span>）</div></pre></td></tr></table></figure></p><p>SELECT SUM(CASE WHEN C# =’001’ THEN score ELSE 0 END)/SUM(CASE C# WHEN ‘001’ THEN 1 ELSE 0 END) AS 企业管理平均分,<br>100 <em> SUM(CASE WHEN C# = ‘001’ AND score &gt;= 60 THEN 1 ELSE 0 END)/SUM(CASE WHEN C# = ‘001’ THEN 1 ELSE 0 END) AS 企业管理及格百分数,<br>SUM(CASE WHEN C# = ‘002’ THEN score ELSE 0 END)/SUM(CASE C# WHEN ‘002’ THEN 1 ELSE 0 END) AS 马克思平均分,<br>100 </em> SUM(CASE WHEN C# = ‘002’ AND score &gt;= 60 THEN 1 ELSE 0 END)/SUM(CASE WHEN C# = ‘002’ THEN 1 ELSE 0 END) AS 马克思及格百分数,<br>SUM(CASE WHEN C# = ‘003’ THEN score ELSE 0 END)/SUM(CASE C# WHEN ‘003’ THEN 1 ELSE 0 END) AS UML平均分,<br>100<em> SUM(CASE WHEN C# = ‘003’ AND score &gt;= 60 THEN 1 ELSE 0 END)/SUM(CASE WHEN C# = ‘003’ THEN 1 ELSE 0 END) AS UML及格百分数,<br>SUM(CASE WHEN C# = ‘004’ THEN score ELSE 0 END)/SUM(CASE C# WHEN ‘004’ THEN 1 ELSE 0 END) AS 数据库平均分,<br>100 </em> SUM(CASE WHEN C# = ‘004’ AND score &gt;= 60 THEN 1 ELSE 0 END)/SUM(CASE WHEN C# = ‘004’ THEN 1 ELSE 0 END) AS 数据库及格百分数<br>FROM SC；<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 21、查询不同老师所教不同课程平均分从高到低显示</span></span></div></pre></td></tr></table></figure></p><p>  SELECT max(Z.T#) AS 教师ID,MAX(Z.Tname) AS 教师姓名,C.C# AS 课程ＩＤ,MAX(C.Cname) AS 课程名称,AVG(Score) AS 平均成绩<br>    FROM SC AS T,Course AS C ,Teacher AS Z<br>    where T.C#=C.C# and C.T#=Z.T#<br>  GROUP BY C.C#<br>  ORDER BY AVG(Score) DESC<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">## <span class="number">22</span>、查询如下课程成绩第 <span class="number">3</span> 名到第 <span class="number">6</span> 名的学生成绩单：企业管理（<span class="number">001</span>），马克思（<span class="number">002</span>），UML （<span class="number">003</span>），数据库（<span class="number">004</span>）  [学生ID],[学生姓名],企业管理,马克思,UML,数据库,平均成绩</div></pre></td></tr></table></figure></p><p>SELECT  DISTINCT top 3<br>      SC.S# As 学生学号,<br>        Student.Sname AS 学生姓名 ,<br>      T1.score AS 企业管理,<br>      T2.score AS 马克思,<br>      T3.score AS UML,<br>      T4.score AS 数据库,<br>      ISNULL(T1.score,0) + ISNULL(T2.score,0) + ISNULL(T3.score,0) + ISNULL(T4.score,0) as 总分<br>      FROM Student,SC  LEFT JOIN SC AS T1<br>                      ON SC.S# = T1.S# AND T1.C# = ‘001’<br>            LEFT JOIN SC AS T2<br>                      ON SC.S# = T2.S# AND T2.C# = ‘002’<br>            LEFT JOIN SC AS T3<br>                      ON SC.S# = T3.S# AND T3.C# = ‘003’<br>            LEFT JOIN SC AS T4<br>                      ON SC.S# = T4.S# AND T4.C# = ‘004’<br>      WHERE student.S#=SC.S# and<br>      ISNULL(T1.score,0) + ISNULL(T2.score,0) + ISNULL(T3.score,0) + ISNULL(T4.score,0)<br>      NOT IN<br>      (SELECT<br>            DISTINCT<br>            TOP 15 WITH TIES<br>            ISNULL(T1.score,0) + ISNULL(T2.score,0) + ISNULL(T3.score,0) + ISNULL(T4.score,0)<br>      FROM sc<br>            LEFT JOIN sc AS T1<br>                      ON sc.S# = T1.S# AND T1.C# = ‘k1’<br>            LEFT JOIN sc AS T2<br>                      ON sc.S# = T2.S# AND T2.C# = ‘k2’<br>            LEFT JOIN sc AS T3<br>                      ON sc.S# = T3.S# AND T3.C# = ‘k3’<br>            LEFT JOIN sc AS T4<br>                      ON sc.S# = T4.S# AND T4.C# = ‘k4’<br>      ORDER BY ISNULL(T1.score,0) + ISNULL(T2.score,0) + ISNULL(T3.score,0) + ISNULL(T4.score,0) DESC);<br><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">## <span class="number">23</span>、统计列印各科成绩,各分数段人数:课程ID,课程名称,<span class="string">[100-85]</span>,<span class="string">[85-70]</span>,<span class="string">[70-60]</span>,<span class="string">[ &lt;60]</span></div></pre></td></tr></table></figure></p><p>SELECT SC.C# as 课程ID, Cname as 课程名称<br>        ,SUM(CASE WHEN score BETWEEN 85 AND 100 THEN 1 ELSE 0 END) AS [100 - 85]<br>        ,SUM(CASE WHEN score BETWEEN 70 AND 85 THEN 1 ELSE 0 END) AS [85 - 70]<br>        ,SUM(CASE WHEN score BETWEEN 60 AND 70 THEN 1 ELSE 0 END) AS [70 - 60]<br>        ,SUM(CASE WHEN score &lt; 60 THEN 1 ELSE 0 END) AS [60 -]<br>    FROM SC,Course<br>    where SC.C#=Course.C#<br>    GROUP BY SC.C#,Cname;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 24、查询学生平均成绩及其名次</span></span></div></pre></td></tr></table></figure></p><pre><code>  SELECT 1+(SELECT COUNT( distinct 平均成绩)           FROM (SELECT S#,AVG(score) AS 平均成绩                   FROM SC               GROUP BY S#               ) AS T1         WHERE 平均成绩 &gt; T2.平均成绩) as 名次,   S# as 学生学号,平均成绩 FROM (SELECT S#,AVG(score) 平均成绩         FROM SC     GROUP BY S#     ) AS T2 ORDER BY 平均成绩 desc; </code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 25、查询各科成绩前三名的记录:(不考虑成绩并列情况)</span></span></div></pre></td></tr></table></figure><pre><code>SELECT t1.S# as 学生ID,t1.C# as 课程ID,Score as 分数 FROM SC t1 WHERE score IN (SELECT TOP 3 score         FROM SC         WHERE t1.C#= C#       ORDER BY score DESC         ) ORDER BY t1.C#; </code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 26、查询每门课程被选修的学生数</span></span></div></pre></td></tr></table></figure><p>select c#,count(S#) from sc group by C#;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 27、查询出只选修了一门课程的全部学生的学号和姓名</span></span></div></pre></td></tr></table></figure></p><p>  select SC.S#,Student.Sname,count(C#) AS 选课数<br>  from SC ,Student<br>  where SC.S#=Student.S# group by SC.S# ,Student.Sname having count(C#)=1;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 28、查询男生、女生人数</span></span></div></pre></td></tr></table></figure></p><pre><code>Select count(Ssex) as 男生人数 from Student group by Ssex having Ssex=&apos;男&apos;; Select count(Ssex) as 女生人数 from Student group by Ssex having Ssex=&apos;女&apos;；</code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 29、查询姓“张”的学生名单</span></span></div></pre></td></tr></table></figure><p>SELECT Sname FROM Student WHERE Sname like ‘张%’;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 30、查询同名同性学生名单，并统计同名人数</span></span></div></pre></td></tr></table></figure></p><p>  select Sname,count(<em>) from Student group by Sname having  count(</em>)&gt;1;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 31、1981年出生的学生名单(注：Student表中Sage列的类型是datetime)</span></span></div></pre></td></tr></table></figure></p><pre><code>select Sname,  CONVERT(char (11),DATEPART(year,Sage)) as age from student where  CONVERT(char(11),DATEPART(year,Sage))=&apos;1981&apos;;</code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 32、查询每门课程的平均成绩，结果按平均成绩升序排列，平均成绩相同时，按课程号降序排列</span></span></div></pre></td></tr></table></figure><p>Select C#,Avg(score) from SC group by C# order by Avg(score),C# DESC ;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 33、查询平均成绩大于85的所有学生的学号、姓名和平均成绩</span></span></div></pre></td></tr></table></figure></p><pre><code>select Sname,SC.S# ,avg(score) from Student,SC where Student.S#=SC.S# group by SC.S#,Sname having    avg(score)&gt;85; </code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 34、查询课程名称为“数据库”，且分数低于60的学生姓名和分数</span></span></div></pre></td></tr></table></figure><pre><code>Select Sname,isnull(score,0) from Student,SC,Course where SC.S#=Student.S# and SC.C#=Course.C# and  Course.Cname=&apos;数据库&apos;and score &lt;60; </code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 35、查询所有学生的选课情况；</span></span></div></pre></td></tr></table></figure><pre><code>SELECT SC.S#,SC.C#,Sname,Cname FROM SC,Student,Course where SC.S#=Student.S# and SC.C#=Course.C# ; </code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 36、查询任何一门课程成绩在70分以上的姓名、课程名称和分数；</span></span></div></pre></td></tr></table></figure><pre><code>SELECT  distinct student.S#,student.Sname,SC.C#,SC.score FROM student,Sc WHERE SC.score&gt;=70 AND SC.S#=student.S#; </code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 37、查询不及格的课程，并按课程号从大到小排列</span></span></div></pre></td></tr></table></figure><p>select c# from sc where scor e <60 order="" by="" c#="" ;="" <figure="" class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">## <span class="number">38</span>、查询课程编号为<span class="number">003</span>且课程成绩在<span class="number">80</span>分以上的学生的学号和姓名；</div></pre></td></tr></table></60></p><p>select SC.S#,Student.Sname from SC,Student where SC.S#=Student.S# and Score&gt;80 and C#=’003’;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 39、求选了课程的学生人数</span></span></div></pre></td></tr></table></figure></p><p>select count(*) from sc;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 40、查询选修“叶平”老师所授课程的学生中，成绩最高的学生姓名及其成绩</span></span></div></pre></td></tr></table></figure></p><pre><code>select Student.Sname,score from Student,SC,Course C,Teacher where Student.S#=SC.S# and SC.C#=C.C# and C.T#=Teacher.T# and Teacher.Tname=&apos;叶平&apos; and SC.score=(select max(score)from SC where C#=C.C# ); </code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 41、查询各个课程及相应的选修人数</span></span></div></pre></td></tr></table></figure><p>select count(*) from sc group by C#;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 42、查询不同课程成绩相同的学生的学号、课程号、学生成绩</span></span></div></pre></td></tr></table></figure></p><p>select distinct  A.S#,B.score from SC A  ,SC B where A.Score=B.Score and A.C# &lt;&gt;B.C# ;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 43、查询每门功成绩最好的前两名</span></span></div></pre></td></tr></table></figure></p><p>SELECT t1.S# as 学生ID,t1.C# as 课程ID,Score as 分数<br>      FROM SC t1<br>      WHERE score IN (SELECT TOP 2 score<br>              FROM SC<br>              WHERE t1.C#= C#<br>            ORDER BY score DESC<br>              )<br>      ORDER BY t1.C#;<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 44、统计每门课程的学生选修人数（超过10人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，查询结果按人数降序排列，若人数相同，按课程号升序排列</span></span></div></pre></td></tr></table></figure></p><pre><code>select  C# as 课程号,count(*) as 人数 from  sc  group  by  C# order  by  count(*) desc,c#  </code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 45、检索至少选修两门课程的学生学号</span></span></div></pre></td></tr></table></figure><p>select  S#<br>    from  sc<br>    group  by  s#<br>    having  count(*)  &gt;  =  2<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 46、查询全部学生都选修的课程的课程号和课程名</span></span></div></pre></td></tr></table></figure></p><pre><code>select  C#,Cname  from  Course  where  C#  in  (select  c#  from  sc group  by  c#)</code></pre><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 47、查询没学过“叶平”老师讲授的任一门课程的学生姓名</span></span></div></pre></td></tr></table></figure><p>select Sname from Student where S# not in (select S# from Course,Teacher,SC where Course.T#=Teacher.T# and SC.C#=course.C# and Tname=’叶平’);<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 48、查询两门以上不及格课程的同学的学号及其平均成绩</span></span></div></pre></td></tr></table></figure></p><p> select S#,avg(isnull(score,0)) from SC where S# in (select S# from SC where score <60 group="" by="" s#="" having="" count(*)="">2)group by S#;<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">## <span class="number">49</span>、检索“<span class="number">004</span>”课程分数小于<span class="number">60</span>，按分数降序排列的同学学号</div></pre></td></tr></table></figure></60></p><p>select S# from SC where C#=’004’and score <60 order="" by="" score="" desc;="" <figure="" class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">## <span class="number">50</span>、删除“<span class="number">002</span>”同学的“<span class="number">001</span>”课程的成绩</div></pre></td></tr></table></60></p><p>delete from Sc where S#=’001’and C#=’001’;<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">其他练习题：</div><div class="line">问题描述： 为管理岗位业务培训信息，建立<span class="number">3</span>个表:</div><div class="line"></div><div class="line">S (S#,SN,SD,SA) S#,SN,SD,SA 分别代表学号、学员姓名、所属单位、学员年龄</div><div class="line"></div><div class="line">C (C#,CN ) C#,CN 分别代表课程编号、课程名称</div><div class="line"></div><div class="line">SC ( S#,C#,G ) S#,C#,G 分别代表学号、所选修的课程编号、学习成绩</div><div class="line"></div><div class="line">要求实现如下<span class="number">5</span>个处理：</div><div class="line">## <span class="number">1.</span> 使用标准SQL嵌套语句查询选修课程名称为’税收基础’的学员学号和姓名</div></pre></td></tr></table></figure></p><p>SELECT SN,SD FROM S<br>WHERE [S#] IN(<br>    SELECT [S#] FROM C,SC<br>    WHERE C.[C#]=SC.[C#]<br>        AND CN=N’税收基础’)<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 2. 使用标准SQL嵌套语句查询选修课程编号为’C2’的学员姓名和所属单位</span></span></div></pre></td></tr></table></figure></p><p>SELECT S.SN,S.SD FROM S,SC<br>WHERE S.[S#]=SC.[S#]<br>    AND SC.[C#]=’C2’<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 3. 使用标准SQL嵌套语句查询不选修课程编号为’C5’的学员姓名和所属单位</span></span></div></pre></td></tr></table></figure></p><p>SELECT SN,SD FROM S<br>WHERE [S#] NOT IN(<br>    SELECT [S#] FROM SC<br>    WHERE [C#]=’C5’)<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 4. 使用标准SQL嵌套语句查询选修全部课程的学员姓名和所属单位</span></span></div></pre></td></tr></table></figure></p><p>SELECT SN,SD FROM S<br>WHERE [S#] IN(<br>    SELECT [S#] FROM SC<br>        RIGHT JOIN C ON SC.[C#]=C.[C#]<br>    GROUP BY [S#]<br>    HAVING COUNT(*)=COUNT(DISTINCT [S#]))<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 5. 查询选修了课程的学员人数</span></span></div></pre></td></tr></table></figure></p><p>SELECT 学员人数=COUNT(DISTINCT [S#]) FROM SC<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 6. 查询选修课程超过5门的学员学号和所属单位</span></span></div></pre></td></tr></table></figure></p><p>SELECT SN,SD FROM S<br>WHERE [S#] IN(<br>    SELECT [S#] FROM SC<br>    GROUP BY [S#]<br>    HAVING COUNT(DISTINCT [C#])&gt;5)<br>```</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;学生表：Student（编号sid，姓名sname，年龄sage，性别ssex)&lt;br&gt;课程表：Course（课程编号cid，课程名称cname，教师编号tid）&lt;br&gt;成绩表：Sc（学生编号sid，课程编号cid，成绩score）&lt;br&gt;教师表：Teacher（教师编号t
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>MySQL触发器与事件调度器</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-triggers-and-event-schedulers.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-triggers-and-event-schedulers.html</id>
    <published>2017-10-06T09:12:37.000Z</published>
    <updated>2017-10-06T09:13:12.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h1><p>自动执行预定好的sql语句<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">触发时间   <span class="keyword">before</span> /<span class="keyword">after</span> </div><div class="line">触发事件   insert,update,<span class="built_in">delete</span> </div><div class="line">触发地点   表名</div><div class="line">触发内容   要执行的语句</div></pre></td></tr></table></figure></p><p>在同一个位置不能建立两个不同的触发器,可以合并</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">##例子1</div><div class="line"><span class="keyword">create</span> <span class="keyword">TRIGGER</span> tr_1</div><div class="line">after <span class="keyword">insert</span> <span class="keyword">on</span> card_money</div><div class="line"><span class="keyword">for</span> <span class="keyword">each</span> row</div><div class="line"><span class="keyword">begin</span></div><div class="line">    <span class="keyword">case</span> <span class="keyword">when</span> c.<span class="built_in">type</span>=<span class="number">1</span>    ##状态码</div><div class="line">    <span class="keyword">then</span></div><div class="line">    <span class="keyword">update</span> card_info <span class="keyword">set</span> money =money+new.c <span class="keyword">where</span> id=new.cid;</div><div class="line">    else</div><div class="line">    <span class="keyword">update</span> card_info <span class="keyword">set</span> money =money-new.c <span class="keyword">where</span> id=new.cid;</div><div class="line">end;</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> card_money <span class="keyword">values</span> (<span class="number">2</span>,<span class="number">1</span>,<span class="number">0.1</span>,<span class="number">1</span>);</div><div class="line"></div><div class="line">例子2:</div><div class="line"><span class="keyword">create</span> <span class="keyword">TRIGGER</span> tr_2</div><div class="line">after <span class="keyword">update</span> <span class="keyword">on</span> card_money</div><div class="line"><span class="keyword">for</span> <span class="keyword">each</span> row</div><div class="line"><span class="keyword">begin</span></div><div class="line">    <span class="keyword">update</span> card_info <span class="keyword">set</span> money =money-old.c+new.c <span class="keyword">where</span> id=new.cid;</div><div class="line">end;</div></pre></td></tr></table></figure><h1 id="事件调度器"><a href="#事件调度器" class="headerlink" title="事件调度器"></a>事件调度器</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;触发器&quot;&gt;&lt;a href=&quot;#触发器&quot; class=&quot;headerlink&quot; title=&quot;触发器&quot;&gt;&lt;/a&gt;触发器&lt;/h1&gt;&lt;p&gt;自动执行预定好的sql语句&lt;br&gt;&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>MySQL数据库小技巧（注意点）</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-database-tips.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-database-tips.html</id>
    <published>2017-10-06T09:00:31.000Z</published>
    <updated>2017-10-06T09:01:03.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="复合语句中声明变量-指令"><a href="#复合语句中声明变量-指令" class="headerlink" title="复合语句中声明变量/指令"></a>复合语句中声明变量/指令</h1><p>declare</p><h1 id="定义sql结束符"><a href="#定义sql结束符" class="headerlink" title="定义sql结束符"></a>定义sql结束符</h1><p>delimiter<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">delimiter %</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> login %</div></pre></td></tr></table></figure></p><h1 id="漂号"><a href="#漂号" class="headerlink" title="漂号`"></a>漂号`</h1><p>用于包裹关键词，来当做普通字符串处理<br>加上后不会自动解析关键词</p><h1 id="把关联查询转为子查询"><a href="#把关联查询转为子查询" class="headerlink" title="把关联查询转为子查询"></a>把关联查询转为子查询</h1><p>能写子查询写子查询</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;复合语句中声明变量-指令&quot;&gt;&lt;a href=&quot;#复合语句中声明变量-指令&quot; class=&quot;headerlink&quot; title=&quot;复合语句中声明变量/指令&quot;&gt;&lt;/a&gt;复合语句中声明变量/指令&lt;/h1&gt;&lt;p&gt;declare&lt;/p&gt;
&lt;h1 id=&quot;定义sql结束符&quot;&gt;
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>Mysql错误码与异常捕获</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-error-code-and-exception-capture.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-error-code-and-exception-capture.html</id>
    <published>2017-10-06T08:56:40.000Z</published>
    <updated>2017-10-06T08:57:20.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mysql错误码"><a href="#Mysql错误码" class="headerlink" title="Mysql错误码"></a>Mysql错误码</h1><p>重要的几个<br><figure class="highlight basic"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">1049 </span>数据库不存在</div><div class="line"><span class="symbol">1051 </span>数据表不存在</div><div class="line"><span class="symbol">1054 </span>字段不存在</div></pre></td></tr></table></figure></p><h1 id="异常捕获"><a href="#异常捕获" class="headerlink" title="异常捕获"></a>异常捕获</h1><h2 id="异常条件类型"><a href="#异常条件类型" class="headerlink" title="异常条件类型"></a>异常条件类型</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#字符串类型的错误码</span></span></div><div class="line">SQLSTATE sqlstate_value</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#数值类型的错误码</span></span></div><div class="line">mysql_error_code</div></pre></td></tr></table></figure><h2 id="异常的定义"><a href="#异常的定义" class="headerlink" title="异常的定义"></a>异常的定义</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DECLARE</span> condition_name CONDITION <span class="keyword">FOR</span> [condition_type]</div></pre></td></tr></table></figure><h2 id="异常的捕获"><a href="#异常的捕获" class="headerlink" title="异常的捕获"></a>异常的捕获</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DECLARE</span> handler_type <span class="keyword">HANDLER</span> <span class="keyword">FOR</span> condition_value [...]</div></pre></td></tr></table></figure><p>handler_type  产生异常做什么操作<br>continue   跳过异常继续执行<br>exit       退出<br>condition_value   异常条件类型</p><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">PROCEDURE</span> show_user(<span class="keyword">out</span> code_num <span class="built_in">int</span>)</div><div class="line"><span class="keyword">BEGIN</span></div><div class="line">    DELCARE no_table condition <span class="keyword">for</span> <span class="number">1054</span>;</div><div class="line">    <span class="keyword">DECLARE</span> CONTINUE <span class="keyword">HANDLER</span> <span class="keyword">FOR</span> <span class="keyword">no</span> <span class="keyword">table</span>;</div><div class="line">    <span class="keyword">set</span> code_num=<span class="number">1</span>;</div><div class="line">    <span class="keyword">select</span> user1 <span class="keyword">from</span> login;</div><div class="line"><span class="keyword">end</span>;</div><div class="line"><span class="keyword">call</span> show_user(@aa) ;</div><div class="line"><span class="keyword">select</span> @aa;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mysql错误码&quot;&gt;&lt;a href=&quot;#Mysql错误码&quot; class=&quot;headerlink&quot; title=&quot;Mysql错误码&quot;&gt;&lt;/a&gt;Mysql错误码&lt;/h1&gt;&lt;p&gt;重要的几个&lt;br&gt;&lt;figure class=&quot;highlight basic&quot;&gt;&lt;tabl
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>MySQL存储过程与视图</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-stored-procedures-and-views.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-stored-procedures-and-views.html</id>
    <published>2017-10-06T08:47:37.000Z</published>
    <updated>2017-10-06T08:48:21.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h1><p>视图相当于把一个复杂sql语句作为表保存起来，对于外层用户，只能查到视图中的数据，保护数据源，可以设置权限<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">##创建</div><div class="line">create view show_week_name <span class="keyword">as</span> (</div><div class="line">...);</div><div class="line">##使用</div><div class="line">select * <span class="keyword">from</span> show_week_name;</div></pre></td></tr></table></figure></p><h1 id="存储过程（带参函数）"><a href="#存储过程（带参函数）" class="headerlink" title="存储过程（带参函数）"></a>存储过程（带参函数）</h1><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">##创建</span></div><div class="line"><span class="function">create produre <span class="title">show_gender_list</span> (<span class="params"><span class="keyword">in</span> sex varchar(<span class="number">20</span></span>),<span class="keyword">out</span> count_num <span class="keyword">int</span>)</span></div><div class="line"><span class="function">BEGIN </span></div><div class="line"><span class="function">    <span class="keyword">select</span> <span class="title">count</span>(<span class="params">*</span>) <span class="keyword">into</span> count_num <span class="keyword">from</span> test</span></div><div class="line"><span class="function">    <span class="keyword">where</span> Gendder </span>= sex;</div><div class="line">end;</div><div class="line"><span class="meta">##使用</span></div><div class="line"><span class="function">call <span class="title">show_gender_list</span>(<span class="params"><span class="string">'男'</span></span>)</span>;</div></pre></td></tr></table></figure><h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">##创建</div><div class="line"><span class="keyword">create</span> <span class="keyword">function</span> show_g(sex varchar(<span class="number">20</span>))</div><div class="line"><span class="keyword">return</span> int</div><div class="line"><span class="keyword">BEGIN</span></div><div class="line">    <span class="keyword">set</span> @aaa = <span class="number">1</span>;</div><div class="line">    <span class="keyword">select</span> <span class="built_in">count</span>(*) <span class="keyword">into</span> @aaa <span class="keyword">from</span> test</div><div class="line">    <span class="keyword">where</span> Gender = sex;</div><div class="line">    return 1;</div><div class="line">end;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;视图&quot;&gt;&lt;a href=&quot;#视图&quot; class=&quot;headerlink&quot; title=&quot;视图&quot;&gt;&lt;/a&gt;视图&lt;/h1&gt;&lt;p&gt;视图相当于把一个复杂sql语句作为表保存起来，对于外层用户，只能查到视图中的数据，保护数据源，可以设置权限&lt;br&gt;&lt;figure class
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>数据库分析的简单步骤</title>
    <link href="https://chumingke.github.io//blog/2017/10/Simple-steps-for-database-analysis.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Simple-steps-for-database-analysis.html</id>
    <published>2017-10-06T08:37:31.000Z</published>
    <updated>2017-10-06T08:48:40.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="第一步-大概看一下"><a href="#第一步-大概看一下" class="headerlink" title="第一步 大概看一下"></a>第一步 大概看一下</h1><p>拿到一张表，首先看一下它的字段</p><h1 id="第二步-确定数据规模"><a href="#第二步-确定数据规模" class="headerlink" title="第二步 确定数据规模"></a>第二步 确定数据规模</h1><p>确定数据规模 几行几列count</p><h1 id="第三步-确定分类字段对应的数据规模"><a href="#第三步-确定分类字段对应的数据规模" class="headerlink" title="第三步 确定分类字段对应的数据规模"></a>第三步 确定分类字段对应的数据规模</h1><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">count(*) ..<span class="keyword">group</span> <span class="title">by</span>  <span class="keyword">order</span> <span class="title">by</span></div></pre></td></tr></table></figure><p>比如会员类型，性别，地点，时间</p><h2 id="地点城市"><a href="#地点城市" class="headerlink" title="地点城市"></a>地点城市</h2><p>如果字段中含有城市，一般不在Mysql中切割<br>因为耗时间，比如每个市名字字数不一样，语句会很复杂<br>通常找一张城市表进行多表查询</p><h2 id="按照年月（时间）"><a href="#按照年月（时间）" class="headerlink" title="按照年月（时间）"></a>按照年月（时间）</h2><p>###日期格式化<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">DATE_FORMAT(date,format)</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">test</span> <span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">DATE_FORMAT</span>(<span class="built_in">date</span>,<span class="string">'%Y-%m'</span>)</div></pre></td></tr></table></figure></p><h3 id="格式化参数说明"><a href="#格式化参数说明" class="headerlink" title="格式化参数说明"></a>格式化参数说明</h3><p>ymdwhis<br>Y完整年，y取年后两位，M英语月份，m数字型月份<br>D 英语日，d数字日。H 24进制小时，h 12进制小时<br>I 等同于h，i 分钟。S 等同于s 代表秒<br>W 英语星期，w 数字形式星期<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="attr">#例如：</span></div><div class="line"><span class="attr">'20150711</span><span class="string">'</span></div><div class="line"><span class="string">'</span><span class="meta">%</span>Y<span class="meta">%</span>m<span class="meta">%</span>d<span class="string">'</span></div><div class="line"><span class="string">'</span><span class="number">150711</span><span class="string">'</span></div><div class="line"><span class="string">'</span><span class="meta">%</span>y<span class="meta">%</span>m<span class="meta">%</span>d<span class="string">'</span></div><div class="line"><span class="string">小写的对应不完整的年份，自动脑补前面两个</span></div></pre></td></tr></table></figure></p><h3 id="字符串转化为时间（将生日转化为时间）"><a href="#字符串转化为时间（将生日转化为时间）" class="headerlink" title="字符串转化为时间（将生日转化为时间）"></a>字符串转化为时间（将生日转化为时间）</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">STR_TO_DATE(date,format)</div><div class="line"><span class="keyword">select</span> <span class="keyword">STR_TO_DATE</span>(<span class="string">'2015+07+11'</span>,<span class="string">'%Y+%m+%d'</span>)</div><div class="line">##将生日转化为时间进行分组:</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">test</span> </div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">DATE_FORMAT</span>(<span class="keyword">STR_TO_DATE</span>(Birthday,<span class="string">'%Y%m%d'</span>),<span class="string">'%Y-%m'</span>)</div></pre></td></tr></table></figure><h3 id="根据出生年月日，转化为星期，用英文显示周几出生的人比较多"><a href="#根据出生年月日，转化为星期，用英文显示周几出生的人比较多" class="headerlink" title="根据出生年月日，转化为星期，用英文显示周几出生的人比较多"></a>根据出生年月日，转化为星期，用英文显示周几出生的人比较多</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">count</span>(week_name),week_name <span class="keyword">from</span> (</div><div class="line"><span class="keyword">select</span> <span class="keyword">DATE_FORMAT</span>(<span class="keyword">STR_TO_DATE</span>(Birthday,<span class="string">'%Y%m%d'</span>),<span class="string">'%W'</span>) <span class="keyword">as</span> week_name <span class="keyword">from</span> <span class="keyword">test</span> </div><div class="line">) <span class="keyword">as</span> a</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> week_name</div><div class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">count</span>(week_name) <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">1</span>;</div></pre></td></tr></table></figure><h2 id="注意如何既显示中文同时排序，因为可能用中文排序不行"><a href="#注意如何既显示中文同时排序，因为可能用中文排序不行" class="headerlink" title="注意如何既显示中文同时排序，因为可能用中文排序不行"></a>注意如何既显示中文同时排序，因为可能用中文排序不行</h2><p>先通过英文字段排序，再将结果作为一个表，select..as 中文</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;第一步-大概看一下&quot;&gt;&lt;a href=&quot;#第一步-大概看一下&quot; class=&quot;headerlink&quot; title=&quot;第一步 大概看一下&quot;&gt;&lt;/a&gt;第一步 大概看一下&lt;/h1&gt;&lt;p&gt;拿到一张表，首先看一下它的字段&lt;/p&gt;
&lt;h1 id=&quot;第二步-确定数据规模&quot;&gt;&lt;a
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>MySQL查询语句练习题(45题版)</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-query-exercises-45.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-query-exercises-45.html</id>
    <published>2017-10-05T05:09:58.000Z</published>
    <updated>2017-10-06T09:43:12.000Z</updated>
    
    <content type="html"><![CDATA[<p>整理了一些网上的练习题。<br>设有一数据库，包括四个表：学生表（Student）、课程表（Course）、成绩表（Score）以及教师信息表（Teacher）。表结构及数据如下，请完成题目。</p><p>表（一）Student (学生表) ：<br>| 属性名        | 数据类型       | 可否为空  |  含 义|<br>| :——–: |:———–:|:———-:|:——:|<br>| Sno    |varchar (20) |否      |学号（主码） |<br>| Sname    |varchar (20) |否      |学生姓名 |<br>| Ssex   |varchar (20) |否      |学生性别 |<br>| Sbirthday  |datetime |可      |学生出生年月 |<br>| Class    |varchar (20) |可     |学生所在班级 |<br>表（二）Course（课程表）：<br>| 属性名        | 数据类型       | 可否为空  |  含 义|<br>| :——–: |:———–:|:———-:|:——:|<br>| Cno   |varchar (20) |否      |课程号（主码） |<br>| Cname   |varchar (20) |否      |课程名称|<br>| Tno   |varchar (20) |否      |教工编号（外码） |<br>表（三）Score(成绩表)：<br>| 属性名        | 数据类型       | 可否为空  |  含 义|<br>| :——–: |:———–:|:———-:|:——:|<br>| Sno    |varchar (20) |否      |学号（外码）） |<br>| Cno    |varchar (20) |否      |课程号（外码） |<br>| Degree   |Decimal(4,1) |可      |成绩 |<br>| 主码：Sno+ Cno   |<br>表（四）Teacher(教师表)：<br>| 属性名        | 数据类型       | 可否为空  |  含 义|<br>| :——–: |:———–:|:———-:|:——:|<br>| Tno    |varchar (20) |否      |教工编号（主码） |<br>| Tname    |varchar (20) |否      |教工姓名 |<br>| Tsex   |varchar (20) |否      |教工性别 |<br>| Tbirthday  |datetime |可      |教工出生年月 |<br>| Prof    |varchar (20) |可     |职称 |<br>| Depart    |varchar (20) |否    |教工所在部门 |</p><p>表1-2数据库中的数据：<br>表（一）Student:<br>| Sno     | Sname   | Ssex  | Sbirthday| class|<br>| :—–: |:——:|:—–:|:——:|:——:|<br>| 108   |曾华 |男     |1977-09-01 |95033|<br>|105|匡明|男|1975-10-02|95031|<br>|107|王丽|女|1976-01-23|95033|<br>|101|李军|男|1976-02-20|95033|<br>|109|王芳|女|1975-02-10|95031|<br>|103|陆君|男|1974-06-03|95031|<br>表（二）Course:<br>| Cno    | Cname  | Tno  |<br>| :—–: |:——:|:—–:|<br>| 3-105| 计算机导论| 825|<br>| 3-245| 操作系统| 804|<br>| 6-166| 数字电路| 856|<br>| 9-888| 高等数学| 831|<br>表（三）Score:<br>| Sno   | Cno  | Degree |<br>| :—–: |:——:|:—–:|<br>|103|3-245|86|<br>|105|3-245|75|<br>|109|3-245|68|<br>|103|3-105|92|<br>|105|3-105|88|<br>|109|3-105|76|<br>|101|3-105|64|<br>|107|3-105|91|<br>|108|3-105|78|<br>|101|6-166|85|<br>|107|6-166|79|<br>|108|6-166|81|<br>表（四）Teacher:<br>| Tno     | Tname  | Tsex  | Tbirthday| Prof|Depart|<br>| :—–: |:——:|:—-:|:——:|:—-:|:——:|<br>| 804| 李诚| 男| 1958-12-02| 副教授| 计算机系|<br>| 856| 张旭| 男| 1969-03-12| 讲师| 电子工程系|<br>| 825| 王萍| 女| 1972-05-05| 助教| 计算机系|<br>| 831| 刘冰| 女| 1977-08-14| 助教| 电子工程系|<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#建学生信息表student</span></div><div class="line"><span class="function">create table <span class="title">student</span>(<span class="params"></span></span></div><div class="line"><span class="function"><span class="params">sno varchar(<span class="number">20</span></span>) not <span class="literal">null</span> primary key,</span></div><div class="line"><span class="function">sname <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">ssex <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">sbirthday datetime,</span></div><div class="line"><span class="function">class <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>)</span></div><div class="line"><span class="function">)</span>;</div><div class="line"><span class="meta">#建立教师表</span></div><div class="line">create table teacher</div><div class="line">(</div><div class="line"><span class="function">tno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span> primary key,</span></div><div class="line"><span class="function">tname <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">tsex <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">tbirthday datetime,</span></div><div class="line"><span class="function">prof <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>),</span></div><div class="line"><span class="function">depart <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span></span></div><div class="line"><span class="function">)</span>;</div><div class="line"><span class="meta">#建立课程表course</span></div><div class="line">create table course</div><div class="line">(</div><div class="line"><span class="function">cno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span> primary key,</span></div><div class="line"><span class="function">cname <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">tno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">foreign <span class="title">key</span>(<span class="params">tno</span>) references <span class="title">teacher</span>(<span class="params">tno</span>)</span></div><div class="line"><span class="function">)</span>;</div><div class="line"><span class="meta">#建立成绩表</span></div><div class="line">create table score</div><div class="line">(</div><div class="line"><span class="function">sno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span> primary key,</span></div><div class="line"><span class="function">foreign <span class="title">key</span>(<span class="params">sno</span>) references <span class="title">student</span>(<span class="params">sno</span>),</span></div><div class="line"><span class="function">cno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">foreign <span class="title">key</span>(<span class="params">cno</span>) references <span class="title">course</span>(<span class="params">cno</span>),</span></div><div class="line"><span class="function">degree <span class="keyword">decimal</span></span></div><div class="line"><span class="function">)</span>;</div><div class="line"><span class="meta">#添加学生信息</span></div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'108'</span>,<span class="string">'曾华'</span>,<span class="string">'男'</span>,<span class="string">'1977-09-01'</span>,<span class="string">'95033'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'匡明'</span>,<span class="string">'男'</span>,<span class="string">'1975-10-02'</span>,<span class="string">'95031'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'107'</span>,<span class="string">'王丽'</span>,<span class="string">'女'</span>,<span class="string">'1976-01-23'</span>,<span class="string">'95033'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'101'</span>,<span class="string">'李军'</span>,<span class="string">'男'</span>,<span class="string">'1976-02-20'</span>,<span class="string">'95033'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'王芳'</span>,<span class="string">'女'</span>,<span class="string">'1975-02-10'</span>,<span class="string">'95031'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'陆君'</span>,<span class="string">'男'</span>,<span class="string">'1974-06-03'</span>,<span class="string">'95031'</span></span>)</span>;</div><div class="line"><span class="meta">#添加教师表</span></div><div class="line"><span class="function">insert <span class="keyword">into</span> teacher <span class="title">values</span>(<span class="params"><span class="string">'804'</span>,<span class="string">'李诚'</span>,<span class="string">'男'</span>,<span class="string">'1958-12-02'</span>,<span class="string">'副教授'</span>,<span class="string">'计算机系'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> teacher <span class="title">values</span>(<span class="params"><span class="string">'856'</span>,<span class="string">'张旭'</span>,<span class="string">'男'</span>,<span class="string">'1969-03-12'</span>,<span class="string">'讲师'</span>,<span class="string">'电子工程系'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> teacher <span class="title">values</span>(<span class="params"><span class="string">'825'</span>,<span class="string">'王萍'</span>,<span class="string">'女'</span>,<span class="string">'1972-05-05'</span>,<span class="string">'助教'</span>,<span class="string">'计算机系'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> teacher <span class="title">values</span>(<span class="params"><span class="string">'831'</span>,<span class="string">'刘冰'</span>,<span class="string">'女'</span>,<span class="string">'1977-08-14'</span>,<span class="string">'助教'</span>,<span class="string">'电子工程系'</span></span>)</span>;</div><div class="line"><span class="meta">#添加课程表</span></div><div class="line"><span class="function">insert <span class="keyword">into</span> course <span class="title">values</span>(<span class="params"><span class="string">'3-105'</span>,<span class="string">'计算机导论'</span>,<span class="string">'825'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> course <span class="title">values</span>(<span class="params"><span class="string">'3-245'</span>,<span class="string">'操作系统'</span>,<span class="string">'804'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> course <span class="title">values</span>(<span class="params"><span class="string">'6-166'</span>,<span class="string">'数字电路'</span>,<span class="string">'856'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> course <span class="title">values</span>(<span class="params"><span class="string">'9-888'</span>,<span class="string">'高等数学'</span>,<span class="string">'831'</span></span>)</span>;</div><div class="line"><span class="meta">#添加成绩表</span></div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'3-245'</span>,<span class="string">'86'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'3-245'</span>,<span class="string">'75'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'3-245'</span>,<span class="string">'68'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'3-105'</span>,<span class="string">'92'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'3-105'</span>,<span class="string">'88'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'3-105'</span>,<span class="string">'76'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'3-105'</span>,<span class="string">'64'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'3-105'</span>,<span class="string">'91'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'3-105'</span>,<span class="string">'78'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'6-166'</span>,<span class="string">'85'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'6-166'</span>,<span class="string">'79'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'6-166'</span>,<span class="string">'81'</span></span>)</span>;</div></pre></td></tr></table></figure></p><h2 id="1、-查询Student表中的所有记录的Sname、Ssex和Class列。"><a href="#1、-查询Student表中的所有记录的Sname、Ssex和Class列。" class="headerlink" title="1、 查询Student表中的所有记录的Sname、Ssex和Class列。"></a>1、 查询Student表中的所有记录的Sname、Ssex和Class列。</h2><figure class="highlight monkey"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> Sname,Ssex,<span class="class"><span class="keyword">Class</span> <span class="title">from</span> <span class="title">Student</span>;</span></div></pre></td></tr></table></figure><h2 id="2、-查询教师所有的单位即不重复的Depart列。"><a href="#2、-查询教师所有的单位即不重复的Depart列。" class="headerlink" title="2、 查询教师所有的单位即不重复的Depart列。"></a>2、 查询教师所有的单位即不重复的Depart列。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> Depart <span class="keyword">from</span> teacher;</div></pre></td></tr></table></figure><h2 id="3、-查询Student表的所有记录。"><a href="#3、-查询Student表的所有记录。" class="headerlink" title="3、 查询Student表的所有记录。"></a>3、 查询Student表的所有记录。</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student</div></pre></td></tr></table></figure><h2 id="4、-查询Score表中成绩在60到80之间的所有记录。"><a href="#4、-查询Score表中成绩在60到80之间的所有记录。" class="headerlink" title="4、 查询Score表中成绩在60到80之间的所有记录。"></a>4、 查询Score表中成绩在60到80之间的所有记录。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">where</span> Degree <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">80</span>;</div></pre></td></tr></table></figure><h2 id="5、-查询Score表中成绩为85，86或88的记录。"><a href="#5、-查询Score表中成绩为85，86或88的记录。" class="headerlink" title="5、 查询Score表中成绩为85，86或88的记录。"></a>5、 查询Score表中成绩为85，86或88的记录。</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> * <span class="function"><span class="keyword">from</span> Score <span class="keyword">where</span> Degree <span class="title">in</span> (<span class="params"><span class="number">85</span>,<span class="number">86</span>,<span class="number">88</span></span>)</span>;</div></pre></td></tr></table></figure><h2 id="6、-查询Student表中“95031”班或性别为“女”的同学记录。"><a href="#6、-查询Student表中“95031”班或性别为“女”的同学记录。" class="headerlink" title="6、 查询Student表中“95031”班或性别为“女”的同学记录。"></a>6、 查询Student表中“95031”班或性别为“女”的同学记录。</h2><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student <span class="keyword">where</span> <span class="keyword">Class</span>= <span class="string">'95031'</span> <span class="keyword">or</span> Ssex=<span class="string">'女'</span>;</div></pre></td></tr></table></figure><h2 id="7、-以Class降序查询Student表的所有记录。"><a href="#7、-以Class降序查询Student表的所有记录。" class="headerlink" title="7、 以Class降序查询Student表的所有记录。"></a>7、 以Class降序查询Student表的所有记录。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student <span class="keyword">order</span> <span class="keyword">by</span> Class <span class="keyword">desc</span>;</div></pre></td></tr></table></figure><h2 id="8、-以Cno升序、Degree降序查询Score表的所有记录。"><a href="#8、-以Cno升序、Degree降序查询Score表的所有记录。" class="headerlink" title="8、 以Cno升序、Degree降序查询Score表的所有记录。"></a>8、 以Cno升序、Degree降序查询Score表的所有记录。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">order</span> <span class="keyword">by</span> Cno <span class="keyword">asc</span>,Degree <span class="keyword">desc</span>;</div></pre></td></tr></table></figure><h2 id="9、-查询“95031”班的学生人数。"><a href="#9、-查询“95031”班的学生人数。" class="headerlink" title="9、 查询“95031”班的学生人数。"></a>9、 查询“95031”班的学生人数。</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="function"><span class="keyword">select</span> <span class="title">count</span>(<span class="params">*</span>) <span class="keyword">from</span> Student <span class="keyword">where</span> Class </span>= <span class="string">'95031'</span>;</div></pre></td></tr></table></figure><h2 id="10、查询Score表中的最高分的学生学号和课程号。（子查询或者排序）"><a href="#10、查询Score表中的最高分的学生学号和课程号。（子查询或者排序）" class="headerlink" title="10、查询Score表中的最高分的学生学号和课程号。（子查询或者排序）"></a>10、查询Score表中的最高分的学生学号和课程号。（子查询或者排序）</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> Sno,Cno <span class="keyword">from</span> Score <span class="keyword">where</span> Degree = (</div><div class="line"><span class="keyword">select</span> <span class="built_in">max</span>(Degree) <span class="keyword">from</span> Score);</div><div class="line"><span class="keyword">select</span> Sno,Cno <span class="keyword">from</span> Score <span class="keyword">order</span> <span class="keyword">by</span> Degree <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">1</span>;</div></pre></td></tr></table></figure><h2 id="11、-查询每门课的平均成绩。"><a href="#11、-查询每门课的平均成绩。" class="headerlink" title="11、 查询每门课的平均成绩。"></a>11、 查询每门课的平均成绩。</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#单表查询</span></div><div class="line">select Cno,avg(Degree) <span class="keyword">from</span> Score<span class="built_in"> group </span>by Cno;</div></pre></td></tr></table></figure><h2 id="12、查询Score表中至少有5名学生选修的并以3开头的课程的平均分数。"><a href="#12、查询Score表中至少有5名学生选修的并以3开头的课程的平均分数。" class="headerlink" title="12、查询Score表中至少有5名学生选修的并以3开头的课程的平均分数。"></a>12、查询Score表中至少有5名学生选修的并以3开头的课程的平均分数。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> Cno,<span class="built_in">avg</span>(Degree) <span class="keyword">from</span> Score </div><div class="line"><span class="keyword">where</span> Cno <span class="keyword">like</span> <span class="string">'3%'</span></div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> Cno </div><div class="line"><span class="keyword">having</span> <span class="built_in">count</span>(Sno) &gt;=<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(Degree) <span class="keyword">from</span> score <span class="keyword">where</span> Cno <span class="keyword">like</span> <span class="string">'3%'</span> <span class="keyword">and</span> Cno <span class="keyword">in</span> (<span class="keyword">select</span> Cno <span class="keyword">from</span> score <span class="keyword">group</span> <span class="keyword">by</span> Cno <span class="keyword">having</span> <span class="built_in">count</span>(*)&gt;=<span class="number">5</span>);</div></pre></td></tr></table></figure><h2 id="13、查询分数大于70，小于90的Sno列。"><a href="#13、查询分数大于70，小于90的Sno列。" class="headerlink" title="13、查询分数大于70，小于90的Sno列。"></a>13、查询分数大于70，小于90的Sno列。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Degree &gt;<span class="number">70</span> <span class="keyword">and</span> Degree &lt; <span class="number">90</span>;</div></pre></td></tr></table></figure><h2 id="14、查询所有学生的Sname、Cno和Degree列。"><a href="#14、查询所有学生的Sname、Cno和Degree列。" class="headerlink" title="14、查询所有学生的Sname、Cno和Degree列。"></a>14、查询所有学生的Sname、Cno和Degree列。</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#多表查询</span></div><div class="line"><span class="comment">#可以用where,内连接，子查询</span></div><div class="line"><span class="attribute">select</span> Sname,C<span class="literal">no</span>,Degree from Student,Score where Student.S<span class="literal">no</span>=Score.S<span class="literal">no</span>;</div><div class="line"></div><div class="line"><span class="attribute">select</span> Sname,C<span class="literal">no</span>,Degree from Student inner join Score</div><div class="line"><span class="literal">on</span> Student.S<span class="literal">no</span>=Score.S<span class="literal">no</span>;</div></pre></td></tr></table></figure><h2 id="15、查询所有学生的Sno、Cname和Degree列。"><a href="#15、查询所有学生的Sno、Cname和Degree列。" class="headerlink" title="15、查询所有学生的Sno、Cname和Degree列。"></a>15、查询所有学生的Sno、Cname和Degree列。</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#多表查询</span></div><div class="line"><span class="comment">#同上</span></div><div class="line"><span class="attribute">select</span> S<span class="literal">no</span>,Cname,Degree from Score,Course where Score.C<span class="literal">no</span>=Course.C<span class="literal">no</span>;</div></pre></td></tr></table></figure><h2 id="16、查询所有学生的Sname、Cname和Degree列。"><a href="#16、查询所有学生的Sname、Cname和Degree列。" class="headerlink" title="16、查询所有学生的Sname、Cname和Degree列。"></a>16、查询所有学生的Sname、Cname和Degree列。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#多表查询</div><div class="line">#同上</div><div class="line"><span class="keyword">select</span> Sname,Cname,Degree <span class="keyword">from</span> student,course,score <span class="keyword">where</span> student.Sno=score.Sno <span class="keyword">and</span> course.Cno=score.Cno;</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sname,Cname,Degree <span class="keyword">from</span> Student <span class="keyword">inner</span> <span class="keyword">join</span> Score <span class="keyword">on</span> Student.Sno=Score.Sno <span class="keyword">inner</span> <span class="keyword">join</span> </div><div class="line">Course <span class="keyword">on</span> Score.Cno=Course.Cno;</div></pre></td></tr></table></figure><h2 id="17、查询“95033”班学生的平均分。"><a href="#17、查询“95033”班学生的平均分。" class="headerlink" title="17、查询“95033”班学生的平均分。"></a>17、查询“95033”班学生的平均分。</h2><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#多表查询</span></div><div class="line"><span class="meta">#用where,内连接，子查询</span></div><div class="line"><span class="keyword">select</span> avg(Degree) <span class="keyword">from</span> Score,Student <span class="keyword">where</span> Student.Sno=Score.Sno <span class="keyword">and</span> <span class="keyword">Class</span>=<span class="comment">'95033';</span></div><div class="line"></div><div class="line"><span class="keyword">select</span> avg(Degree) <span class="keyword">from</span> Score inner <span class="keyword">join</span> Student <span class="keyword">on</span> Student.Sno=Score.Sno <span class="keyword">where</span> <span class="keyword">Class</span>=<span class="comment">'95033';</span></div><div class="line"></div><div class="line"><span class="keyword">select</span> avg(Degree)  <span class="keyword">from</span> Score <span class="keyword">where</span> Sno <span class="keyword">in</span> (<span class="keyword">select</span> Sno <span class="keyword">from</span> Student</div><div class="line"><span class="keyword">where</span> <span class="keyword">Class</span>=<span class="comment">'95033');</span></div></pre></td></tr></table></figure><h2 id="18、-假设使用如下命令建立了一个grade表："><a href="#18、-假设使用如下命令建立了一个grade表：" class="headerlink" title="18、 假设使用如下命令建立了一个grade表："></a>18、 假设使用如下命令建立了一个grade表：</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">table</span> grade(<span class="keyword">low</span>  <span class="built_in">int</span>(<span class="number">3</span>),upp  <span class="built_in">int</span>(<span class="number">3</span>),<span class="keyword">rank</span>  <span class="built_in">char</span>(<span class="number">1</span>))</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">90</span>,<span class="number">100</span>,’A’)</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">80</span>,<span class="number">89</span>,’B’)</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">70</span>,<span class="number">79</span>,’C’)</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">60</span>,<span class="number">69</span>,’D’)</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">0</span>,<span class="number">59</span>,’E’)</div></pre></td></tr></table></figure><p>现查询所有同学的Sno、Cno和rank列。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#多表查询</div><div class="line"><span class="keyword">select</span> Sno,Cno,rank <span class="keyword">from</span> Score,grade <span class="keyword">where</span> Degree <span class="keyword">between</span> low <span class="keyword">and</span> upp;</div></pre></td></tr></table></figure></p><h2 id="19、查询选修“3-105”课程的成绩高于“109”号同学成绩的所有同学的记录。"><a href="#19、查询选修“3-105”课程的成绩高于“109”号同学成绩的所有同学的记录。" class="headerlink" title="19、查询选修“3-105”课程的成绩高于“109”号同学成绩的所有同学的记录。"></a>19、查询选修“3-105”课程的成绩高于“109”号同学成绩的所有同学的记录。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line">#109同学，选修是3-105课的</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score <span class="keyword">where</span> Cno=<span class="string">'3-105'</span> <span class="keyword">and</span> degree&gt;(<span class="keyword">select</span> <span class="built_in">max</span>(degree ) <span class="keyword">from</span> Score <span class="keyword">where</span> Sno=<span class="string">'109'</span> <span class="keyword">and</span> Cno=<span class="string">'3-105'</span> );</div><div class="line">#109同学，没有选修3-105课</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-105'</span> <span class="keyword">and</span> Degree &gt; (</div><div class="line"><span class="keyword">select</span> <span class="built_in">max</span>(Degree) <span class="keyword">from</span> Score <span class="keyword">where</span> Sno =<span class="string">'109'</span>)<span class="keyword">and</span> degree&lt;( <span class="keyword">select</span> <span class="built_in">max</span>(degree ) <span class="keyword">from</span> Score <span class="keyword">where</span> sno <span class="keyword">in</span> (<span class="keyword">select</span> Sno <span class="keyword">from</span> score <span class="keyword">group</span> <span class="keyword">by</span> Sno <span class="keyword">having</span> <span class="built_in">count</span>(*)&gt;<span class="number">1</span>));</div><div class="line">#选了多门课程并且是这个课程下不是最高分的</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score a <span class="keyword">where</span> Sno <span class="keyword">in</span> (<span class="keyword">select</span> Sno <span class="keyword">from</span> score <span class="keyword">group</span> <span class="keyword">by</span> Sno <span class="keyword">having</span> <span class="built_in">count</span>(*)&gt;<span class="number">1</span>) <span class="keyword">and</span> degree&lt;( <span class="keyword">select</span> <span class="built_in">max</span>(degree ) <span class="keyword">from</span> Score b <span class="keyword">where</span> b.cno = a.cno)</div><div class="line">;</div></pre></td></tr></table></figure><h2 id="21、查询成绩高于学号为“109”、课程号为“3-105”的成绩的所有记录。"><a href="#21、查询成绩高于学号为“109”、课程号为“3-105”的成绩的所有记录。" class="headerlink" title="21、查询成绩高于学号为“109”、课程号为“3-105”的成绩的所有记录。"></a>21、查询成绩高于学号为“109”、课程号为“3-105”的成绩的所有记录。</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">where</span> Degree &gt;(</div><div class="line"><span class="keyword">select</span> Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'109'</span> and Course = <span class="string">'3-105'</span>);</div></pre></td></tr></table></figure><h2 id="22、查询和学号为108、101的同学同年出生的所有学生的Sno、Sname和Sbirthday列。"><a href="#22、查询和学号为108、101的同学同年出生的所有学生的Sno、Sname和Sbirthday列。" class="headerlink" title="22、查询和学号为108、101的同学同年出生的所有学生的Sno、Sname和Sbirthday列。"></a>22、查询和学号为108、101的同学同年出生的所有学生的Sno、Sname和Sbirthday列。</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> Sno,Sname,<span class="function">Sbirthday <span class="keyword">from</span> Student <span class="keyword">where</span> <span class="title">year</span>(<span class="params">Sbirthday</span>) <span class="title">in</span> (<span class="params"></span></span></div><div class="line"><span class="function"><span class="params"><span class="keyword">select</span> year(Sbirthday</span>) <span class="keyword">from</span> Student <span class="keyword">where</span> Sno</span>=<span class="string">'108'</span> or <span class="string">'101'</span>);</div></pre></td></tr></table></figure><h2 id="23、查询“张旭“教师任课的学生成绩。"><a href="#23、查询“张旭“教师任课的学生成绩。" class="headerlink" title="23、查询“张旭“教师任课的学生成绩。"></a>23、查询“张旭“教师任课的学生成绩。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">#多表查询</div><div class="line">#用where,内连接，子查询</div><div class="line"><span class="keyword">select</span> Sno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Course <span class="keyword">where</span> Tno <span class="keyword">in</span>(</div><div class="line"><span class="keyword">select</span> Tno <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tname = <span class="string">'张旭'</span>));</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sno,Degree <span class="keyword">from</span> Score,Course,Teacher <span class="keyword">where</span></div><div class="line">Score.Cno=Course.Cno <span class="keyword">and</span> Course.Tno=Teacher.Tno <span class="keyword">and</span> Tname = <span class="string">'张旭'</span> ;</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sno,Degree <span class="keyword">from</span> Score <span class="keyword">inner</span> <span class="keyword">join</span> Course <span class="keyword">on</span> Score.Cno=Course.Cno <span class="keyword">inner</span> <span class="keyword">join</span> Teacher <span class="keyword">on</span> Teacher.Tno=Course.Tno <span class="keyword">where</span> Tname =<span class="string">'张旭'</span> ;</div></pre></td></tr></table></figure><h2 id="24、查询选修某课程的同学人数多于5人的教师姓名。"><a href="#24、查询选修某课程的同学人数多于5人的教师姓名。" class="headerlink" title="24、查询选修某课程的同学人数多于5人的教师姓名。"></a>24、查询选修某课程的同学人数多于5人的教师姓名。</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#多表查询</span></div><div class="line"><span class="comment">#用where,内连接，子查询</span></div><div class="line">select Tname <span class="keyword">from</span> Teacher where Tno <span class="keyword">in</span> (</div><div class="line">select Tno <span class="keyword">from</span> Course where Cno <span class="keyword">in</span> (</div><div class="line">select Cno <span class="keyword">from</span> Score<span class="built_in"> group </span>by Cno having count(Sno)&gt;5));</div><div class="line"></div><div class="line">select Tname <span class="keyword">from</span> Teacher,  Course where Teacher.<span class="attribute">Tno</span>=Course.Tno <span class="keyword">and</span> Course.Cno =(select Cno <span class="keyword">from</span> Score<span class="built_in"> group </span>by Cno having count(*)&gt;5);</div></pre></td></tr></table></figure><h2 id="25、查询95033班和95031班全体学生的记录。"><a href="#25、查询95033班和95031班全体学生的记录。" class="headerlink" title="25、查询95033班和95031班全体学生的记录。"></a>25、查询95033班和95031班全体学生的记录。</h2><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#多表查询</div><div class="line">#用<span class="keyword">where</span>,内连接，子查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student,Score,Course <span class="keyword">where</span> Student.Sno=Score.Sno <span class="keyword">and</span> Score.Cno=Course.Cno <span class="keyword">and</span> <span class="keyword">class</span> = <span class="string">'95033'</span> <span class="keyword">or</span> <span class="string">'95031'</span>;</div></pre></td></tr></table></figure><h2 id="26、-查询存在有85分以上成绩的课程Cno。"><a href="#26、-查询存在有85分以上成绩的课程Cno。" class="headerlink" title="26、  查询存在有85分以上成绩的课程Cno。"></a>26、  查询存在有85分以上成绩的课程Cno。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Score <span class="keyword">where</span> Degree &gt;<span class="number">85</span>;</div></pre></td></tr></table></figure><h2 id="27、查询出“计算机系“教师所教课程的成绩表。"><a href="#27、查询出“计算机系“教师所教课程的成绩表。" class="headerlink" title="27、查询出“计算机系“教师所教课程的成绩表。"></a>27、查询出“计算机系“教师所教课程的成绩表。</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#多表查询</span></div><div class="line"><span class="comment">#用where,内连接，子查询</span></div><div class="line"><span class="attribute">select</span> * from Score where C<span class="literal">no</span> in (</div><div class="line"><span class="literal">select</span> C<span class="literal">no</span> from Course where T<span class="literal">no</span> in (</div><div class="line"><span class="literal">select</span> T<span class="literal">no</span> from Teacher where Depart = <span class="string">'计算机系'</span>));</div><div class="line"><span class="comment">#先找交集再not in</span></div><div class="line"><span class="attribute">select</span> Score.S<span class="literal">no</span>,Score.C<span class="literal">no</span>,Score.Degree from Score,Course,Teacher where Score.C<span class="literal">no</span>=Course.C<span class="literal">no</span> and Course.T<span class="literal">no</span>=Teacher.T<span class="literal">no</span> and Depart = <span class="string">'计算机系'</span>;</div><div class="line"></div><div class="line"><span class="attribute">select</span> Score.S<span class="literal">no</span>,Score.C<span class="literal">no</span>,Score.Degree from Score inner join Course <span class="literal">on</span> Score.C<span class="literal">no</span>=Course.C<span class="literal">no</span> inner join Teacher <span class="literal">on</span> Teacher.T<span class="literal">no</span> =Course.T<span class="literal">no</span> where Depart =<span class="string">'计算机系'</span>;</div></pre></td></tr></table></figure><h2 id="28、查询“计算-机系”与“电子工程系“不同职称的教师的Tname和Prof。"><a href="#28、查询“计算-机系”与“电子工程系“不同职称的教师的Tname和Prof。" class="headerlink" title="28、查询“计算 机系”与“电子工程系“不同职称的教师的Tname和Prof。"></a>28、查询“计算 机系”与“电子工程系“不同职称的教师的Tname和Prof。</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Tname,Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Prof <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Prof <span class="keyword">in</span> (<span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart = <span class="string">'计算机系'</span>) <span class="keyword">and</span> Depart = <span class="string">'电子工程系'</span>);</div><div class="line"></div><div class="line"><span class="keyword">select</span> Tname,Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Prof <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart = <span class="string">'计算机系'</span> <span class="keyword">or</span> Depart =<span class="string">'电子工程系'</span> <span class="keyword">group</span> <span class="keyword">by</span> Prof <span class="keyword">having</span> <span class="keyword">count</span>(*)&gt;<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="keyword">select</span> Tname,Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart =<span class="string">'计算机系'</span> <span class="keyword">and</span> Prof  <span class="keyword">not</span> <span class="keyword">in</span>( <span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart =<span class="string">'电子工程系'</span>)</div><div class="line"><span class="keyword">union</span> </div><div class="line"><span class="keyword">select</span> Tname,Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart =<span class="string">'电子工程系'</span> <span class="keyword">and</span> Prof  <span class="keyword">not</span> <span class="keyword">in</span>( <span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart =<span class="string">'计算机系'</span>);</div></pre></td></tr></table></figure><h2 id="29、查询选修编号为“3-105“课程且成绩至少高于选修编号为“3-245”的同学的Cno、Sno和Degree-并按Degree从高到低次序排序。"><a href="#29、查询选修编号为“3-105“课程且成绩至少高于选修编号为“3-245”的同学的Cno、Sno和Degree-并按Degree从高到低次序排序。" class="headerlink" title="29、查询选修编号为“3-105“课程且成绩至少高于选修编号为“3-245”的同学的Cno、Sno和Degree,并按Degree从高到低次序排序。"></a>29、查询选修编号为“3-105“课程且成绩至少高于选修编号为“3-245”的同学的Cno、Sno和Degree,并按Degree从高到低次序排序。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Cno,Sno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-105'</span> <span class="keyword">and</span> Degree &gt;</div><div class="line"><span class="keyword">any</span>(<span class="keyword">select</span> Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-245'</span>) <span class="keyword">order</span> <span class="keyword">by</span> Degree <span class="keyword">desc</span>;</div><div class="line"></div><div class="line"><span class="keyword">select</span> Cno,Sno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-105'</span> <span class="keyword">and</span> Degree &gt;</div><div class="line">(<span class="keyword">select</span> <span class="built_in">min</span>(Degree) <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-245'</span>) <span class="keyword">order</span> <span class="keyword">by</span> Degree <span class="keyword">desc</span>;</div><div class="line">#大于任何一个或者大于最小的</div></pre></td></tr></table></figure><h2 id="30、查询选修编号为“3-105”且成绩高于选修编号为“3-245”课程的同学的Cno、Sno和Degree。"><a href="#30、查询选修编号为“3-105”且成绩高于选修编号为“3-245”课程的同学的Cno、Sno和Degree。" class="headerlink" title="30、查询选修编号为“3-105”且成绩高于选修编号为“3-245”课程的同学的Cno、Sno和Degree。"></a>30、查询选修编号为“3-105”且成绩高于选修编号为“3-245”课程的同学的Cno、Sno和Degree。</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Cno,Sno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-105'</span> <span class="keyword">and</span> Degree &gt; all(<span class="keyword">select</span> Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-245'</span>);</div></pre></td></tr></table></figure><h2 id="31、-查询所有教师和同学的name、sex和birthday。"><a href="#31、-查询所有教师和同学的name、sex和birthday。" class="headerlink" title="31、 查询所有教师和同学的name、sex和birthday。"></a>31、 查询所有教师和同学的name、sex和birthday。</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname <span class="keyword">as</span> <span class="string">'学生'</span>,Ssex,Sbirthday from Student</div><div class="line"><span class="class"><span class="keyword">union</span></span></div><div class="line"><span class="keyword">select</span> Tname <span class="keyword">as</span> <span class="string">'老师'</span>,Tsex,Tbirthday from Teacher;</div></pre></td></tr></table></figure><h2 id="32、查询所有“女”教师和“女”同学的name、sex和birthday。"><a href="#32、查询所有“女”教师和“女”同学的name、sex和birthday。" class="headerlink" title="32、查询所有“女”教师和“女”同学的name、sex和birthday。"></a>32、查询所有“女”教师和“女”同学的name、sex和birthday。</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname,Ssex,Sbirthday from Student where Ssex = <span class="string">'女'</span></div><div class="line"><span class="class"><span class="keyword">union</span></span></div><div class="line"><span class="keyword">select</span> Tname,Tsex,Tbirthday from Teacher where Tsex = <span class="string">'女'</span>;</div></pre></td></tr></table></figure><h2 id="33、-查询成绩比该课程平均成绩低的同学的成绩表。"><a href="#33、-查询成绩比该课程平均成绩低的同学的成绩表。" class="headerlink" title="33、 查询成绩比该课程平均成绩低的同学的成绩表。"></a>33、 查询成绩比该课程平均成绩低的同学的成绩表。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score a  <span class="keyword">where</span> degree &lt; (</div><div class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(degree) <span class="keyword">from</span> score b <span class="keyword">where</span> b.cno=a.cno);</div></pre></td></tr></table></figure><blockquote><p>这是一种特殊形式的父子表连接（自连接）SQL选择查询写法。对于这种特殊的写法，数据库引擎会以特殊的方式检索父查询表里的数据。如果搞不清楚这种特殊的检索方式，我们很难从该SQL语句的表面逻辑理出个中道理。<br>现在我们来分拆该SQL语句里的父查询和子查询<br>1）语句中的父查询<br>select * from score a where degree&lt;”子查询获得的一个数据值“<br>2）语句中的子查询<br>select avg(degree) from score b where a.cno=b.cno<br>请注意这个子查询的from子句里只有一张表 b ，但是where子句里却出现了第二张表 a ，<br>如果单独运行这个子查询，因为子查询没有列出表a，系统会要求输入a.cno或者直接报错，反正无法顺利执行，但是表a可以在父查询里的from子句中找到，面对这种情况数据库引擎会采取逐条取主查询记录与子查询实施比对以确定是否检出该条记录，最后汇总各次检索的结果输出整个记录集。<br>这个特殊的SQL语句检索过程大致如下：<br>取出首条记录的a.cno用作过滤，子查询里以avg函数得到该课程的平均分，主查询以分数比对平均分，满足条件保留否则抛弃（degree小于平均分的留下）；<br>跟着判断父查询表下一条记录，处理过程相同，最后合并各次判断结果从而的到最终结果。<br>这种特殊的写法可以规避输出包含非分组字段，而分组不得输出非分组字段的矛盾。</p><h2 id="34、-查询所有任课教师的Tname和Depart。"><a href="#34、-查询所有任课教师的Tname和Depart。" class="headerlink" title="34、 查询所有任课教师的Tname和Depart。"></a>34、 查询所有任课教师的Tname和Depart。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Tname,Depart <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Tno <span class="keyword">from</span> Course);</div></pre></td></tr></table></figure></blockquote><h2 id="35-、查询所有未讲课的教师的Tname和Depart。"><a href="#35-、查询所有未讲课的教师的Tname和Depart。" class="headerlink" title="35 、查询所有未讲课的教师的Tname和Depart。"></a>35 、查询所有未讲课的教师的Tname和Depart。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Tname,Depart <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tno <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Tno <span class="keyword">from</span> Course <span class="keyword">where</span> Cno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Score ));</div></pre></td></tr></table></figure><h2 id="36、查询至少有2名男生的班号。"><a href="#36、查询至少有2名男生的班号。" class="headerlink" title="36、查询至少有2名男生的班号。"></a>36、查询至少有2名男生的班号。</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">Class</span> <span class="keyword">from</span> Student <span class="keyword">where</span> Ssex = <span class="string">'男'</span></div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">Class</span> </div><div class="line"><span class="keyword">having</span> <span class="keyword">count</span>(Ssex) &gt;<span class="number">1</span>;</div></pre></td></tr></table></figure><h2 id="37、查询Student表中不姓“王”的同学记录。"><a href="#37、查询Student表中不姓“王”的同学记录。" class="headerlink" title="37、查询Student表中不姓“王”的同学记录。"></a>37、查询Student表中不姓“王”的同学记录。</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student <span class="keyword">where</span> Sname <span class="keyword">not</span> <span class="keyword">like</span> <span class="string">'王%%'</span>;</div></pre></td></tr></table></figure><h2 id="38、查询Student表中每个学生的姓名和年龄。"><a href="#38、查询Student表中每个学生的姓名和年龄。" class="headerlink" title="38、查询Student表中每个学生的姓名和年龄。"></a>38、查询Student表中每个学生的姓名和年龄。</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname,<span class="keyword">year</span>(<span class="keyword">now</span>())-<span class="keyword">year</span>(Sbirthday) <span class="keyword">from</span> Student;</div></pre></td></tr></table></figure><h2 id="39、查询Student表中最大和最小的Sbirthday日期值。"><a href="#39、查询Student表中最大和最小的Sbirthday日期值。" class="headerlink" title="39、查询Student表中最大和最小的Sbirthday日期值。"></a>39、查询Student表中最大和最小的Sbirthday日期值。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="built_in">max</span>(Sbirthday),<span class="built_in">min</span>(Sbirthday) <span class="keyword">from</span> Student;</div></pre></td></tr></table></figure><h2 id="40、以班号和年龄从大到小的顺序查询Student表中的全部记录。"><a href="#40、以班号和年龄从大到小的顺序查询Student表中的全部记录。" class="headerlink" title="40、以班号和年龄从大到小的顺序查询Student表中的全部记录。"></a>40、以班号和年龄从大到小的顺序查询Student表中的全部记录。</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">Class</span> <span class="keyword">desc</span>,Sbirthday;</div></pre></td></tr></table></figure><h2 id="41、查询“男”教师及其所上的课程。"><a href="#41、查询“男”教师及其所上的课程。" class="headerlink" title="41、查询“男”教师及其所上的课程。"></a>41、查询“男”教师及其所上的课程。</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#需要两个表的信息用where或者连接查询</span></div><div class="line">select Cno,Cname,Tname <span class="keyword">from</span> Course,Teacher where Course.<span class="attribute">Tno</span>=Teacher.Tno <span class="keyword">and</span> <span class="attribute">Tsex</span>=<span class="string">'男'</span>;</div><div class="line"></div><div class="line">select Cno,Cname,Tname <span class="keyword">from</span> Course inner join Teacher on Course.<span class="attribute">Tno</span>=Teacher.Tno where <span class="attribute">Tsex</span>=<span class="string">'男'</span>;</div></pre></td></tr></table></figure><h2 id="42、查询最高分同学的Sno、Cno和Degree列。"><a href="#42、查询最高分同学的Sno、Cno和Degree列。" class="headerlink" title="42、查询最高分同学的Sno、Cno和Degree列。"></a>42、查询最高分同学的Sno、Cno和Degree列。</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sno,Cno,Degree <span class="keyword">from</span> Score <span class="keyword">order</span> <span class="keyword">by</span> Degree <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">1</span>;</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sno,Cno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Degree = (</div><div class="line"><span class="keyword">select</span> <span class="built_in">max</span>(Degree) <span class="keyword">from</span> Score);</div></pre></td></tr></table></figure><h2 id="43、查询和“李军”同性别的所有同学的Sname。"><a href="#43、查询和“李军”同性别的所有同学的Sname。" class="headerlink" title="43、查询和“李军”同性别的所有同学的Sname。"></a>43、查询和“李军”同性别的所有同学的Sname。</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Ssex = (</div><div class="line"><span class="keyword">select</span> Ssex <span class="keyword">from</span> Student <span class="keyword">where</span> Sname = <span class="string">'李军'</span>);</div></pre></td></tr></table></figure><h2 id="44、查询和“李军”同性别并同班的同学Sname。"><a href="#44、查询和“李军”同性别并同班的同学Sname。" class="headerlink" title="44、查询和“李军”同性别并同班的同学Sname。"></a>44、查询和“李军”同性别并同班的同学Sname。</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Ssex = (</div><div class="line"><span class="keyword">select</span> Ssex <span class="keyword">from</span> Student <span class="keyword">where</span> Sname = <span class="string">'李军'</span>)</div><div class="line"><span class="keyword">and</span> <span class="keyword">Class</span> = (</div><div class="line"><span class="keyword">select</span> <span class="keyword">Class</span> <span class="keyword">from</span> Student <span class="keyword">where</span> Sname = <span class="string">'李军'</span>);</div></pre></td></tr></table></figure><h2 id="45、查询所有选修“计算机导论”课程的“男”同学的成绩表。"><a href="#45、查询所有选修“计算机导论”课程的“男”同学的成绩表。" class="headerlink" title="45、查询所有选修“计算机导论”课程的“男”同学的成绩表。"></a>45、查询所有选修“计算机导论”课程的“男”同学的成绩表。</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = (</div><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Course <span class="keyword">where</span> Cname = <span class="string">'计算机导论'</span>) <span class="keyword">and</span></div><div class="line">Sno <span class="keyword">in</span> (<span class="keyword">select</span> Sno <span class="keyword">from</span> Student <span class="keyword">where</span> Ssex = <span class="string">'男'</span>);</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;整理了一些网上的练习题。&lt;br&gt;设有一数据库，包括四个表：学生表（Student）、课程表（Course）、成绩表（Score）以及教师信息表（Teacher）。表结构及数据如下，请完成题目。&lt;/p&gt;
&lt;p&gt;表（一）Student (学生表) ：&lt;br&gt;| 属性名     
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
</feed>
