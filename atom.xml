<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>chumingke-二师兄</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://chumingke.github.io/"/>
  <updated>2017-10-06T09:13:12.000Z</updated>
  <id>https://chumingke.github.io/</id>
  
  <author>
    <name>chumingke</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MySQL触发器与事件调度器</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-triggers-and-event-schedulers.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-triggers-and-event-schedulers.html</id>
    <published>2017-10-06T09:12:37.000Z</published>
    <updated>2017-10-06T09:13:12.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h1><p>自动执行预定好的sql语句<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">触发时间   <span class="keyword">before</span> /<span class="keyword">after</span> </div><div class="line">触发事件   insert,update,<span class="built_in">delete</span> </div><div class="line">触发地点   表名</div><div class="line">触发内容   要执行的语句</div></pre></td></tr></table></figure></p><p>在同一个位置不能建立两个不同的触发器,可以合并</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">##例子1</div><div class="line"><span class="keyword">create</span> <span class="keyword">TRIGGER</span> tr_1</div><div class="line">after <span class="keyword">insert</span> <span class="keyword">on</span> card_money</div><div class="line"><span class="keyword">for</span> <span class="keyword">each</span> row</div><div class="line"><span class="keyword">begin</span></div><div class="line">    <span class="keyword">case</span> <span class="keyword">when</span> c.<span class="built_in">type</span>=<span class="number">1</span>    ##状态码</div><div class="line">    <span class="keyword">then</span></div><div class="line">    <span class="keyword">update</span> card_info <span class="keyword">set</span> money =money+new.c <span class="keyword">where</span> id=new.cid;</div><div class="line">    else</div><div class="line">    <span class="keyword">update</span> card_info <span class="keyword">set</span> money =money-new.c <span class="keyword">where</span> id=new.cid;</div><div class="line">end;</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> card_money <span class="keyword">values</span> (<span class="number">2</span>,<span class="number">1</span>,<span class="number">0.1</span>,<span class="number">1</span>);</div><div class="line"></div><div class="line">例子2:</div><div class="line"><span class="keyword">create</span> <span class="keyword">TRIGGER</span> tr_2</div><div class="line">after <span class="keyword">update</span> <span class="keyword">on</span> card_money</div><div class="line"><span class="keyword">for</span> <span class="keyword">each</span> row</div><div class="line"><span class="keyword">begin</span></div><div class="line">    <span class="keyword">update</span> card_info <span class="keyword">set</span> money =money-old.c+new.c <span class="keyword">where</span> id=new.cid;</div><div class="line">end;</div></pre></td></tr></table></figure><h1 id="事件调度器"><a href="#事件调度器" class="headerlink" title="事件调度器"></a>事件调度器</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;触发器&quot;&gt;&lt;a href=&quot;#触发器&quot; class=&quot;headerlink&quot; title=&quot;触发器&quot;&gt;&lt;/a&gt;触发器&lt;/h1&gt;&lt;p&gt;自动执行预定好的sql语句&lt;br&gt;&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>MySQL数据库小技巧（注意点）</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-database-tips.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-database-tips.html</id>
    <published>2017-10-06T09:00:31.000Z</published>
    <updated>2017-10-06T09:01:03.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="复合语句中声明变量-指令"><a href="#复合语句中声明变量-指令" class="headerlink" title="复合语句中声明变量/指令"></a>复合语句中声明变量/指令</h1><p>declare</p><h1 id="定义sql结束符"><a href="#定义sql结束符" class="headerlink" title="定义sql结束符"></a>定义sql结束符</h1><p>delimiter<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">delimiter %</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> login %</div></pre></td></tr></table></figure></p><h1 id="漂号"><a href="#漂号" class="headerlink" title="漂号`"></a>漂号`</h1><p>用于包裹关键词，来当做普通字符串处理<br>加上后不会自动解析关键词</p><h1 id="把关联查询转为子查询"><a href="#把关联查询转为子查询" class="headerlink" title="把关联查询转为子查询"></a>把关联查询转为子查询</h1><p>能写子查询写子查询</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;复合语句中声明变量-指令&quot;&gt;&lt;a href=&quot;#复合语句中声明变量-指令&quot; class=&quot;headerlink&quot; title=&quot;复合语句中声明变量/指令&quot;&gt;&lt;/a&gt;复合语句中声明变量/指令&lt;/h1&gt;&lt;p&gt;declare&lt;/p&gt;
&lt;h1 id=&quot;定义sql结束符&quot;&gt;
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>Mysql错误码与异常捕获</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-error-code-and-exception-capture.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-error-code-and-exception-capture.html</id>
    <published>2017-10-06T08:56:40.000Z</published>
    <updated>2017-10-06T08:57:20.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mysql错误码"><a href="#Mysql错误码" class="headerlink" title="Mysql错误码"></a>Mysql错误码</h1><p>重要的几个<br><figure class="highlight basic"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">1049 </span>数据库不存在</div><div class="line"><span class="symbol">1051 </span>数据表不存在</div><div class="line"><span class="symbol">1054 </span>字段不存在</div></pre></td></tr></table></figure></p><h1 id="异常捕获"><a href="#异常捕获" class="headerlink" title="异常捕获"></a>异常捕获</h1><h2 id="异常条件类型"><a href="#异常条件类型" class="headerlink" title="异常条件类型"></a>异常条件类型</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#字符串类型的错误码</span></span></div><div class="line">SQLSTATE sqlstate_value</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#数值类型的错误码</span></span></div><div class="line">mysql_error_code</div></pre></td></tr></table></figure><h2 id="异常的定义"><a href="#异常的定义" class="headerlink" title="异常的定义"></a>异常的定义</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DECLARE</span> condition_name CONDITION <span class="keyword">FOR</span> [condition_type]</div></pre></td></tr></table></figure><h2 id="异常的捕获"><a href="#异常的捕获" class="headerlink" title="异常的捕获"></a>异常的捕获</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DECLARE</span> handler_type <span class="keyword">HANDLER</span> <span class="keyword">FOR</span> condition_value [...]</div></pre></td></tr></table></figure><p>handler_type  产生异常做什么操作<br>continue   跳过异常继续执行<br>exit       退出<br>condition_value   异常条件类型</p><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">PROCEDURE</span> show_user(<span class="keyword">out</span> code_num <span class="built_in">int</span>)</div><div class="line"><span class="keyword">BEGIN</span></div><div class="line">    DELCARE no_table condition <span class="keyword">for</span> <span class="number">1054</span>;</div><div class="line">    <span class="keyword">DECLARE</span> CONTINUE <span class="keyword">HANDLER</span> <span class="keyword">FOR</span> <span class="keyword">no</span> <span class="keyword">table</span>;</div><div class="line">    <span class="keyword">set</span> code_num=<span class="number">1</span>;</div><div class="line">    <span class="keyword">select</span> user1 <span class="keyword">from</span> login;</div><div class="line"><span class="keyword">end</span>;</div><div class="line"><span class="keyword">call</span> show_user(@aa) ;</div><div class="line"><span class="keyword">select</span> @aa;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mysql错误码&quot;&gt;&lt;a href=&quot;#Mysql错误码&quot; class=&quot;headerlink&quot; title=&quot;Mysql错误码&quot;&gt;&lt;/a&gt;Mysql错误码&lt;/h1&gt;&lt;p&gt;重要的几个&lt;br&gt;&lt;figure class=&quot;highlight basic&quot;&gt;&lt;tabl
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>MySQL存储过程与视图</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-stored-procedures-and-views.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-stored-procedures-and-views.html</id>
    <published>2017-10-06T08:47:37.000Z</published>
    <updated>2017-10-06T08:48:21.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h1><p>视图相当于把一个复杂sql语句作为表保存起来，对于外层用户，只能查到视图中的数据，保护数据源，可以设置权限<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">##创建</div><div class="line">create view show_week_name <span class="keyword">as</span> (</div><div class="line">...);</div><div class="line">##使用</div><div class="line">select * <span class="keyword">from</span> show_week_name;</div></pre></td></tr></table></figure></p><h1 id="存储过程（带参函数）"><a href="#存储过程（带参函数）" class="headerlink" title="存储过程（带参函数）"></a>存储过程（带参函数）</h1><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">##创建</span></div><div class="line"><span class="function">create produre <span class="title">show_gender_list</span> (<span class="params"><span class="keyword">in</span> sex varchar(<span class="number">20</span></span>),<span class="keyword">out</span> count_num <span class="keyword">int</span>)</span></div><div class="line"><span class="function">BEGIN </span></div><div class="line"><span class="function">    <span class="keyword">select</span> <span class="title">count</span>(<span class="params">*</span>) <span class="keyword">into</span> count_num <span class="keyword">from</span> test</span></div><div class="line"><span class="function">    <span class="keyword">where</span> Gendder </span>= sex;</div><div class="line">end;</div><div class="line"><span class="meta">##使用</span></div><div class="line"><span class="function">call <span class="title">show_gender_list</span>(<span class="params"><span class="string">'男'</span></span>)</span>;</div></pre></td></tr></table></figure><h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">##创建</div><div class="line"><span class="keyword">create</span> <span class="keyword">function</span> show_g(sex varchar(<span class="number">20</span>))</div><div class="line"><span class="keyword">return</span> int</div><div class="line"><span class="keyword">BEGIN</span></div><div class="line">    <span class="keyword">set</span> @aaa = <span class="number">1</span>;</div><div class="line">    <span class="keyword">select</span> <span class="built_in">count</span>(*) <span class="keyword">into</span> @aaa <span class="keyword">from</span> test</div><div class="line">    <span class="keyword">where</span> Gender = sex;</div><div class="line">    return 1;</div><div class="line">end;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;视图&quot;&gt;&lt;a href=&quot;#视图&quot; class=&quot;headerlink&quot; title=&quot;视图&quot;&gt;&lt;/a&gt;视图&lt;/h1&gt;&lt;p&gt;视图相当于把一个复杂sql语句作为表保存起来，对于外层用户，只能查到视图中的数据，保护数据源，可以设置权限&lt;br&gt;&lt;figure class
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>数据库分析的简单步骤</title>
    <link href="https://chumingke.github.io//blog/2017/10/Simple-steps-for-database-analysis.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Simple-steps-for-database-analysis.html</id>
    <published>2017-10-06T08:37:31.000Z</published>
    <updated>2017-10-06T08:48:40.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="第一步-大概看一下"><a href="#第一步-大概看一下" class="headerlink" title="第一步 大概看一下"></a>第一步 大概看一下</h1><p>拿到一张表，首先看一下它的字段</p><h1 id="第二步-确定数据规模"><a href="#第二步-确定数据规模" class="headerlink" title="第二步 确定数据规模"></a>第二步 确定数据规模</h1><p>确定数据规模 几行几列count</p><h1 id="第三步-确定分类字段对应的数据规模"><a href="#第三步-确定分类字段对应的数据规模" class="headerlink" title="第三步 确定分类字段对应的数据规模"></a>第三步 确定分类字段对应的数据规模</h1><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">count(*) ..<span class="keyword">group</span> <span class="title">by</span>  <span class="keyword">order</span> <span class="title">by</span></div></pre></td></tr></table></figure><p>比如会员类型，性别，地点，时间</p><h2 id="地点城市"><a href="#地点城市" class="headerlink" title="地点城市"></a>地点城市</h2><p>如果字段中含有城市，一般不在Mysql中切割<br>因为耗时间，比如每个市名字字数不一样，语句会很复杂<br>通常找一张城市表进行多表查询</p><h2 id="按照年月（时间）"><a href="#按照年月（时间）" class="headerlink" title="按照年月（时间）"></a>按照年月（时间）</h2><p>###日期格式化<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">DATE_FORMAT(date,format)</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">test</span> <span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">DATE_FORMAT</span>(<span class="built_in">date</span>,<span class="string">'%Y-%m'</span>)</div></pre></td></tr></table></figure></p><h3 id="格式化参数说明"><a href="#格式化参数说明" class="headerlink" title="格式化参数说明"></a>格式化参数说明</h3><p>ymdwhis<br>Y完整年，y取年后两位，M英语月份，m数字型月份<br>D 英语日，d数字日。H 24进制小时，h 12进制小时<br>I 等同于h，i 分钟。S 等同于s 代表秒<br>W 英语星期，w 数字形式星期<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="attr">#例如：</span></div><div class="line"><span class="attr">'20150711</span><span class="string">'</span></div><div class="line"><span class="string">'</span><span class="meta">%</span>Y<span class="meta">%</span>m<span class="meta">%</span>d<span class="string">'</span></div><div class="line"><span class="string">'</span><span class="number">150711</span><span class="string">'</span></div><div class="line"><span class="string">'</span><span class="meta">%</span>y<span class="meta">%</span>m<span class="meta">%</span>d<span class="string">'</span></div><div class="line"><span class="string">小写的对应不完整的年份，自动脑补前面两个</span></div></pre></td></tr></table></figure></p><h3 id="字符串转化为时间（将生日转化为时间）"><a href="#字符串转化为时间（将生日转化为时间）" class="headerlink" title="字符串转化为时间（将生日转化为时间）"></a>字符串转化为时间（将生日转化为时间）</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">STR_TO_DATE(date,format)</div><div class="line"><span class="keyword">select</span> <span class="keyword">STR_TO_DATE</span>(<span class="string">'2015+07+11'</span>,<span class="string">'%Y+%m+%d'</span>)</div><div class="line">##将生日转化为时间进行分组:</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">test</span> </div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">DATE_FORMAT</span>(<span class="keyword">STR_TO_DATE</span>(Birthday,<span class="string">'%Y%m%d'</span>),<span class="string">'%Y-%m'</span>)</div></pre></td></tr></table></figure><h3 id="根据出生年月日，转化为星期，用英文显示周几出生的人比较多"><a href="#根据出生年月日，转化为星期，用英文显示周几出生的人比较多" class="headerlink" title="根据出生年月日，转化为星期，用英文显示周几出生的人比较多"></a>根据出生年月日，转化为星期，用英文显示周几出生的人比较多</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">count</span>(week_name),week_name <span class="keyword">from</span> (</div><div class="line"><span class="keyword">select</span> <span class="keyword">DATE_FORMAT</span>(<span class="keyword">STR_TO_DATE</span>(Birthday,<span class="string">'%Y%m%d'</span>),<span class="string">'%W'</span>) <span class="keyword">as</span> week_name <span class="keyword">from</span> <span class="keyword">test</span> </div><div class="line">) <span class="keyword">as</span> a</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> week_name</div><div class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">count</span>(week_name) <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">1</span>;</div></pre></td></tr></table></figure><h2 id="注意如何既显示中文同时排序，因为可能用中文排序不行"><a href="#注意如何既显示中文同时排序，因为可能用中文排序不行" class="headerlink" title="注意如何既显示中文同时排序，因为可能用中文排序不行"></a>注意如何既显示中文同时排序，因为可能用中文排序不行</h2><p>先通过英文字段排序，再将结果作为一个表，select..as 中文</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;第一步-大概看一下&quot;&gt;&lt;a href=&quot;#第一步-大概看一下&quot; class=&quot;headerlink&quot; title=&quot;第一步 大概看一下&quot;&gt;&lt;/a&gt;第一步 大概看一下&lt;/h1&gt;&lt;p&gt;拿到一张表，首先看一下它的字段&lt;/p&gt;
&lt;h1 id=&quot;第二步-确定数据规模&quot;&gt;&lt;a
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>MySQL查询语句练习题(45题版)</title>
    <link href="https://chumingke.github.io//blog/2017/10/MySQL-query-exercises-45.html"/>
    <id>https://chumingke.github.io//blog/2017/10/MySQL-query-exercises-45.html</id>
    <published>2017-10-05T05:09:58.000Z</published>
    <updated>2017-10-05T05:11:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>整理了一些网上的练习题。<br>设有一数据库，包括四个表：学生表（Student）、课程表（Course）、成绩表（Score）以及教师信息表（Teacher）。表结构及数据如下，请完成题目。</p><p>表（一）Student (学生表) ：<br>| 属性名        | 数据类型       | 可否为空  |  含 义|<br>| :——–: |:———–:|:———-:|:——:|<br>| Sno    |varchar (20) |否      |学号（主码） |<br>| Sname    |varchar (20) |否      |学生姓名 |<br>| Ssex   |varchar (20) |否      |学生性别 |<br>| Sbirthday  |datetime |可      |学生出生年月 |<br>| Class    |varchar (20) |可     |学生所在班级 |<br>表（二）Course（课程表）：<br>| 属性名        | 数据类型       | 可否为空  |  含 义|<br>| :——–: |:———–:|:———-:|:——:|<br>| Cno   |varchar (20) |否      |课程号（主码） |<br>| Cname   |varchar (20) |否      |课程名称|<br>| Tno   |varchar (20) |否      |教工编号（外码） |<br>表（三）Score(成绩表)：<br>| 属性名        | 数据类型       | 可否为空  |  含 义|<br>| :——–: |:———–:|:———-:|:——:|<br>| Sno    |varchar (20) |否      |学号（外码）） |<br>| Cno    |varchar (20) |否      |课程号（外码） |<br>| Degree   |Decimal(4,1) |可      |成绩 |<br>| 主码：Sno+ Cno   |<br>表（四）Teacher(教师表)：<br>| 属性名        | 数据类型       | 可否为空  |  含 义|<br>| :——–: |:———–:|:———-:|:——:|<br>| Tno    |varchar (20) |否      |教工编号（主码） |<br>| Tname    |varchar (20) |否      |教工姓名 |<br>| Tsex   |varchar (20) |否      |教工性别 |<br>| Tbirthday  |datetime |可      |教工出生年月 |<br>| Prof    |varchar (20) |可     |职称 |<br>| Depart    |varchar (20) |否    |教工所在部门 |</p><p>表1-2数据库中的数据：<br>表（一）Student:<br>| Sno     | Sname   | Ssex  | Sbirthday| class|<br>| :—–: |:——:|:—–:|:——:|:——:|<br>| 108   |曾华 |男     |1977-09-01 |95033|<br>|105|匡明|男|1975-10-02|95031|<br>|107|王丽|女|1976-01-23|95033|<br>|101|李军|男|1976-02-20|95033|<br>|109|王芳|女|1975-02-10|95031|<br>|103|陆君|男|1974-06-03|95031|<br>表（二）Course:<br>| Cno    | Cname  | Tno  |<br>| :—–: |:——:|:—–:|<br>| 3-105| 计算机导论| 825|<br>| 3-245| 操作系统| 804|<br>| 6-166| 数字电路| 856|<br>| 9-888| 高等数学| 831|<br>表（三）Score:<br>| Sno   | Cno  | Degree |<br>| :—–: |:——:|:—–:|<br>|103|3-245|86|<br>|105|3-245|75|<br>|109|3-245|68|<br>|103|3-105|92|<br>|105|3-105|88|<br>|109|3-105|76|<br>|101|3-105|64|<br>|107|3-105|91|<br>|108|3-105|78|<br>|101|6-166|85|<br>|107|6-166|79|<br>|108|6-166|81|<br>表（四）Teacher:<br>| Tno     | Tname  | Tsex  | Tbirthday| Prof|Depart|<br>| :—–: |:——:|:—-:|:——:|:—-:|:——:|<br>| 804| 李诚| 男| 1958-12-02| 副教授| 计算机系|<br>| 856| 张旭| 男| 1969-03-12| 讲师| 电子工程系|<br>| 825| 王萍| 女| 1972-05-05| 助教| 计算机系|<br>| 831| 刘冰| 女| 1977-08-14| 助教| 电子工程系|<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#建学生信息表student</span></div><div class="line"><span class="function">create table <span class="title">student</span>(<span class="params"></span></span></div><div class="line"><span class="function"><span class="params">sno varchar(<span class="number">20</span></span>) not <span class="literal">null</span> primary key,</span></div><div class="line"><span class="function">sname <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">ssex <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">sbirthday datetime,</span></div><div class="line"><span class="function">class <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>)</span></div><div class="line"><span class="function">)</span>;</div><div class="line"><span class="meta">#建立教师表</span></div><div class="line">create table teacher</div><div class="line">(</div><div class="line"><span class="function">tno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span> primary key,</span></div><div class="line"><span class="function">tname <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">tsex <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">tbirthday datetime,</span></div><div class="line"><span class="function">prof <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>),</span></div><div class="line"><span class="function">depart <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span></span></div><div class="line"><span class="function">)</span>;</div><div class="line"><span class="meta">#建立课程表course</span></div><div class="line">create table course</div><div class="line">(</div><div class="line"><span class="function">cno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span> primary key,</span></div><div class="line"><span class="function">cname <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">tno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">foreign <span class="title">key</span>(<span class="params">tno</span>) references <span class="title">teacher</span>(<span class="params">tno</span>)</span></div><div class="line"><span class="function">)</span>;</div><div class="line"><span class="meta">#建立成绩表</span></div><div class="line">create table score</div><div class="line">(</div><div class="line"><span class="function">sno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span> primary key,</span></div><div class="line"><span class="function">foreign <span class="title">key</span>(<span class="params">sno</span>) references <span class="title">student</span>(<span class="params">sno</span>),</span></div><div class="line"><span class="function">cno <span class="title">varchar</span>(<span class="params"><span class="number">20</span></span>) not <span class="literal">null</span>,</span></div><div class="line"><span class="function">foreign <span class="title">key</span>(<span class="params">cno</span>) references <span class="title">course</span>(<span class="params">cno</span>),</span></div><div class="line"><span class="function">degree <span class="keyword">decimal</span></span></div><div class="line"><span class="function">)</span>;</div><div class="line"><span class="meta">#添加学生信息</span></div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'108'</span>,<span class="string">'曾华'</span>,<span class="string">'男'</span>,<span class="string">'1977-09-01'</span>,<span class="string">'95033'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'匡明'</span>,<span class="string">'男'</span>,<span class="string">'1975-10-02'</span>,<span class="string">'95031'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'107'</span>,<span class="string">'王丽'</span>,<span class="string">'女'</span>,<span class="string">'1976-01-23'</span>,<span class="string">'95033'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'101'</span>,<span class="string">'李军'</span>,<span class="string">'男'</span>,<span class="string">'1976-02-20'</span>,<span class="string">'95033'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'王芳'</span>,<span class="string">'女'</span>,<span class="string">'1975-02-10'</span>,<span class="string">'95031'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> student <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'陆君'</span>,<span class="string">'男'</span>,<span class="string">'1974-06-03'</span>,<span class="string">'95031'</span></span>)</span>;</div><div class="line"><span class="meta">#添加教师表</span></div><div class="line"><span class="function">insert <span class="keyword">into</span> teacher <span class="title">values</span>(<span class="params"><span class="string">'804'</span>,<span class="string">'李诚'</span>,<span class="string">'男'</span>,<span class="string">'1958-12-02'</span>,<span class="string">'副教授'</span>,<span class="string">'计算机系'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> teacher <span class="title">values</span>(<span class="params"><span class="string">'856'</span>,<span class="string">'张旭'</span>,<span class="string">'男'</span>,<span class="string">'1969-03-12'</span>,<span class="string">'讲师'</span>,<span class="string">'电子工程系'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> teacher <span class="title">values</span>(<span class="params"><span class="string">'825'</span>,<span class="string">'王萍'</span>,<span class="string">'女'</span>,<span class="string">'1972-05-05'</span>,<span class="string">'助教'</span>,<span class="string">'计算机系'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> teacher <span class="title">values</span>(<span class="params"><span class="string">'831'</span>,<span class="string">'刘冰'</span>,<span class="string">'女'</span>,<span class="string">'1977-08-14'</span>,<span class="string">'助教'</span>,<span class="string">'电子工程系'</span></span>)</span>;</div><div class="line"><span class="meta">#添加课程表</span></div><div class="line"><span class="function">insert <span class="keyword">into</span> course <span class="title">values</span>(<span class="params"><span class="string">'3-105'</span>,<span class="string">'计算机导论'</span>,<span class="string">'825'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> course <span class="title">values</span>(<span class="params"><span class="string">'3-245'</span>,<span class="string">'操作系统'</span>,<span class="string">'804'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> course <span class="title">values</span>(<span class="params"><span class="string">'6-166'</span>,<span class="string">'数字电路'</span>,<span class="string">'856'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> course <span class="title">values</span>(<span class="params"><span class="string">'9-888'</span>,<span class="string">'高等数学'</span>,<span class="string">'831'</span></span>)</span>;</div><div class="line"><span class="meta">#添加成绩表</span></div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'3-245'</span>,<span class="string">'86'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'3-245'</span>,<span class="string">'75'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'3-245'</span>,<span class="string">'68'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'3-105'</span>,<span class="string">'92'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'3-105'</span>,<span class="string">'88'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'3-105'</span>,<span class="string">'76'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'3-105'</span>,<span class="string">'64'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'3-105'</span>,<span class="string">'91'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'3-105'</span>,<span class="string">'78'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'103'</span>,<span class="string">'6-166'</span>,<span class="string">'85'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'105'</span>,<span class="string">'6-166'</span>,<span class="string">'79'</span></span>)</span>;</div><div class="line"><span class="function">insert <span class="keyword">into</span> score <span class="title">values</span>(<span class="params"><span class="string">'109'</span>,<span class="string">'6-166'</span>,<span class="string">'81'</span></span>)</span>;</div></pre></td></tr></table></figure></p><p>1、 查询Student表中的所有记录的Sname、Ssex和Class列。<br><figure class="highlight monkey"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> Sname,Ssex,<span class="class"><span class="keyword">Class</span> <span class="title">from</span> <span class="title">Student</span>;</span></div></pre></td></tr></table></figure></p><p>2、 查询教师所有的单位即不重复的Depart列。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> Depart <span class="keyword">from</span> teacher;</div></pre></td></tr></table></figure></p><p>3、 查询Student表的所有记录。<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student</div></pre></td></tr></table></figure></p><p>4、 查询Score表中成绩在60到80之间的所有记录。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">where</span> Degree <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">80</span>;</div></pre></td></tr></table></figure></p><p>5、 查询Score表中成绩为85，86或88的记录。<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> * <span class="function"><span class="keyword">from</span> Score <span class="keyword">where</span> Degree <span class="title">in</span> (<span class="params"><span class="number">85</span>,<span class="number">86</span>,<span class="number">88</span></span>)</span>;</div></pre></td></tr></table></figure></p><p>6、 查询Student表中“95031”班或性别为“女”的同学记录。<br><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student <span class="keyword">where</span> <span class="keyword">Class</span>= <span class="string">'95031'</span> <span class="keyword">or</span> Ssex=<span class="string">'女'</span>;</div></pre></td></tr></table></figure></p><p>7、 以Class降序查询Student表的所有记录。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student <span class="keyword">order</span> <span class="keyword">by</span> Class <span class="keyword">desc</span>;</div></pre></td></tr></table></figure></p><p>8、 以Cno升序、Degree降序查询Score表的所有记录。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">order</span> <span class="keyword">by</span> Cno <span class="keyword">asc</span>,Degree <span class="keyword">desc</span>;</div></pre></td></tr></table></figure></p><p>9、 查询“95031”班的学生人数。<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="function"><span class="keyword">select</span> <span class="title">count</span>(<span class="params">*</span>) <span class="keyword">from</span> Student <span class="keyword">where</span> Class </span>= <span class="string">'95031'</span>;</div></pre></td></tr></table></figure></p><p>10、查询Score表中的最高分的学生学号和课程号。（子查询或者排序）<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> Sno,Cno <span class="keyword">from</span> Score <span class="keyword">where</span> Degree = (</div><div class="line"><span class="keyword">select</span> <span class="built_in">max</span>(Degree) <span class="keyword">from</span> Score);</div><div class="line"><span class="keyword">select</span> Sno,Cno <span class="keyword">from</span> Score <span class="keyword">order</span> <span class="keyword">by</span> Degree <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">1</span>;</div></pre></td></tr></table></figure></p><p>11、 查询每门课的平均成绩。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#单表查询</span></div><div class="line">select Cno,avg(Degree) <span class="keyword">from</span> Score<span class="built_in"> group </span>by Cno;</div></pre></td></tr></table></figure></p><p>12、查询Score表中至少有5名学生选修的并以3开头的课程的平均分数。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> Cno,<span class="built_in">avg</span>(Degree) <span class="keyword">from</span> Score </div><div class="line"><span class="keyword">where</span> Cno <span class="keyword">like</span> <span class="string">'3%'</span></div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> Cno </div><div class="line"><span class="keyword">having</span> <span class="built_in">count</span>(Sno) &gt;=<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(Degree) <span class="keyword">from</span> score <span class="keyword">where</span> Cno <span class="keyword">like</span> <span class="string">'3%'</span> <span class="keyword">and</span> Cno <span class="keyword">in</span> (<span class="keyword">select</span> Cno <span class="keyword">from</span> score <span class="keyword">group</span> <span class="keyword">by</span> Cno <span class="keyword">having</span> <span class="built_in">count</span>(*)&gt;=<span class="number">5</span>);</div></pre></td></tr></table></figure></p><p>13、查询分数大于70，小于90的Sno列。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> Score <span class="keyword">where</span> Degree &gt;<span class="number">70</span> <span class="keyword">and</span> Degree &lt; <span class="number">90</span>;</div></pre></td></tr></table></figure></p><p>14、查询所有学生的Sname、Cno和Degree列。<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#多表查询</span></div><div class="line"><span class="comment">#可以用where,内连接，子查询</span></div><div class="line"><span class="attribute">select</span> Sname,C<span class="literal">no</span>,Degree from Student,Score where Student.S<span class="literal">no</span>=Score.S<span class="literal">no</span>;</div><div class="line"></div><div class="line"><span class="attribute">select</span> Sname,C<span class="literal">no</span>,Degree from Student inner join Score</div><div class="line"><span class="literal">on</span> Student.S<span class="literal">no</span>=Score.S<span class="literal">no</span>;</div></pre></td></tr></table></figure></p><p>15、查询所有学生的Sno、Cname和Degree列。<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#多表查询</span></div><div class="line"><span class="comment">#同上</span></div><div class="line"><span class="attribute">select</span> S<span class="literal">no</span>,Cname,Degree from Score,Course where Score.C<span class="literal">no</span>=Course.C<span class="literal">no</span>;</div></pre></td></tr></table></figure></p><p>16、查询所有学生的Sname、Cname和Degree列。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#多表查询</div><div class="line">#同上</div><div class="line"><span class="keyword">select</span> Sname,Cname,Degree <span class="keyword">from</span> student,course,score <span class="keyword">where</span> student.Sno=score.Sno <span class="keyword">and</span> course.Cno=score.Cno;</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sname,Cname,Degree <span class="keyword">from</span> Student <span class="keyword">inner</span> <span class="keyword">join</span> Score <span class="keyword">on</span> Student.Sno=Score.Sno <span class="keyword">inner</span> <span class="keyword">join</span> </div><div class="line">Course <span class="keyword">on</span> Score.Cno=Course.Cno;</div></pre></td></tr></table></figure></p><p>17、查询“95033”班学生的平均分。<br><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#多表查询</span></div><div class="line"><span class="meta">#用where,内连接，子查询</span></div><div class="line"><span class="keyword">select</span> avg(Degree) <span class="keyword">from</span> Score,Student <span class="keyword">where</span> Student.Sno=Score.Sno <span class="keyword">and</span> <span class="keyword">Class</span>=<span class="comment">'95033';</span></div><div class="line"></div><div class="line"><span class="keyword">select</span> avg(Degree) <span class="keyword">from</span> Score inner <span class="keyword">join</span> Student <span class="keyword">on</span> Student.Sno=Score.Sno <span class="keyword">where</span> <span class="keyword">Class</span>=<span class="comment">'95033';</span></div><div class="line"></div><div class="line"><span class="keyword">select</span> avg(Degree)  <span class="keyword">from</span> Score <span class="keyword">where</span> Sno <span class="keyword">in</span> (<span class="keyword">select</span> Sno <span class="keyword">from</span> Student</div><div class="line"><span class="keyword">where</span> <span class="keyword">Class</span>=<span class="comment">'95033');</span></div></pre></td></tr></table></figure></p><p>18、 假设使用如下命令建立了一个grade表：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">table</span> grade(<span class="keyword">low</span>  <span class="built_in">int</span>(<span class="number">3</span>),upp  <span class="built_in">int</span>(<span class="number">3</span>),<span class="keyword">rank</span>  <span class="built_in">char</span>(<span class="number">1</span>))</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">90</span>,<span class="number">100</span>,’A’)</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">80</span>,<span class="number">89</span>,’B’)</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">70</span>,<span class="number">79</span>,’C’)</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">60</span>,<span class="number">69</span>,’D’)</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">0</span>,<span class="number">59</span>,’E’)</div></pre></td></tr></table></figure></p><p>现查询所有同学的Sno、Cno和rank列。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#多表查询</div><div class="line"><span class="keyword">select</span> Sno,Cno,rank <span class="keyword">from</span> Score,grade <span class="keyword">where</span> Degree <span class="keyword">between</span> low <span class="keyword">and</span> upp;</div></pre></td></tr></table></figure></p><p>19、查询选修“3-105”课程的成绩高于“109”号同学成绩的所有同学的记录。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">#单表查询</div><div class="line">#109同学，选修是3-105课的</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score <span class="keyword">where</span> Cno=<span class="string">'3-105'</span> <span class="keyword">and</span> degree&gt;(<span class="keyword">select</span> <span class="built_in">max</span>(degree ) <span class="keyword">from</span> Score <span class="keyword">where</span> Sno=<span class="string">'109'</span> <span class="keyword">and</span> Cno=<span class="string">'3-105'</span> );</div><div class="line">#109同学，没有选修3-105课</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-105'</span> <span class="keyword">and</span> Degree &gt; (</div><div class="line"><span class="keyword">select</span> <span class="built_in">max</span>(Degree) <span class="keyword">from</span> Score <span class="keyword">where</span> Sno =<span class="string">'109'</span>)<span class="keyword">and</span> degree&lt;( <span class="keyword">select</span> <span class="built_in">max</span>(degree ) <span class="keyword">from</span> Score <span class="keyword">where</span> sno <span class="keyword">in</span> (<span class="keyword">select</span> Sno <span class="keyword">from</span> score <span class="keyword">group</span> <span class="keyword">by</span> Sno <span class="keyword">having</span> <span class="built_in">count</span>(*)&gt;<span class="number">1</span>));</div><div class="line">#选了多门课程并且是这个课程下不是最高分的</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score a <span class="keyword">where</span> Sno <span class="keyword">in</span> (<span class="keyword">select</span> Sno <span class="keyword">from</span> score <span class="keyword">group</span> <span class="keyword">by</span> Sno <span class="keyword">having</span> <span class="built_in">count</span>(*)&gt;<span class="number">1</span>) <span class="keyword">and</span> degree&lt;( <span class="keyword">select</span> <span class="built_in">max</span>(degree ) <span class="keyword">from</span> Score b <span class="keyword">where</span> b.cno = a.cno)</div><div class="line">;</div></pre></td></tr></table></figure></p><p>21、查询成绩高于学号为“109”、课程号为“3-105”的成绩的所有记录。<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">where</span> Degree &gt;(</div><div class="line"><span class="keyword">select</span> Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'109'</span> and Course = <span class="string">'3-105'</span>);</div></pre></td></tr></table></figure></p><p>22、查询和学号为108、101的同学同年出生的所有学生的Sno、Sname和Sbirthday列。<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#单表查询</span></div><div class="line"><span class="keyword">select</span> Sno,Sname,<span class="function">Sbirthday <span class="keyword">from</span> Student <span class="keyword">where</span> <span class="title">year</span>(<span class="params">Sbirthday</span>) <span class="title">in</span> (<span class="params"></span></span></div><div class="line"><span class="function"><span class="params"><span class="keyword">select</span> year(Sbirthday</span>) <span class="keyword">from</span> Student <span class="keyword">where</span> Sno</span>=<span class="string">'108'</span> or <span class="string">'101'</span>);</div></pre></td></tr></table></figure></p><p>23、查询“张旭“教师任课的学生成绩。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">#多表查询</div><div class="line">#用where,内连接，子查询</div><div class="line"><span class="keyword">select</span> Sno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Course <span class="keyword">where</span> Tno <span class="keyword">in</span>(</div><div class="line"><span class="keyword">select</span> Tno <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tname = <span class="string">'张旭'</span>));</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sno,Degree <span class="keyword">from</span> Score,Course,Teacher <span class="keyword">where</span></div><div class="line">Score.Cno=Course.Cno <span class="keyword">and</span> Course.Tno=Teacher.Tno <span class="keyword">and</span> Tname = <span class="string">'张旭'</span> ;</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sno,Degree <span class="keyword">from</span> Score <span class="keyword">inner</span> <span class="keyword">join</span> Course <span class="keyword">on</span> Score.Cno=Course.Cno <span class="keyword">inner</span> <span class="keyword">join</span> Teacher <span class="keyword">on</span> Teacher.Tno=Course.Tno <span class="keyword">where</span> Tname =<span class="string">'张旭'</span> ;</div></pre></td></tr></table></figure></p><p>24、查询选修某课程的同学人数多于5人的教师姓名。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#多表查询</span></div><div class="line"><span class="comment">#用where,内连接，子查询</span></div><div class="line">select Tname <span class="keyword">from</span> Teacher where Tno <span class="keyword">in</span> (</div><div class="line">select Tno <span class="keyword">from</span> Course where Cno <span class="keyword">in</span> (</div><div class="line">select Cno <span class="keyword">from</span> Score<span class="built_in"> group </span>by Cno having count(Sno)&gt;5));</div><div class="line"></div><div class="line">select Tname <span class="keyword">from</span> Teacher,  Course where Teacher.<span class="attribute">Tno</span>=Course.Tno <span class="keyword">and</span> Course.Cno =(select Cno <span class="keyword">from</span> Score<span class="built_in"> group </span>by Cno having count(*)&gt;5);</div></pre></td></tr></table></figure></p><p>25、查询95033班和95031班全体学生的记录。<br><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#多表查询</div><div class="line">#用<span class="keyword">where</span>,内连接，子查询</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student,Score,Course <span class="keyword">where</span> Student.Sno=Score.Sno <span class="keyword">and</span> Score.Cno=Course.Cno <span class="keyword">and</span> <span class="keyword">class</span> = <span class="string">'95033'</span> <span class="keyword">or</span> <span class="string">'95031'</span>;</div></pre></td></tr></table></figure></p><p>26、  查询存在有85分以上成绩的课程Cno。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Score <span class="keyword">where</span> Degree &gt;<span class="number">85</span>;</div></pre></td></tr></table></figure></p><p>27、查询出“计算机系“教师所教课程的成绩表。<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#多表查询</span></div><div class="line"><span class="comment">#用where,内连接，子查询</span></div><div class="line"><span class="attribute">select</span> * from Score where C<span class="literal">no</span> in (</div><div class="line"><span class="literal">select</span> C<span class="literal">no</span> from Course where T<span class="literal">no</span> in (</div><div class="line"><span class="literal">select</span> T<span class="literal">no</span> from Teacher where Depart = <span class="string">'计算机系'</span>));</div><div class="line"><span class="comment">#先找交集再not in</span></div><div class="line"><span class="attribute">select</span> Score.S<span class="literal">no</span>,Score.C<span class="literal">no</span>,Score.Degree from Score,Course,Teacher where Score.C<span class="literal">no</span>=Course.C<span class="literal">no</span> and Course.T<span class="literal">no</span>=Teacher.T<span class="literal">no</span> and Depart = <span class="string">'计算机系'</span>;</div><div class="line"></div><div class="line"><span class="attribute">select</span> Score.S<span class="literal">no</span>,Score.C<span class="literal">no</span>,Score.Degree from Score inner join Course <span class="literal">on</span> Score.C<span class="literal">no</span>=Course.C<span class="literal">no</span> inner join Teacher <span class="literal">on</span> Teacher.T<span class="literal">no</span> =Course.T<span class="literal">no</span> where Depart =<span class="string">'计算机系'</span>;</div></pre></td></tr></table></figure></p><p>28、查询“计算 机系”与“电子工程系“不同职称的教师的Tname和Prof。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Tname,Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Prof <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Prof <span class="keyword">in</span> (<span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart = <span class="string">'计算机系'</span>) <span class="keyword">and</span> Depart = <span class="string">'电子工程系'</span>);</div><div class="line"></div><div class="line"><span class="keyword">select</span> Tname,Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Prof <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart = <span class="string">'计算机系'</span> <span class="keyword">or</span> Depart =<span class="string">'电子工程系'</span> <span class="keyword">group</span> <span class="keyword">by</span> Prof <span class="keyword">having</span> <span class="keyword">count</span>(*)&gt;<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="keyword">select</span> Tname,Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart =<span class="string">'计算机系'</span> <span class="keyword">and</span> Prof  <span class="keyword">not</span> <span class="keyword">in</span>( <span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart =<span class="string">'电子工程系'</span>)</div><div class="line"><span class="keyword">union</span> </div><div class="line"><span class="keyword">select</span> Tname,Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart =<span class="string">'电子工程系'</span> <span class="keyword">and</span> Prof  <span class="keyword">not</span> <span class="keyword">in</span>( <span class="keyword">select</span> Prof <span class="keyword">from</span> Teacher <span class="keyword">where</span> Depart =<span class="string">'计算机系'</span>);</div></pre></td></tr></table></figure></p><p>29、查询选修编号为“3-105“课程且成绩至少高于选修编号为“3-245”的同学的Cno、Sno和Degree,并按Degree从高到低次序排序。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Cno,Sno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-105'</span> <span class="keyword">and</span> Degree &gt;</div><div class="line"><span class="keyword">any</span>(<span class="keyword">select</span> Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-245'</span>) <span class="keyword">order</span> <span class="keyword">by</span> Degree <span class="keyword">desc</span>;</div><div class="line"></div><div class="line"><span class="keyword">select</span> Cno,Sno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-105'</span> <span class="keyword">and</span> Degree &gt;</div><div class="line">(<span class="keyword">select</span> <span class="built_in">min</span>(Degree) <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-245'</span>) <span class="keyword">order</span> <span class="keyword">by</span> Degree <span class="keyword">desc</span>;</div><div class="line">#大于任何一个或者大于最小的</div></pre></td></tr></table></figure></p><p>30、查询选修编号为“3-105”且成绩高于选修编号为“3-245”课程的同学的Cno、Sno和Degree。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Cno,Sno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-105'</span> <span class="keyword">and</span> Degree &gt; all(<span class="keyword">select</span> Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = <span class="string">'3-245'</span>);</div></pre></td></tr></table></figure></p><p>31、 查询所有教师和同学的name、sex和birthday。<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname <span class="keyword">as</span> <span class="string">'学生'</span>,Ssex,Sbirthday from Student</div><div class="line"><span class="class"><span class="keyword">union</span></span></div><div class="line"><span class="keyword">select</span> Tname <span class="keyword">as</span> <span class="string">'老师'</span>,Tsex,Tbirthday from Teacher;</div></pre></td></tr></table></figure></p><p>32、查询所有“女”教师和“女”同学的name、sex和birthday。<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname,Ssex,Sbirthday from Student where Ssex = <span class="string">'女'</span></div><div class="line"><span class="class"><span class="keyword">union</span></span></div><div class="line"><span class="keyword">select</span> Tname,Tsex,Tbirthday from Teacher where Tsex = <span class="string">'女'</span>;</div></pre></td></tr></table></figure></p><p>33、 查询成绩比该课程平均成绩低的同学的成绩表。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score a  <span class="keyword">where</span> degree &lt; (</div><div class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(degree) <span class="keyword">from</span> score b <span class="keyword">where</span> b.cno=a.cno);</div></pre></td></tr></table></figure></p><blockquote><p>这是一种特殊形式的父子表连接（自连接）SQL选择查询写法。对于这种特殊的写法，数据库引擎会以特殊的方式检索父查询表里的数据。如果搞不清楚这种特殊的检索方式，我们很难从该SQL语句的表面逻辑理出个中道理。<br>现在我们来分拆该SQL语句里的父查询和子查询<br>1）语句中的父查询<br>select * from score a where degree&lt;”子查询获得的一个数据值“<br>2）语句中的子查询<br>select avg(degree) from score b where a.cno=b.cno<br>请注意这个子查询的from子句里只有一张表 b ，但是where子句里却出现了第二张表 a ，<br>如果单独运行这个子查询，因为子查询没有列出表a，系统会要求输入a.cno或者直接报错，反正无法顺利执行，但是表a可以在父查询里的from子句中找到，面对这种情况数据库引擎会采取逐条取主查询记录与子查询实施比对以确定是否检出该条记录，最后汇总各次检索的结果输出整个记录集。<br>这个特殊的SQL语句检索过程大致如下：<br>取出首条记录的a.cno用作过滤，子查询里以avg函数得到该课程的平均分，主查询以分数比对平均分，满足条件保留否则抛弃（degree小于平均分的留下）；<br>跟着判断父查询表下一条记录，处理过程相同，最后合并各次判断结果从而的到最终结果。<br>这种特殊的写法可以规避输出包含非分组字段，而分组不得输出非分组字段的矛盾。<br>34、 查询所有任课教师的Tname和Depart。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Tname,Depart <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Tno <span class="keyword">from</span> Course);</div></pre></td></tr></table></figure></p></blockquote><p>35 、查询所有未讲课的教师的Tname和Depart。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Tname,Depart <span class="keyword">from</span> Teacher <span class="keyword">where</span> Tno <span class="keyword">not</span> <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Tno <span class="keyword">from</span> Course <span class="keyword">where</span> Cno <span class="keyword">in</span> (</div><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Score ));</div></pre></td></tr></table></figure></p><p>36、查询至少有2名男生的班号。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">Class</span> <span class="keyword">from</span> Student <span class="keyword">where</span> Ssex = <span class="string">'男'</span></div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">Class</span> </div><div class="line"><span class="keyword">having</span> <span class="keyword">count</span>(Ssex) &gt;<span class="number">1</span>;</div></pre></td></tr></table></figure></p><p>37、查询Student表中不姓“王”的同学记录。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student <span class="keyword">where</span> Sname <span class="keyword">not</span> <span class="keyword">like</span> <span class="string">'王%%'</span>;</div></pre></td></tr></table></figure></p><p>38、查询Student表中每个学生的姓名和年龄。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname,<span class="keyword">year</span>(<span class="keyword">now</span>())-<span class="keyword">year</span>(Sbirthday) <span class="keyword">from</span> Student;</div></pre></td></tr></table></figure></p><p>39、查询Student表中最大和最小的Sbirthday日期值。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="built_in">max</span>(Sbirthday),<span class="built_in">min</span>(Sbirthday) <span class="keyword">from</span> Student;</div></pre></td></tr></table></figure></p><p>40、以班号和年龄从大到小的顺序查询Student表中的全部记录。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Student <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">Class</span> <span class="keyword">desc</span>,Sbirthday;</div></pre></td></tr></table></figure></p><p>41、查询“男”教师及其所上的课程。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#需要两个表的信息用where或者连接查询</span></div><div class="line">select Cno,Cname,Tname <span class="keyword">from</span> Course,Teacher where Course.<span class="attribute">Tno</span>=Teacher.Tno <span class="keyword">and</span> <span class="attribute">Tsex</span>=<span class="string">'男'</span>;</div><div class="line"></div><div class="line">select Cno,Cname,Tname <span class="keyword">from</span> Course inner join Teacher on Course.<span class="attribute">Tno</span>=Teacher.Tno where <span class="attribute">Tsex</span>=<span class="string">'男'</span>;</div></pre></td></tr></table></figure></p><p>42、查询最高分同学的Sno、Cno和Degree列。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sno,Cno,Degree <span class="keyword">from</span> Score <span class="keyword">order</span> <span class="keyword">by</span> Degree <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">1</span>;</div><div class="line"></div><div class="line"><span class="keyword">select</span> Sno,Cno,Degree <span class="keyword">from</span> Score <span class="keyword">where</span> Degree = (</div><div class="line"><span class="keyword">select</span> <span class="built_in">max</span>(Degree) <span class="keyword">from</span> Score);</div></pre></td></tr></table></figure></p><p>43、查询和“李军”同性别的所有同学的Sname。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Ssex = (</div><div class="line"><span class="keyword">select</span> Ssex <span class="keyword">from</span> Student <span class="keyword">where</span> Sname = <span class="string">'李军'</span>);</div></pre></td></tr></table></figure></p><p>44、查询和“李军”同性别并同班的同学Sname。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student <span class="keyword">where</span> Ssex = (</div><div class="line"><span class="keyword">select</span> Ssex <span class="keyword">from</span> Student <span class="keyword">where</span> Sname = <span class="string">'李军'</span>)</div><div class="line"><span class="keyword">and</span> <span class="keyword">Class</span> = (</div><div class="line"><span class="keyword">select</span> <span class="keyword">Class</span> <span class="keyword">from</span> Student <span class="keyword">where</span> Sname = <span class="string">'李军'</span>);</div></pre></td></tr></table></figure></p><p>45、查询所有选修“计算机导论”课程的“男”同学的成绩表。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Score <span class="keyword">where</span> Cno = (</div><div class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> Course <span class="keyword">where</span> Cname = <span class="string">'计算机导论'</span>) <span class="keyword">and</span></div><div class="line">Sno <span class="keyword">in</span> (<span class="keyword">select</span> Sno <span class="keyword">from</span> Student <span class="keyword">where</span> Ssex = <span class="string">'男'</span>);</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;整理了一些网上的练习题。&lt;br&gt;设有一数据库，包括四个表：学生表（Student）、课程表（Course）、成绩表（Score）以及教师信息表（Teacher）。表结构及数据如下，请完成题目。&lt;/p&gt;
&lt;p&gt;表（一）Student (学生表) ：&lt;br&gt;| 属性名     
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>整理了部分数据分析用图表</title>
    <link href="https://chumingke.github.io//blog/2017/10/Data-analysis-charts.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Data-analysis-charts.html</id>
    <published>2017-10-03T10:26:45.000Z</published>
    <updated>2017-10-03T14:16:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>整理了部分常见图表。<br>另外如何将excel转变为MarkDown能识别的表格？<br>直接将表格复制到下面这个网页转换即可。<br><a href="http://pressbin.com/tools/excel_to_html_table/index.html" target="_blank" rel="external">http://pressbin.com/tools/excel_to_html_table/index.html</a></p><table><thead><tr><th style="text-align:center">序号</th><th style="text-align:center">图表名</th><th style="text-align:center">做法</th><th style="text-align:center">描述</th><th style="text-align:center">内容</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">动态图</td><td style="text-align:center">拖放统计周期到页面卡</td><td style="text-align:center">将可视化图形沿着时间轴播放</td><td style="text-align:center">显示动态变化</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">Z检验</td><td style="text-align:center"></td><td style="text-align:center">适用于大样本平均值差异性分析</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">地平线图</td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">基于一种压缩空间展示数据信息的图表形式</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">甘特图</td><td style="text-align:center"></td><td style="text-align:center">适用于描述项目、进度和进展（甘特图的特点是突出了生产管理中最重要的因素时间, 它的作用表现在三个方面：1、计划产量与计划时间的对应关系。2、每日的实际产量与预定计划产量的对比关系。3、一定时间内实际累计产量与同时期计划累计产量的对比关系[1] 。）</td><td style="text-align:center">计划图表、负荷图表、机器闲置图表、人员闲置图表和进度表</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">词云</td><td style="text-align:center"></td><td style="text-align:center">图形为文本，将量放置在颜色、大小</td><td style="text-align:center">适用于表示不同词语出现频次的可视化 可突出展示类别与量的关系</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">并排条</td><td style="text-align:center">添加辅助字段（智能显示）</td><td style="text-align:center">适用于原辅料同期比</td><td style="text-align:center">适用于比较两个维度下数据的大小   可展现同期比，可展示两维度比较</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">饼状图</td><td style="text-align:center"></td><td style="text-align:center">适用于表示子类在整体中的占比 百分比</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">标靶图</td><td style="text-align:center">条形图后添加参考线参考区域</td><td style="text-align:center">产量达成</td><td style="text-align:center">适用于查看KPI的达成情况  计划与实际（KPI）</td></tr><tr><td style="text-align:center">9</td><td style="text-align:center">背景地图</td><td style="text-align:center">添加背景图片后，设置地理位置</td><td style="text-align:center">适用于以特定图片为背景展现平面信息 特定地图方位图等</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">10</td><td style="text-align:center">符号地图</td><td style="text-align:center"></td><td style="text-align:center">适用于展示跟地理位置相关的多个度量分析  多维度地理分布状况</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">11</td><td style="text-align:center">多维度监控图</td><td style="text-align:center"></td><td style="text-align:center">适用于多维度的数据监测 也可以采用矩阵散点图</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">12</td><td style="text-align:center">堆积图</td><td style="text-align:center"></td><td style="text-align:center">适用于查看各个类别中数据的细分情况 类别与子类别</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">13</td><td style="text-align:center">工作导航图</td><td style="text-align:center"></td><td style="text-align:center">在一个平面图内展示大量的交互信息</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">14</td><td style="text-align:center">3D地图</td><td style="text-align:center"></td><td style="text-align:center">适用于展示3D图形</td><td style="text-align:center">类似立体高德地图</td></tr><tr><td style="text-align:center">15</td><td style="text-align:center">和弦图</td><td style="text-align:center">echarts</td><td style="text-align:center">适用于展示矩阵数据的相关关系 相关关系</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">16</td><td style="text-align:center">交叉表</td><td style="text-align:center"></td><td style="text-align:center">常用的分类汇总表格</td><td style="text-align:center">类似数据透视表</td></tr><tr><td style="text-align:center">17</td><td style="text-align:center">盒须图</td><td style="text-align:center">盒须图加一个随机抖动</td><td style="text-align:center">成本异常值</td><td style="text-align:center">适用于识别数据异常值，判断数据的分布</td></tr><tr><td style="text-align:center">18</td><td style="text-align:center">环形图</td><td style="text-align:center"></td><td style="text-align:center">适用于展现各个部分与整体之间的关系 百分比</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">19</td><td style="text-align:center">蜡烛图</td><td style="text-align:center">点图加上条形甘特之类</td><td style="text-align:center">适用于股票、期货、外汇、期权等证券市场</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">20</td><td style="text-align:center">决策树</td><td style="text-align:center">echarts</td><td style="text-align:center">适用于展示决策判定逻辑 辅助决策</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">21</td><td style="text-align:center">矩阵图</td><td style="text-align:center"></td><td style="text-align:center">适用于分析多因素间相关关联的程度  相关关系</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">22</td><td style="text-align:center">雷达图</td><td style="text-align:center"></td><td style="text-align:center">可用于反映工厂总体评价 适用于同时对单个或者多个对象不同性能进行比较</td><td style="text-align:center">一般五个角度，反映总体情况</td></tr><tr><td style="text-align:center">23</td><td style="text-align:center">玛丽麦高图</td><td style="text-align:center"></td><td style="text-align:center">适用于表现两维的占比堆叠关系 用长度宽度同时反映两个维度的柱形图</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">24</td><td style="text-align:center">路径地图</td><td style="text-align:center"></td><td style="text-align:center">适用于表示人或者事物在地理上的迁移</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">25</td><td style="text-align:center">漏斗图</td><td style="text-align:center"></td><td style="text-align:center">适用于各业务流程环节数据比较</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">26</td><td style="text-align:center">玫瑰图</td><td style="text-align:center"></td><td style="text-align:center">适用于多个维度的百分比构成分析</td><td style="text-align:center">用于一个完整时间段内的某种信息表示，例如一天的24小时内的用户访问的行为。但是需要量有明显变化才会有比较好的效果</td></tr><tr><td style="text-align:center">27</td><td style="text-align:center">面积图</td><td style="text-align:center">智能显示</td><td style="text-align:center">适用于多因素的趋势分析，以及部分与整体的关系  类似堆积图的折线图版本</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">28</td><td style="text-align:center">气泡图</td><td style="text-align:center"></td><td style="text-align:center">通过气泡大小和颜色对比不同维度和度量   类似词云</td></tr><tr><td style="text-align:center">29</td><td style="text-align:center">瀑布图</td><td style="text-align:center"></td><td style="text-align:center">适用于表达多个特定数值之间的数量变化关系</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">30</td><td style="text-align:center">帕累托图</td><td style="text-align:center"></td><td style="text-align:center">适用于从大量数据中找出主要因素，分析主要矛盾  适用体现二八法则，适用数据挖掘</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">31</td><td style="text-align:center">汽车仪表盘图</td><td style="text-align:center">echarts</td><td style="text-align:center">可用于指标预警</td><td style="text-align:center">适用于分级别的展示，如脆弱度或告警</td></tr><tr><td style="text-align:center">32</td><td style="text-align:center">日历图</td><td style="text-align:center"></td><td style="text-align:center">以日历形式表示每天的数值变化 细分到了每天的情况</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">33</td><td style="text-align:center">曲棍图</td><td style="text-align:center"></td><td style="text-align:center">适用于展示剧烈变化的趋势，多用于气候分析 剧烈变化</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">34</td><td style="text-align:center">自定义图形</td><td style="text-align:center"></td><td style="text-align:center">以自定义图形展现数据含义</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">35</td><td style="text-align:center">热图</td><td style="text-align:center">echarts</td><td style="text-align:center"></td><td style="text-align:center">以特殊高亮的形式显示区域热度</td><td></td></tr><tr><td style="text-align:center">36</td><td style="text-align:center">桑基图</td><td style="text-align:center">tableau或echarts</td><td style="text-align:center">适用于数据流向或流量分析   适用于原因分析</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">37</td><td style="text-align:center">散点图</td><td style="text-align:center"></td><td style="text-align:center">产量与产值</td><td style="text-align:center">适用于考察不同变量之间的关系 相关关系</td></tr><tr><td style="text-align:center">38</td><td style="text-align:center">三维图</td><td style="text-align:center">echarts</td><td style="text-align:center">适用于表示三个维度的数值变化 三维度变化</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">39</td><td style="text-align:center">社交关系图</td><td style="text-align:center">echarts</td><td style="text-align:center">适用于表现用户群组等之间行为互动的社交关系</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">40</td><td style="text-align:center">树状图</td><td style="text-align:center"></td><td style="text-align:center">以相对于整体的比例显示分层数据   占比</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">41</td><td style="text-align:center">太阳辐射图</td><td style="text-align:center">echarts</td><td style="text-align:center">适用于表达清晰的层级和归属关系</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">42</td><td style="text-align:center">四象限图</td><td style="text-align:center"></td><td style="text-align:center">通过四象限的方式查看数据分布</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">43</td><td style="text-align:center">双轴图</td><td style="text-align:center"></td><td style="text-align:center">适用于查看两个不同单位的度量变化趋势</td><td style="text-align:center">折线加柱状图</td></tr><tr><td style="text-align:center">44</td><td style="text-align:center">填充地图</td><td style="text-align:center"></td><td style="text-align:center">多维度地理分布状况</td><td style="text-align:center">以地图区块的填充颜色来反应度量大小</td></tr><tr><td style="text-align:center">45</td><td style="text-align:center">象形柱图</td><td style="text-align:center">echarts</td><td style="text-align:center">利用图片和形状生动形象的表现数据</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">46</td><td style="text-align:center">误差棒图</td><td style="text-align:center">echarts</td><td style="text-align:center">适用于展现数据的波动性</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">47</td><td style="text-align:center">突出显示表</td><td style="text-align:center"></td><td style="text-align:center">适用于突出显示异常值  突出显示</td></tr><tr><td style="text-align:center">48</td><td style="text-align:center">条形图</td><td style="text-align:center"></td><td style="text-align:center">适用于比较数据大小</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">49</td><td style="text-align:center">流图</td><td style="text-align:center">echarts</td><td style="text-align:center">由堆积面积图演变而来，适用于表示时间或主题等在一段时间内的变化</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">50</td><td style="text-align:center">直方图</td><td style="text-align:center"></td><td style="text-align:center">适用于分析数据跨组的分布情况 数据分布</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">51</td><td style="text-align:center">折线图</td><td style="text-align:center"></td><td style="text-align:center">适用于查看数据中随时间推移的趋势</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">52</td><td style="text-align:center">哑铃图</td><td style="text-align:center"></td><td style="text-align:center">适用于表示两个数据点之间的变化</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">53</td><td style="text-align:center">柱中柱</td><td style="text-align:center"></td><td style="text-align:center">适用于进行指标达成对比 类似并排条作用</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">54</td><td style="text-align:center">凹凸图</td><td style="text-align:center"></td><td style="text-align:center">适用于排名变化  适用于排名变化的对比分析</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">55</td><td style="text-align:center">赛道图</td><td style="text-align:center"></td><td style="text-align:center">多维分析</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">56</td><td style="text-align:center">钟表图</td><td style="text-align:center"></td><td style="text-align:center">基于分钟的时间序列分析</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">57</td><td style="text-align:center">九宫格(员工评级)</td><td style="text-align:center"></td><td style="text-align:center">适用于员工评级，绩效评级等</td></tr></tbody></table><p>用tableau,echarts,d3.js完成~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;整理了部分常见图表。&lt;br&gt;另外如何将excel转变为MarkDown能识别的表格？&lt;br&gt;直接将表格复制到下面这个网页转换即可。&lt;br&gt;&lt;a href=&quot;http://pressbin.com/tools/excel_to_html_table/index.html&quot; t
      
    
    </summary>
    
      <category term="charts" scheme="https://chumingke.github.io/categories/charts/"/>
    
    
      <category term="Data Analysis" scheme="https://chumingke.github.io/tags/Data-Analysis/"/>
    
      <category term="charts" scheme="https://chumingke.github.io/tags/charts/"/>
    
  </entry>
  
  <entry>
    <title>深入浅出MySQL笔记（三）</title>
    <link href="https://chumingke.github.io//blog/2017/10/Easy-to-understand-mysql-3.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Easy-to-understand-mysql-3.html</id>
    <published>2017-10-03T09:41:18.000Z</published>
    <updated>2017-10-03T09:43:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>本笔记为学习该书所记，便于复习。<br>包含第五、六章笔记。<br>常用函数与图形化工具的使用。<br>[TOC]</p><h1 id="第一部分-基础篇"><a href="#第一部分-基础篇" class="headerlink" title="第一部分 基础篇"></a>第一部分 基础篇</h1><h2 id="第5章-常用函数"><a href="#第5章-常用函数" class="headerlink" title="第5章 常用函数"></a>第5章 常用函数</h2><h3 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h3><p>常用字符串函数<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">CONCAT</span><span class="params">(S1,S2...Sn)</span></span></div><div class="line"><span class="function"><span class="title">INSERT</span><span class="params">(str,x,y,instr)</span></span></div><div class="line"><span class="function"><span class="title">LOWER</span><span class="params">(str)</span></span></div><div class="line"><span class="function"><span class="title">UPPER</span><span class="params">(str)</span></span></div><div class="line"><span class="function"><span class="title">LEFT</span><span class="params">(str,x)</span></span></div><div class="line"><span class="function"><span class="title">RIGHT</span><span class="params">(str,x)</span></span></div><div class="line"><span class="function"><span class="title">LPAD</span><span class="params">(str,n,pad)</span></span></div><div class="line"><span class="function"><span class="title">RPAD</span><span class="params">(str,n,pad)</span></span></div><div class="line"><span class="function"><span class="title">LTRIM</span><span class="params">(str)</span></span></div><div class="line"><span class="function"><span class="title">RTRIM</span><span class="params">(str)</span></span></div><div class="line"><span class="function"><span class="title">REPEAT</span><span class="params">(str,x)</span></span></div><div class="line"><span class="function"><span class="title">REPLACE</span><span class="params">(str,a,b)</span></span></div><div class="line"><span class="function"><span class="title">STRCMP</span><span class="params">(s1,s2)</span></span></div><div class="line"><span class="function"><span class="title">TRIM</span><span class="params">(str)</span></span></div><div class="line"><span class="function"><span class="title">SUBSTRING</span><span class="params">(str,x,y)</span></span></div></pre></td></tr></table></figure></p><h3 id="数字函数"><a href="#数字函数" class="headerlink" title="数字函数"></a>数字函数</h3><p>常用数值函数<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">ABS</span><span class="params">(x)</span></span></div><div class="line"><span class="function"><span class="title">CEIL</span><span class="params">(x)</span></span></div><div class="line"><span class="function"><span class="title">FLOOR</span><span class="params">(x)</span></span></div><div class="line"><span class="function"><span class="title">MOD</span><span class="params">(x,y)</span></span></div><div class="line"><span class="function"><span class="title">RAND</span><span class="params">()</span></span></div><div class="line"><span class="function"><span class="title">ROUND</span><span class="params">(x,y)</span></span></div><div class="line"><span class="function"><span class="title">TRUNCATE</span><span class="params">(x,y)</span></span></div></pre></td></tr></table></figure></p><h3 id="时间和日期函数"><a href="#时间和日期函数" class="headerlink" title="时间和日期函数"></a>时间和日期函数</h3><p>常用时间和日期函数</p><h3 id="流程函数"><a href="#流程函数" class="headerlink" title="流程函数"></a>流程函数</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">IF</span>(<span class="keyword">value</span>,t,f)</div><div class="line">IFNULL(value1,value2)</div><div class="line"><span class="keyword">CASE</span> WHER [value1] <span class="keyword">THEN</span> [result1]...ELES [<span class="keyword">default</span>] <span class="keyword">END</span></div><div class="line"><span class="keyword">CASE</span> [expr] WHEN [value1] <span class="keyword">THEN</span> [result1]... <span class="keyword">ELSE</span> [<span class="keyword">default</span>] <span class="keyword">END</span></div></pre></td></tr></table></figure><h3 id="其他常用函数"><a href="#其他常用函数" class="headerlink" title="其他常用函数"></a>其他常用函数</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">DATABASE</span><span class="params">()</span></span></div><div class="line"><span class="function"><span class="title">VERSION</span><span class="params">()</span></span></div><div class="line"><span class="function"><span class="title">USER</span><span class="params">()</span></span></div><div class="line"><span class="function"><span class="title">INET_ATON</span><span class="params">(IP)</span></span></div><div class="line"><span class="function"><span class="title">INET_NTOA</span><span class="params">(num)</span></span></div><div class="line"><span class="function"><span class="title">PASSWORD</span><span class="params">(str)</span></span></div><div class="line"><span class="function"><span class="title">MD5</span><span class="params">()</span></span></div></pre></td></tr></table></figure><h2 id="第6章-图形化工具的使用"><a href="#第6章-图形化工具的使用" class="headerlink" title="第6章 图形化工具的使用"></a>第6章 图形化工具的使用</h2><h3 id="Mysql-Workbench"><a href="#Mysql-Workbench" class="headerlink" title="Mysql Workbench"></a>Mysql Workbench</h3><h3 id="phpMyAdmin"><a href="#phpMyAdmin" class="headerlink" title="phpMyAdmin"></a>phpMyAdmin</h3><h3 id="navicat"><a href="#navicat" class="headerlink" title="navicat"></a>navicat</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本笔记为学习该书所记，便于复习。&lt;br&gt;包含第五、六章笔记。&lt;br&gt;常用函数与图形化工具的使用。&lt;br&gt;[TOC]&lt;/p&gt;
&lt;h1 id=&quot;第一部分-基础篇&quot;&gt;&lt;a href=&quot;#第一部分-基础篇&quot; class=&quot;headerlink&quot; title=&quot;第一部分 基础篇&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>深入浅出MySQL笔记（二）</title>
    <link href="https://chumingke.github.io//blog/2017/10/Easy-to-understand-mysql-2.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Easy-to-understand-mysql-2.html</id>
    <published>2017-10-03T09:39:08.000Z</published>
    <updated>2017-10-03T09:40:59.000Z</updated>
    
    <content type="html"><![CDATA[<p>本笔记为学习该书所记，便于复习。<br>包含第三、四章笔记。<br>数据类型与运算符<br>[TOC]</p><h1 id="第一部分-基础篇"><a href="#第一部分-基础篇" class="headerlink" title="第一部分 基础篇"></a>第一部分 基础篇</h1><h2 id="第3章-Mysql支持的数据类型"><a href="#第3章-Mysql支持的数据类型" class="headerlink" title="第3章 Mysql支持的数据类型"></a>第3章 Mysql支持的数据类型</h2><h3 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h3><h4 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h4><p>zerofill<br>UNSIGNED<br>AUTO_INCREMENT</p><h4 id="浮点数类型"><a href="#浮点数类型" class="headerlink" title="浮点数类型"></a>浮点数类型</h4><h4 id="定点数类型"><a href="#定点数类型" class="headerlink" title="定点数类型"></a>定点数类型</h4><p>DECIMAL(M,D)<br>SHOW WARNINGSL;</p><h4 id="位类型"><a href="#位类型" class="headerlink" title="位类型"></a>位类型</h4><p>BIT(M)<br>hex()</p><h3 id="日期时间类型"><a href="#日期时间类型" class="headerlink" title="日期时间类型"></a>日期时间类型</h3><h4 id="DATA"><a href="#DATA" class="headerlink" title="DATA"></a>DATA</h4><h4 id="DATATIME"><a href="#DATATIME" class="headerlink" title="DATATIME"></a>DATATIME</h4><h4 id="TIMESTAMP"><a href="#TIMESTAMP" class="headerlink" title="TIMESTAMP"></a>TIMESTAMP</h4><h4 id="TIME"><a href="#TIME" class="headerlink" title="TIME"></a>TIME</h4><h4 id="YEAR"><a href="#YEAR" class="headerlink" title="YEAR"></a>YEAR</h4><h4 id="查看时区"><a href="#查看时区" class="headerlink" title="查看时区"></a>查看时区</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">'time_zone'</span>;</div></pre></td></tr></table></figure><h3 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h3><h4 id="CHAR和VARCHAR类"><a href="#CHAR和VARCHAR类" class="headerlink" title="CHAR和VARCHAR类"></a>CHAR和VARCHAR类</h4><p>主要区别在于存储方式不同</p><ul><li>char列长度固定为创建列表时的长度</li><li>检索时，char列删除了尾部的空格</li><li>varchar列中的值为可变长字符串</li><li>检索时，varchar则保留这些空格<br>注意length()函数的用法<h4 id="BINARY和VARBINARY类型"><a href="#BINARY和VARBINARY类型" class="headerlink" title="BINARY和VARBINARY类型"></a>BINARY和VARBINARY类型</h4>包含二进制字符串<br>不包含二进制字符串<h4 id="ENUM类型"><a href="#ENUM类型" class="headerlink" title="ENUM类型"></a>ENUM类型</h4>枚举类型<br>忽略大小写（转化为大写）<br>如果不在指定范围内，不返回警告，而是插入第一个值M<br>只允许从值集合中选取单个值，而不能一次取多个值<h4 id="SET类型"><a href="#SET类型" class="headerlink" title="SET类型"></a>SET类型</h4>与ENUM类型类似<br>主要区别是，SET一次可以选取多个成员<h2 id="第4章-Mysql中的运算符"><a href="#第4章-Mysql中的运算符" class="headerlink" title="第4章 Mysql中的运算符"></a>第4章 Mysql中的运算符</h2><h3 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h3>加、减、乘、除、模运算<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3>大、小、等于，存在、指定范围等<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3>又称布尔运算符<br>与、或、非、异或<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3></li><li>将给定的操作数转换为二进制</li><li>对各个操作数每一位进行指定的逻辑运算</li><li>得到的二进制结果转换为十进制数后就是位运算的结果<h3 id="运算符的优先级"><a href="#运算符的优先级" class="headerlink" title="运算符的优先级"></a>运算符的优先级</h3>见表</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本笔记为学习该书所记，便于复习。&lt;br&gt;包含第三、四章笔记。&lt;br&gt;数据类型与运算符&lt;br&gt;[TOC]&lt;/p&gt;
&lt;h1 id=&quot;第一部分-基础篇&quot;&gt;&lt;a href=&quot;#第一部分-基础篇&quot; class=&quot;headerlink&quot; title=&quot;第一部分 基础篇&quot;&gt;&lt;/a&gt;第一部
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>深入浅出MySQL笔记（一）</title>
    <link href="https://chumingke.github.io//blog/2017/10/Easy-to-understand-mysql.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Easy-to-understand-mysql.html</id>
    <published>2017-10-03T08:07:24.000Z</published>
    <updated>2017-10-03T08:09:22.000Z</updated>
    
    <content type="html"><![CDATA[<p>本笔记为学习该书所记，便于复习。<br>包含第一、二章笔记。</p><p>[TOC]</p><h1 id="第一部分-基础篇"><a href="#第一部分-基础篇" class="headerlink" title="第一部分 基础篇"></a>第一部分 基础篇</h1><h2 id="第1章-mysql的安装与配置"><a href="#第1章-mysql的安装与配置" class="headerlink" title="第1章 mysql的安装与配置"></a>第1章 mysql的安装与配置</h2><h3 id="MySQL的下载-："><a href="#MySQL的下载-：" class="headerlink" title="MySQL的下载 ："></a>MySQL的下载 ：</h3><p>  分为windows平台，Linux平台两种</p><h3 id="MySQL的安装"><a href="#MySQL的安装" class="headerlink" title="MySQL的安装"></a>MySQL的安装</h3><h3 id="MySQL的配置"><a href="#MySQL的配置" class="headerlink" title="MySQL的配置"></a>MySQL的配置</h3><h3 id="启动和关闭MySQL"><a href="#启动和关闭MySQL" class="headerlink" title="启动和关闭MySQL"></a>启动和关闭MySQL</h3><h2 id="第2章-SQL基础"><a href="#第2章-SQL基础" class="headerlink" title="第2章 SQL基础"></a>第2章 SQL基础</h2><h3 id="SQL简介"><a href="#SQL简介" class="headerlink" title="SQL简介"></a>SQL简介</h3><p> Structure Query Language(结构化查询语言)</p><h3 id="My-SQL使用入门"><a href="#My-SQL使用入门" class="headerlink" title="(My)SQL使用入门"></a>(My)SQL使用入门</h3><h4 id="SQL分类"><a href="#SQL分类" class="headerlink" title="SQL分类"></a>SQL分类</h4><p>DDL—(Data Definition Languages)语句—(数据定义语言)<br>DML—(Data Manipulation Language)语句—(数据操作语句)<br>DCL—(Data Control Language)语句—(数据控制语句)</p><h4 id="DDL语句"><a href="#DDL语句" class="headerlink" title="DDL语句"></a>DDL语句</h4><h5 id="1-创建数据库"><a href="#1-创建数据库" class="headerlink" title="1 创建数据库"></a>1 创建数据库</h5><p>1.1 连接到mysql服务器<br>在安装好Mysql后，要创建数据库，首先要连接到MySQL服务器。<br>在MAC中打开终端，输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql -u root -p</div></pre></td></tr></table></figure></p><p>然后输入密码，即可连接。<br>这时候会显示一些信息。包括:<br>    命令结束符”;”或者”\g”<br>    客户链接ID，记录了到目前为止的连接次数<br>    版本<br>    显示帮助</p><p>1.2 建库<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> dbname;</div></pre></td></tr></table></figure></p><p>1.3查看数据库<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</div></pre></td></tr></table></figure></p><p>1.4 选择数据库<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">USE</span> dbname</div></pre></td></tr></table></figure></p><p>1.5 查看数据库中的表<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</div></pre></td></tr></table></figure></p><p>必须先选择数据库后才能看表。</p><h5 id="2-删除数据库"><a href="#2-删除数据库" class="headerlink" title="2 删除数据库"></a>2 删除数据库</h5><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">drop</span> <span class="keyword">database</span> dbname;</div></pre></td></tr></table></figure><h5 id="3-创建表"><a href="#3-创建表" class="headerlink" title="3 创建表"></a>3 创建表</h5><p>3.1 建表<br>语法<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tablename(</div><div class="line">column_name_1 column_type_1 <span class="keyword">constraints</span>,</div><div class="line">column_name_n column_type_n <span class="keyword">constraints</span>);</div></pre></td></tr></table></figure></p><p>案例<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</div><div class="line">ename varchars(<span class="number">10</span>),</div><div class="line">hiredate <span class="built_in">date</span>,</div><div class="line">sal <span class="built_in">decimal</span>(<span class="number">10</span>,<span class="number">2</span>),</div><div class="line">deptno <span class="built_in">int</span>(<span class="number">2</span>)</div><div class="line">);</div></pre></td></tr></table></figure></p><p>3.2 查看表定义<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">DESC tablename</span></div></pre></td></tr></table></figure></p><p>3.3 查看创建表的SQL语句<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> emp \G;</div></pre></td></tr></table></figure></p><h5 id="4-删除表"><a href="#4-删除表" class="headerlink" title="4 删除表"></a>4 删除表</h5><figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DROP <span class="keyword">TABLE</span> tablename</div></pre></td></tr></table></figure><h5 id="5-修改表"><a href="#5-修改表" class="headerlink" title="5 修改表"></a>5 修改表</h5><p>5.1 修改表类型<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tablename <span class="keyword">MODIFY</span> [<span class="keyword">COLUMN</span>] column_definition [<span class="keyword">FIRST</span>|<span class="keyword">AFTER</span> col_name]</div></pre></td></tr></table></figure></p><p>例子<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">modify</span> ename <span class="built_in">varchar</span>(<span class="number">20</span>);</div></pre></td></tr></table></figure></p><p>5.2 增加表字段<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span>  tablename <span class="keyword">ADD</span> [<span class="keyword">COLUMN</span>] column_definition [<span class="keyword">FIRST</span>|<span class="keyword">AFTER</span> col_name]</div></pre></td></tr></table></figure></p><p>例子<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">add</span> <span class="keyword">column</span> age <span class="built_in">int</span>(<span class="number">3</span>);</div></pre></td></tr></table></figure></p><p>5.3 删除表字段<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tablename <span class="keyword">Drop</span> [<span class="keyword">COLUMN</span>] col_name</div></pre></td></tr></table></figure></p><p>例子<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">drop</span> <span class="keyword">column</span> age;</div></pre></td></tr></table></figure></p><p>5.4 字段改名<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tablename <span class="keyword">CHANGE</span> [<span class="keyword">COLUMN</span>] old_col_name column_definition [<span class="keyword">FIRST</span>|<span class="keyword">AFTER</span> col_name]</div></pre></td></tr></table></figure></p><p>例子<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">change</span> age age1 <span class="built_in">int</span>(<span class="number">4</span>)</div></pre></td></tr></table></figure></p><blockquote><p>注意，change和modify都可以修改表定义，不同的是change修改表名，所以需要写两次表名，modify不能修改表名。</p></blockquote><p>5.5 修改字段排列顺序<br>ADD/CHANGE/MODIFY都有可选项<strong>first|after column</strong>。<br>ADD增加的新字段默认加在最后位置。<br>用FIRST可以放在最前面<br>例如<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">modify</span> age <span class="built_in">int</span>(<span class="number">3</span>) <span class="keyword">first</span>;</div></pre></td></tr></table></figure></p><p>用after放在某个字段之后<br>例如<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">add</span> birth <span class="keyword">data</span> <span class="keyword">after</span> ename;</div></pre></td></tr></table></figure></p><blockquote><p>CHANGE/FIRST|AFTER COLUMN 这些关键字都属于Mysql在标准SQL上的扩展，其他数据库不一定适用。</p></blockquote><p>5.6 更改表名<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tablename <span class="keyword">RENAME</span>[<span class="keyword">TO</span>] new_tablename</div></pre></td></tr></table></figure></p><p>例子<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">rename</span> emp1;</div></pre></td></tr></table></figure></p><h4 id="DML语句"><a href="#DML语句" class="headerlink" title="DML语句"></a>DML语句</h4><h5 id="1插入记录"><a href="#1插入记录" class="headerlink" title="1插入记录"></a>1插入记录</h5><p>insert<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">INSERT INTO tablename(<span class="name">field1</span>,field2..) VALUES(<span class="name">value1</span>,value2..)</div></pre></td></tr></table></figure></p><p>也可以不指定字段名<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp</div><div class="line"><span class="keyword">values</span>(<span class="string">'lisa'</span>,<span class="string">'2003-03-03'</span>,<span class="string">'3000'</span>,<span class="number">2</span>);</div></pre></td></tr></table></figure></p><p>一次性插入多条记录<br><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">INSERT INTO tablename (field<span class="number">1</span>,field<span class="number">2</span>..)</div><div class="line">VALUES</div><div class="line">(record<span class="number">1_</span><span class="keyword">value</span><span class="number">1</span>,record<span class="number">1_</span><span class="keyword">value</span><span class="number">2</span>...record<span class="number">1_</span>valuen),</div><div class="line">...</div><div class="line">(recordn<span class="number">_</span><span class="keyword">value</span><span class="number">1</span>,recordn<span class="number">_</span><span class="keyword">value</span><span class="number">2</span>...recordn<span class="number">_</span>valuen)</div><div class="line">;</div></pre></td></tr></table></figure></p><h5 id="2更新记录"><a href="#2更新记录" class="headerlink" title="2更新记录"></a>2更新记录</h5><p>update<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">UPDATE</span> tablename <span class="keyword">SET</span> field1=<span class="keyword">values</span>,field2=value2..fieldn=valuen[<span class="keyword">WHERE</span> CONDITION]</div></pre></td></tr></table></figure></p><p>可以同时更新多个表中的数据<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UPDATE t1,t2<span class="built_in">..</span>tn <span class="builtin-name">SET</span> t1.<span class="attribute">field1</span>=expr1...tn.fieldn=exprn [WHERE CONDITION]</div></pre></td></tr></table></figure></p><p>例子<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">update emp a,dept b <span class="builtin-name">set</span> a.<span class="attribute">sal</span>=a.sal*b.deptno,b.deptname=a.ename</div><div class="line">where a.<span class="attribute">deptno</span>=b.deptno;</div></pre></td></tr></table></figure></p><blockquote><p>注意，多表更新的语法更多地用在了根据一个表的字段来动态地更新另外一个表的字段</p><h5 id="3删除记录"><a href="#3删除记录" class="headerlink" title="3删除记录"></a>3删除记录</h5><p>delete<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> tablename [<span class="keyword">WHERE</span> CONDITION]</div></pre></td></tr></table></figure></p></blockquote><p>例子<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename=<span class="string">'dony'</span>;</div></pre></td></tr></table></figure></p><p>一次删除多个表的记录<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DELETE <span class="built_in">t1</span>,<span class="built_in">t2</span>...tn FROM <span class="built_in">t1</span>,<span class="built_in">t2</span>...tn [WHERE CONDITION]</div></pre></td></tr></table></figure></p><p>如果from后面的表名用别名，则delete后面也要用相应的别名。<br>例子<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">delete a,b <span class="keyword">from</span> emp a,dept b where a.<span class="attribute">deptno</span>=b.deptno <span class="keyword">and</span> a.<span class="attribute">deptno</span>=3;</div></pre></td></tr></table></figure></p><p>不管单表还是多表，不加where条件将会把所有表的所有记录删除，因此操作小心。</p><h5 id="4-查询记录"><a href="#4-查询记录" class="headerlink" title="4 查询记录"></a>4 查询记录</h5><p>4.1 select<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> tablename [<span class="keyword">WHERE</span> CONDITION]</div></pre></td></tr></table></figure></p><p>4.2 查询不重复的记录<br>distinct<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> deptno <span class="keyword">from</span> emp;</div></pre></td></tr></table></figure></p><p>4.3 条件查询<br>where<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno=<span class="number">1</span>;</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno=<span class="number">1</span> <span class="keyword">and</span> sal&lt;<span class="number">3000</span>;</div></pre></td></tr></table></figure></p><p>4.4 排序和限制<br>排序order by<br>DESC降序ASC升序<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> tablename [<span class="keyword">WHERE</span> CONDITION] [<span class="keyword">ORDER</span> <span class="keyword">BY</span> field1 [DES|<span class="keyword">ASC</span>]...fieldn[<span class="keyword">DESC</span>|<span class="keyword">ASC</span>]]</div></pre></td></tr></table></figure></p><p>限制limit<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">SELECT...[LIMIT offset_start,row_count]</div><div class="line">##其中offset_start表示记录的起始偏移量，row_count表示显示的行数</div></pre></td></tr></table></figure></p><p>例子<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp oeder <span class="keyword">by</span> sal <span class="keyword">limit</span> <span class="number">1</span>,<span class="number">3</span>;</div><div class="line">输出排序后从第二条记录开始的3条记录</div></pre></td></tr></table></figure></p><blockquote><p>limit经常和order by一起配合使用来进行记录的分页显示<br>limit属于Mysql扩展sql92后的语法，在其他数据库上并不能通用</p></blockquote><p>4.5 聚合<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">SELECT [field1,field2<span class="built_in">..</span>.fieldn] fun_name   ##fun_name表示聚合函数</div><div class="line"><span class="keyword">FROM</span> tablename</div><div class="line">[WHERE where_contition]</div><div class="line">GROUP BY field1,field2<span class="built_in">..</span>.fieldn     ##GROUP BY后是待聚合字段</div><div class="line">[WITH ROLLUP]     ##可选，表示对聚合后结果进行再汇总</div><div class="line">[HAVING where_condition]   #表示对结果再进行条件过滤</div></pre></td></tr></table></figure></p><blockquote><p>注意，having和where的区别在于，where在聚合前对记录进行过滤，having是对聚合后的结果进行条件过滤。<br>尽可能先用where先过滤记录，这样结果集减小，对聚合效率大大提高<br>例子<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select deptno,count(1) <span class="keyword">from</span> emp<span class="built_in"> group </span>by deptno with rollup</div><div class="line"><span class="comment">##统计各部门人数后汇总统计总人数</span></div></pre></td></tr></table></figure></p></blockquote><p>4.6 表连接<br>内连接<br>关键字<br>where…=…<br>from…inner join…on<br>from…left join…on<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> ename,deptname <span class="keyword">from</span> emp,dept <span class="keyword">where</span> emp.deptno=dept.deptno;</div><div class="line"><span class="keyword">select</span> field1...fieldn <span class="keyword">from</span> tablename <span class="keyword">inner</span> <span class="keyword">join</span> <span class="keyword">table</span> <span class="keyword">on</span> join_condition;</div></pre></td></tr></table></figure></p><p>外连接<br>左连接<br>查询emp中所有用户名和所在部门名称<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> ename,deptname <span class="keyword">from</span> emp <span class="keyword">left</span> <span class="keyword">join</span> dept <span class="keyword">on</span> emp.deptno=dept.deptno;</div></pre></td></tr></table></figure></p><p>右连接<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> ename,deptname <span class="keyword">from</span> dept <span class="keyword">right</span> <span class="keyword">join</span> emp <span class="keyword">on</span> dept.deptno=emp.deptno;</div></pre></td></tr></table></figure></p><p>4.7 子查询<br>关键字<br>in,<br>not in,<br>=,<br>!=,<br>exists,<br>not exists<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno <span class="keyword">in</span>(<span class="keyword">select</span> deptno <span class="keyword">from</span> dept);</div></pre></td></tr></table></figure></p><p>某些条件下，子查询可转化为表连接，条件的、外连接、内连接都可以使用<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> emp.* <span class="keyword">from</span> emp,dept <span class="keyword">where</span> emp.deptno=dept.deptno;</div></pre></td></tr></table></figure></p><blockquote><p>书上说表关联的效率要高于子查询，因为子查询走的是笛卡尔积。而培训班老师所子查询效率高于表连接。。。<br>表关联可能有多条记录，子查询只有一条记录，如果需要唯一的列，最好走子查询。</p></blockquote><p>4.8 记录联合<br>关键字，union,union all<br>union是将union all结果去重DISTINCT<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t1</div><div class="line"><span class="keyword">UNION</span>|<span class="keyword">UNION</span> <span class="keyword">ALL</span></div><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t2</div></pre></td></tr></table></figure></p><p>例子<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> deptno from emp</div><div class="line"><span class="class"><span class="keyword">union</span> <span class="title">all</span></span></div><div class="line"><span class="keyword">select</span> deptno from dept;</div></pre></td></tr></table></figure></p><h4 id="DCL语句"><a href="#DCL语句" class="headerlink" title="DCL语句"></a>DCL语句</h4><p>用的比较少，简单写下<br>创建一个数据库用户z1，具有对sakila数据库中所有表的SELECT/INSERT权限<br>关键词grant<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">grant</span> <span class="keyword">select</span>,<span class="keyword">insert</span> <span class="keyword">on</span> sakila.* <span class="keyword">to</span> <span class="string">'z1'</span>@<span class="string">'localhost'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'123'</span>;</div></pre></td></tr></table></figure></p><p>权限变更，需要收回z1的INSERT权限<br>关键词revoke<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">revoke</span> <span class="keyword">insert</span> <span class="keyword">on</span> sakila.* <span class="keyword">from</span> <span class="string">'z1'</span>@<span class="string">'localhost'</span>;</div></pre></td></tr></table></figure></p><h3 id="帮助的使用"><a href="#帮助的使用" class="headerlink" title="帮助的使用"></a>帮助的使用</h3><h4 id="按照层次看帮助"><a href="#按照层次看帮助" class="headerlink" title="按照层次看帮助"></a>按照层次看帮助</h4><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">?<span class="built_in">contents</span></div></pre></td></tr></table></figure><p>?+类别名称<br>例如<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">? <span class="class"><span class="keyword">data</span> types</span></div></pre></td></tr></table></figure></p><h4 id="快速查阅帮助"><a href="#快速查阅帮助" class="headerlink" title="快速查阅帮助"></a>快速查阅帮助</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">? 关键字</div></pre></td></tr></table></figure><p>例如<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">? <span class="keyword">show</span>;</div><div class="line">? <span class="keyword">create</span> <span class="keyword">table</span>;</div></pre></td></tr></table></figure></p><h4 id="常用的网络资源"><a href="#常用的网络资源" class="headerlink" title="常用的网络资源"></a>常用的网络资源</h4><p>略</p><h3 id="查询元数据信息"><a href="#查询元数据信息" class="headerlink" title="查询元数据信息"></a>查询元数据信息</h3><h4 id="information-schema数据库"><a href="#information-schema数据库" class="headerlink" title="information_schema数据库"></a>information_schema数据库</h4><p>元数据信息，数据的数据，虚拟数据库，物理上并不存在相关目录文件。库里show tables显示的表全部是视图</p><h4 id="常见场景"><a href="#常见场景" class="headerlink" title="常见场景"></a>常见场景</h4><h5 id="1删除数据库test1下所有前缀为tmp的表"><a href="#1删除数据库test1下所有前缀为tmp的表" class="headerlink" title="1删除数据库test1下所有前缀为tmp的表"></a>1删除数据库test1下所有前缀为tmp的表</h5><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">concat</span> (<span class="string">'drop table test1.,'</span>table_name,<span class="string">';'</span>) <span class="keyword">from</span> tables</div><div class="line"><span class="keyword">where</span> table_schema = <span class="string">'test1'</span> <span class="keyword">and</span> table_name like <span class="string">'tmp%'</span>;</div><div class="line">## <span class="keyword">concat</span> 将多个数组组合成新的数组</div></pre></td></tr></table></figure><h5 id="2将数据库test1下所有存储引擎为mysiam的表改为innodb"><a href="#2将数据库test1下所有存储引擎为mysiam的表改为innodb" class="headerlink" title="2将数据库test1下所有存储引擎为mysiam的表改为innodb"></a>2将数据库test1下所有存储引擎为mysiam的表改为innodb</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">concat</span> (<span class="string">'alter table test1.'</span>,table_name,<span class="string">'engine = innodb;'</span>) <span class="keyword">from</span> <span class="keyword">tables</span></div><div class="line"><span class="keyword">where</span> table_schema = <span class="string">'test1'</span> <span class="keyword">and</span> <span class="keyword">engine</span> = <span class="string">'MyISAM'</span>;</div></pre></td></tr></table></figure><h5 id="3常用视图"><a href="#3常用视图" class="headerlink" title="3常用视图"></a>3常用视图</h5><p>SCHEMATA:<br>提供了当前mysql实例中所有数据库的信息<br>show databases的结果取自此表<br>TABLES:<br>提供了关于数据库中表的信息（包括视图），详述了某个表属于哪个schema、表类型、表引擎、创建时间等信息<br>show tables from schemaname的结果取之此表<br>COLUMNS：<br>提供了表中的列信息，详述了某张表的所有列以及每个列的信息<br>show columns from schemaname.tablename的结果取自此表<br>STATISTICS：<br>该表提供了关于表索引的信息<br>show index from schemaname.tablename的结果取自此表</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本笔记为学习该书所记，便于复习。&lt;br&gt;包含第一、二章笔记。&lt;/p&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h1 id=&quot;第一部分-基础篇&quot;&gt;&lt;a href=&quot;#第一部分-基础篇&quot; class=&quot;headerlink&quot; title=&quot;第一部分 基础篇&quot;&gt;&lt;/a&gt;第一部分 基础篇&lt;/h
      
    
    </summary>
    
      <category term="mysql" scheme="https://chumingke.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://chumingke.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>如何绑定阿里云域名</title>
    <link href="https://chumingke.github.io//blog/2017/10/how-to-bind-Alibaba-Cloud-domain-name.html"/>
    <id>https://chumingke.github.io//blog/2017/10/how-to-bind-Alibaba-Cloud-domain-name.html</id>
    <published>2017-10-01T10:37:11.000Z</published>
    <updated>2017-10-01T10:40:28.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本来 应该不是很复杂的事情操作了半天，所以还是记下来吧。</p></blockquote><p>[toc]</p><h1 id="准备域名"><a href="#准备域名" class="headerlink" title="准备域名"></a>准备域名</h1><h2 id="购买域名"><a href="#购买域名" class="headerlink" title="购买域名"></a>购买域名</h2><p>首先在阿里云买一个域名，.com的域名一年55，还有1块钱的域名呢。</p><h2 id="实名认证"><a href="#实名认证" class="headerlink" title="实名认证"></a>实名认证</h2><p>买好之后，进行实名认证。这一步我用mac自带浏览器上传身份证照片无数次都失败了，最后换了chrome浏览器才成功。所以假如遇到类似情况，可以考虑换个浏览器试试。认证审核大概需要一段时间。我这边过了大概一个小时就完了。</p><h1 id="创建CNAME文件"><a href="#创建CNAME文件" class="headerlink" title="创建CNAME文件"></a>创建CNAME文件</h1><p>绑定域名网上好像有很几种方法，我们采用创建CNAME的方法</p><p>首先在博客根目录下创建一个CNAME文件。<br>注意：没有后缀，文件名一定要大写。</p><p>在该文件第一行写上你注册的域名，比如我的chumingke.com<br>注意，没有前缀，只是chumingke.com</p><p>然后将该文件同步到Github。因为我用的是Hexo，所以hexo g d就可以了。(此处我将CNAME文件放在source文件夹下，防止被覆盖)</p><blockquote><p>这个文件可以告诉Github Pages服务器你想指定的域名。因此Github读取你的CNAME之后，Github服务器会设置chumingke.com为你的主域名，然后将chumingke.github.io重定向到chumingke.com。</p></blockquote><p>此时点开repository的settings往下拉到GitHub Pages位置可以看到<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Your site <span class="keyword">is</span> <span class="keyword">published</span> at http:<span class="comment">//chumingke.com/</span></div></pre></td></tr></table></figure></p><p>证明配置成功。</p><h1 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h1><blockquote><p>这一步我研究了好久，发现很多教程都不一样。后来终于明白什么情况。主要是DNS设置的不同。<br>一种是默认使用阿里云提供的万网DNS服务器。<br>一种是使用DNSPOD提供的DNS服务器，这样可以使你的域名在国外更快速的传播。<br>我一开始一直以为是同一个东西，所以配置的时候总是有问题。这里把两种方法都写出来。</p></blockquote><h2 id="万网DNS服务器"><a href="#万网DNS服务器" class="headerlink" title="万网DNS服务器"></a>万网DNS服务器</h2><p>使用默认服务器就不用修改DNS啦，简单一些。</p><h3 id="添加域名解析"><a href="#添加域名解析" class="headerlink" title="添加域名解析"></a>添加域名解析</h3><p>首先登录阿里云，点击控制台，最左侧有个域名与网站，下拉菜单里有个域名，点击之后就可以看到我们注册的域名了。<br>这时看看域名状态是不是已经正常，或者还在审核。如果是还在审核那设置也是无效的。<br>我们等状态显示正常后。点击该域名-域名解析。<br>然后添加三条解析。<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>，设置主机记录www，记录类型为A，记录值是IP192<span class="meta">.30</span><span class="meta">.252</span><span class="meta">.153</span>。</div><div class="line">其中<span class="number">192.30</span><span class="meta">.252</span><span class="meta">.153</span>是Github Pages服务器指定的<span class="built_in">IP</span>地址，访问该<span class="built_in">IP</span>地址即表示访问Github Pages。</div><div class="line"><span class="number">2</span>，设置主机记录www，记录类型为A，记录值是IP192<span class="meta">.30</span><span class="meta">.252</span><span class="meta">.154</span>。同上。</div><div class="line"><span class="number">3</span>，设置主机记录@，记录类型为CNAME，记录值是chumingke.github.io.。表示将http://chumingke.com这个主域名映射yuanzb.github.io。</div><div class="line">注意在这里千万不要忘记记录值中.io后面还有一个点.！</div></pre></td></tr></table></figure></p><blockquote><p>这一步是告诉所有DNS服务器，对于chumingke.com的访问都会被重定向到chumingke.github.io<br>这里如果记录类型为A，后面对应的是IP地址，如果是CNAME，后面是网址。<br>很多人在这一步都会出添加失败提示已经有@或者www的记录，这个时候看好。是不是类型跟之前重复了。重复的删掉。</p></blockquote><p>添加成功后，就完成设置了，一般要等10分钟以上，再打开www.chumingke.com看看效果（这里是你自己的域名）。<br>网上有其他教程通过其他解析方式完成。原理应该是类似的。</p><h2 id="DNSPOD服务器"><a href="#DNSPOD服务器" class="headerlink" title="DNSPOD服务器"></a>DNSPOD服务器</h2><p>当你使用DNSPOD提供的DNS服务器时，除了DNS服务器不一样以外，其他的设置（比如A记录和CNAME记录）均相同。</p><h3 id="修改DNS服务器"><a href="#修改DNS服务器" class="headerlink" title="修改DNS服务器"></a>修改DNS服务器</h3><p>点击域名后进入域名控制台，在基本管理下面，左侧边栏。选择DNS修改，将两个DNS服务器地址改为<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">f1g1ns1<span class="selector-class">.dnspod</span><span class="selector-class">.net</span></div><div class="line">f1g1ns2<span class="selector-class">.dnspod</span><span class="selector-class">.net</span></div></pre></td></tr></table></figure></p><h3 id="添加记录"><a href="#添加记录" class="headerlink" title="添加记录"></a>添加记录</h3><p>注册DNSpod，然后添加域名，添加记录即可（添加记录操作同上面添加解析类似）。</p><p>修改完成后等10分钟左右，就可以检验成果啦。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;本来 应该不是很复杂的事情操作了半天，所以还是记下来吧。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;[toc]&lt;/p&gt;
&lt;h1 id=&quot;准备域名&quot;&gt;&lt;a href=&quot;#准备域名&quot; class=&quot;headerlink&quot; title=&quot;准备域名&quot;&gt;&lt;/
      
    
    </summary>
    
      <category term="前端" scheme="https://chumingke.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Alibaba Cloud" scheme="https://chumingke.github.io/tags/Alibaba-Cloud/"/>
    
      <category term="blog" scheme="https://chumingke.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>如何用Mac+github pages +hexo搭建博客</title>
    <link href="https://chumingke.github.io//blog/2017/10/Mac-github-pages-hexo.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Mac-github-pages-hexo.html</id>
    <published>2017-10-01T04:50:35.000Z</published>
    <updated>2017-10-01T04:54:09.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>实际上我是先用jekyll搭建博客的。后来发现没有找到好看的主题，看到大神用的hexo的主题，感觉很好看，所以尝试了用hexo来搭建博客，如果有需要用jekyll搭建的，可以参考<a href="https://chumingke.github.io/blog/2017/10/Mac-Github-pages-jekyll.html">如何利用Mac+Github pages+jekyll来编写博客</a>。</p></blockquote><p>[toc]</p><h1 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h1><p>安装环境：Node.js和Git。首先我们要安装这两个东西。</p><blockquote><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h2><p>直接点击<a href="https://nodejs.org/en/" target="_blank" rel="external">官网</a>下载安装。</p><h2 id="安装GIT"><a href="#安装GIT" class="headerlink" title="安装GIT"></a>安装GIT</h2><p>这个不多说了，还是github创建主页那一套，其他教程很多。</p><h2 id="安装hexo-1"><a href="#安装hexo-1" class="headerlink" title="安装hexo"></a>安装hexo</h2><h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 如遇权限问题在命令前加sudo</span></span></div><div class="line">mkdir hexo  #创建一个文件夹</div><div class="line">cd hexo</div><div class="line">npm install -g hexo-cli</div><div class="line">npm install hexo --save</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#部署Hexo：在Git shell 中输入</span></span></div><div class="line">hexo init</div></pre></td></tr></table></figure></blockquote><p>这一步网上不同教程有不同做法。因为我是fork自大神EZLippi的主题。所以上面是这么写的。实际上我是看着几个教程做的。因为在我输入npm install -g hexo-cli后hexo里面已经有文件了，输入hexo无效了。然后也试了一开始hexo init blog命令。发现直接初始化的时候东西都安装好了。不过我理解大概意思是，首先建一个文件夹可以放hexo的配置文件。然后初始化，然后安装配置文件就可以了。</p><p>新建完成后，blog文件夹的目录如下:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">_config<span class="selector-class">.yml</span>    <span class="comment">// 站点的配置信息</span></div><div class="line">package<span class="selector-class">.json</span>   <span class="comment">// 应用程序的信息</span></div><div class="line">scanffolds     <span class="comment">// 模板文件夹</span></div><div class="line">source         <span class="comment">// 存放用户资源的文件夹</span></div><div class="line">themes         <span class="comment">// 主题文件夹，Hexo会根据主题生成静态页面</span></div></pre></td></tr></table></figure></p><p>这个时候基本上就安装好啦。</p><h3 id="安装Hexo-插件"><a href="#安装Hexo-插件" class="headerlink" title="安装Hexo 插件"></a>安装Hexo 插件</h3><p>自动生成sitemap,Rss，部署到git等，建议安装<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> hexo-generator-<span class="keyword">index</span> <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-generator-<span class="keyword">archive</span> <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-generator-<span class="keyword">category</span> <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-generator-tag <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-<span class="keyword">server</span> <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-deployer-heroku <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-deployer-rsync <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-deployer-openshift <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-renderer-marked@<span class="number">0.2</span> <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-renderer-stylus@<span class="number">0.2</span> <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-generator-feed@<span class="number">1</span> <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-generator-sitemap@<span class="number">1</span> <span class="comment">--save</span></div></pre></td></tr></table></figure></p><h2 id="本地浏览"><a href="#本地浏览" class="headerlink" title="本地浏览"></a>本地浏览</h2><p>启动本地服务器：<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo <span class="keyword">server</span></div></pre></td></tr></table></figure></p><p>此时打开网址<a href="http://localhost:4000，正常来讲就可以看到地平线的那个主题了。我这边没有出现，可能是之前设置的jekyll的原因？不过这边暂时不用所以不影响。" target="_blank" rel="external">http://localhost:4000，正常来讲就可以看到地平线的那个主题了。我这边没有出现，可能是之前设置的jekyll的原因？不过这边暂时不用所以不影响。</a></p><h1 id="部署Git"><a href="#部署Git" class="headerlink" title="部署Git"></a>部署Git</h1><p>github账号这个不多说了。这里我们要有一个类似username.github.io的repository。配置好SSH。详细参考其他教程。<br>此时我们需要配置_config.yml文件。<br>终端里cd到hexo文件夹下，编辑_config.yml，滑到最底部，将deploy里的内容改为如下:<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">deploy</span>:</div><div class="line"><span class="attribute">type</span>: git</div><div class="line"><span class="attribute">repository</span>: git<span class="variable">@github</span>.<span class="attribute">com</span>:chumingke/chumingke.github.io.git(这个具体看自己Clone with SSH的地址)</div><div class="line"><span class="attribute">branch</span>: master</div></pre></td></tr></table></figure></p><h1 id="使用hexo"><a href="#使用hexo" class="headerlink" title="使用hexo"></a>使用hexo</h1><p>执行如下命令生成静态页面<br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo <span class="keyword">generate</span></div></pre></td></tr></table></figure></p><p>然后执行部署命令<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">hexo deploy</span></div></pre></td></tr></table></figure></p><p>这两个命令执行完看到Github上文件修改了。等大概不到一分钟打开<a href="https://username.github.io/（你自己起的名字）就可以看到主页啦。" target="_blank" rel="external">https://username.github.io/（你自己起的名字）就可以看到主页啦。</a></p><p>实际上这两个命令是每次提交都要用的。后面会提到。</p><h1 id="安装NexT主题"><a href="#安装NexT主题" class="headerlink" title="安装NexT主题"></a>安装NexT主题</h1><p>这里安装的是NexT主题，详细请参考<a href="http://theme-next.iissnan.com" target="_blank" rel="external">NexT使用文档</a>。<br>下载主题：<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> hexo目录</div><div class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/iissnan/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></div></pre></td></tr></table></figure></p><p>你会发现在themes文件夹中多了一个next文件夹。这就是我们下载的主题。</p><h1 id="修改-config-yml中配置信息"><a href="#修改-config-yml中配置信息" class="headerlink" title="修改_config.yml中配置信息"></a>修改_config.yml中配置信息</h1><blockquote><p>需要注意的是，hexo文件夹下会包含两个_config.yml，一个位于站点根目录下，也就是刚才创建的hexo目录下，主要包含Hexo本身的配置；另一个位于主题目录下，主要用于配置主题相关的选项。</p></blockquote><p>由于刚才我们下载了NexT主题，要是想用的话还需要修改下下_config.yml。</p><h2 id="修改站点目录下的-config-yml"><a href="#修改站点目录下的-config-yml" class="headerlink" title="修改站点目录下的_config.yml"></a>修改站点目录下的_config.yml</h2><p>编辑hexo目录下的_config.yml，找到theme字段，修改为<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">theme: <span class="keyword">next</span></div></pre></td></tr></table></figure></p><p>注意，冒号后有空格！！！<br>其他可以修改的<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># Site</span></div><div class="line"><span class="built_in">title</span>: WalkStep's Blog                   <span class="comment">// 站点标题</span></div><div class="line">subtitle:                                <span class="comment">// 站点副标题</span></div><div class="line">description: First, crawl. Then, walk!   <span class="comment">// 站点描述</span></div><div class="line">author: WalkStep                         <span class="comment">// 你的名字</span></div><div class="line">language: zh-Hans                        <span class="comment">// 站点语言</span></div><div class="line">timezone:                                <span class="comment">// 站点时区</span></div><div class="line">avatar: /uploads/avatar.png              <span class="comment">// 头像</span></div><div class="line"><span class="meta">##等等其他不一一赘述</span></div></pre></td></tr></table></figure></p><h2 id="修改主题目录下的-config-yml"><a href="#修改主题目录下的-config-yml" class="headerlink" title="修改主题目录下的_config.yml"></a>修改主题目录下的_config.yml</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">  home: /</div><div class="line">  categories: /categories</div><div class="line">  about: /about</div><div class="line">  archives: /archives</div><div class="line">  tags: /tags</div><div class="line"><span class="meta">  #</span><span class="bash">commonweal: /404.html</span></div><div class="line"><span class="meta">  #</span><span class="bash"><span class="comment"># 等等不一一赘述</span></span></div><div class="line"><span class="meta">  #</span><span class="bash"><span class="comment"># menu用来设置菜单，我这个地方设置了5个菜单选项，分别是首页、       </span></span></div><div class="line"><span class="meta">  #</span><span class="bash"><span class="comment"># 分类、关于、归档和标签，不让显示的菜单选项可以用#注释掉</span></span></div></pre></td></tr></table></figure><p>这个位置也有很多选项，其中比如常用的要设置tags，categories等一定要在这里配置好，不然后面显示不出来的。</p><h1 id="其他配置项"><a href="#其他配置项" class="headerlink" title="其他配置项"></a>其他配置项</h1><h2 id="添加标签tags页面"><a href="#添加标签tags页面" class="headerlink" title="添加标签tags页面"></a>添加标签tags页面</h2><p>定位到 Hexo 站点目录下，使用 hexo new page 新建一个页面，命名为 tags，布局格式为page：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd hexo目录</div><div class="line">hexo new<span class="built_in"> page </span>tags</div></pre></td></tr></table></figure></p><p>这时会在source文件夹下建一个tags文件夹。修改里面的index.md<br>修改为：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="attr">title:</span> <span class="string">标签</span>            <span class="comment">##这个位置我试了好像中英文都可以</span></div><div class="line"><span class="attr">date:</span> <span class="number">2014</span><span class="bullet">-12</span><span class="bullet">-22</span> <span class="number">12</span><span class="string">:39:04</span></div><div class="line"><span class="attr">type:</span> <span class="string">"tags"</span></div><div class="line"><span class="attr">comments:</span> <span class="literal">false</span>       </div><div class="line"><span class="comment">##如果要关闭tags页面的评论可以设置comments为false，因为如果设置多说评论的话会在每个页面都设置评论，所以需要关闭。</span></div><div class="line"><span class="meta">---</span></div></pre></td></tr></table></figure></p><p>这样以后tags页面在每次执行hexo generate后自动更新。</p><h2 id="添加分类categories页面"><a href="#添加分类categories页面" class="headerlink" title="添加分类categories页面"></a>添加分类categories页面</h2><p>跟上面标签一样，执行<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new<span class="built_in"> page </span>categories</div></pre></td></tr></table></figure></p><p>内容为：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="attr">title:</span> <span class="string">分类</span></div><div class="line"><span class="attr">date:</span> <span class="number">2014</span><span class="bullet">-12</span><span class="bullet">-22</span> <span class="number">12</span><span class="string">:39:04</span></div><div class="line"><span class="attr">type:</span> <span class="string">"categories"</span></div><div class="line"><span class="attr">comments:</span> <span class="literal">false</span></div><div class="line"><span class="meta">---</span></div></pre></td></tr></table></figure></p><h2 id="修改post"><a href="#修改post" class="headerlink" title="修改post"></a>修改post</h2><blockquote><p>之前我们添加了tags，categories。但是这时候即便我们写好博客分类也不会显示tags，categories。查了半天原来post的问题。<br>因为我们创建博客用的命令是<strong>hexo new [layout] “postName”</strong>其中layout是可选项，默认不填的话是post。<br>有哪些layout呢，请到<strong>scaffolds</strong>目录下查看，这些文件名称就是layout名称。当然你可以添加自己的layout，方法就是添加一个文件即可，同时你也可以编辑现有的layout，比如post的layout默认是hexo\scaffolds\post.md<br>找到post<br>没有修改之前是这样的<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attr">title:</span> <span class="string">&#123;</span> <span class="string">&#123;</span> <span class="string">title</span> <span class="string">&#125;</span> <span class="string">&#125;</span></div><div class="line"><span class="attr">date:</span> <span class="string">&#123;</span> <span class="string">&#123;</span> <span class="string">date</span> <span class="string">&#125;</span> <span class="string">&#125;</span></div><div class="line"><span class="attr">tags:</span></div><div class="line"><span class="meta">---</span></div></pre></td></tr></table></figure></p></blockquote><p>修改为<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">---</span></div><div class="line"><span class="attr">title:</span> <span class="string">&#123;&#123;</span> <span class="string">title</span> <span class="string">&#125;&#125;</span></div><div class="line"><span class="attr">date:</span> <span class="string">&#123;&#123;</span> <span class="string">date</span> <span class="string">&#125;&#125;</span></div><div class="line"><span class="attr">categories:</span> <span class="string">&#123;&#123;</span> <span class="string">categories</span> <span class="string">&#125;&#125;</span></div><div class="line"><span class="attr">tags:</span> <span class="string">&#123;&#123;</span> <span class="string">tags</span> <span class="string">&#125;&#125;</span></div><div class="line"><span class="meta">---</span></div></pre></td></tr></table></figure></p><p>如果还设置了其他的页面，同样添加进去。</p><blockquote><p><strong>这里再严肃提醒，注意冒号及大括号中的空格！！！</strong></p><h2 id="添加404页面"><a href="#添加404页面" class="headerlink" title="添加404页面"></a>添加404页面</h2><p>新建一个404.html文件，放到themes\next\source目录下，内容自己定。</p></blockquote><p>还有很多其他功能，下次有空添加~~</p><h1 id="创建博客"><a href="#创建博客" class="headerlink" title="创建博客"></a>创建博客</h1><h2 id="写文章"><a href="#写文章" class="headerlink" title="写文章"></a>写文章</h2><p>执行new命令，生成指定名称的文章至hexo\source_posts\postName.md。<br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo <span class="keyword">new</span> <span class="type"></span>[layout] <span class="string">"postName"</span> <span class="meta">#新建文章</span></div></pre></td></tr></table></figure></p><p>layout的问题前面提到过。<br>这个时候一个新文件被创建好了，进去编辑一下标签。格式类似<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">---</span></div><div class="line"><span class="attr">title:</span> <span class="string">如何利用Mac+Github</span> <span class="string">pages+jekyll来搭建博客</span></div><div class="line"><span class="attr">date:</span> <span class="number">2017</span><span class="bullet">-10</span><span class="bullet">-01</span> <span class="number">04</span><span class="string">:38:04</span></div><div class="line"><span class="attr">categories:</span> <span class="string">[jekyll]</span></div><div class="line"><span class="attr">tags:</span> <span class="string">[jekyll]</span></div><div class="line"><span class="meta">---</span></div></pre></td></tr></table></figure></p><p>然后可以在下面写博文啦。我是用csdn在线编辑好，然后复制到文件里面。这样本地文件就编辑好啦。</p><h2 id="发布文章"><a href="#发布文章" class="headerlink" title="发布文章"></a>发布文章</h2><p>在终端里依次执行：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo clean  ##清除缓存文件(db.json)和已生成的静态文件 (public)</div><div class="line">hexo generate      ## 生成静态文件，可以简写hexo g</div><div class="line">hexo deploy        ## 部署网点，可以简写hexo d</div></pre></td></tr></table></figure></p><p>如果想现在本地看看效果，执行<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo s    ## 启动本地服务器</div></pre></td></tr></table></figure></p><p>打开网址<a href="http://localhost:4000，你就可以看到你写的文章了" target="_blank" rel="external">http://localhost:4000，你就可以看到你写的文章了</a></p><p>然后等一会打开<a href="https://username.github.io/（你自己起的名字）就可以看到上传后的博客啦。" target="_blank" rel="external">https://username.github.io/（你自己起的名字）就可以看到上传后的博客啦。</a></p><hr><p>其他文章：<br><a href="https://chumingke.github.io/blog/2017/10/Mac-Github-pages-jekyll.html">如何利用Mac+Github pages+jekyll来编写博客</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;实际上我是先用jekyll搭建博客的。后来发现没有找到好看的主题，看到大神用的hexo的主题，感觉很好看，所以尝试了用hexo来搭建博客，如果有需要用jekyll搭建的，可以参考&lt;a href=&quot;https://chumingke.github.i
      
    
    </summary>
    
      <category term="hexo" scheme="https://chumingke.github.io/categories/hexo/"/>
    
    
      <category term="hexo" scheme="https://chumingke.github.io/tags/hexo/"/>
    
      <category term="github" scheme="https://chumingke.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>如何利用Mac+Github pages+jekyll来搭建博客</title>
    <link href="https://chumingke.github.io//blog/2017/10/Mac-Github-pages-jekyll.html"/>
    <id>https://chumingke.github.io//blog/2017/10/Mac-Github-pages-jekyll.html</id>
    <published>2017-09-30T20:38:04.000Z</published>
    <updated>2017-10-01T02:51:49.000Z</updated>
    
    <content type="html"><![CDATA[<p>在网上查看了很多步骤，汇总一个笔记，有一些疏漏，之后有机会补充。实际上当我写完这个博客后，又去用hexo来编写博客了。所以有需要请看hexo的教程。</p><h1 id="第一部分-Github准备"><a href="#第一部分-Github准备" class="headerlink" title="第一部分 Github准备"></a>第一部分 Github准备</h1><ul><li>Mac 我用的是air</li><li>Github</li><li>jekyll</li><li>MarkDown</li></ul><p>1.首先去Github官网注册账号。<br>2.然后下载GIT。<br>3.然后配置SSH。<br>此时本地git已经成功与Github链接。<br>详细配置链接等请搜索其他教程。有很多教程，此处略过。</p><h1 id="第二部分-jekyll准备"><a href="#第二部分-jekyll准备" class="headerlink" title="第二部分 jekyll准备"></a>第二部分 jekyll准备</h1><p>首先大概说下<br>安装jekyll需要的环境支持有Ruby，Gem（Gem是Ruby第三方插件管理器）。这两个东西都是Mac自带的。<br>但是如果Ruby、gem版本太低。就无法正常安装。更新这两个东西需要链接到ruby的源地址。但是由于墙的原因下载会很慢甚至失败。解决办法是更改到淘宝的源地址。<br>因此我们的操作顺序是先更改源地址，再更新版本，再下载jekyll。</p><p>首先试一下安装jekyll。<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gem <span class="keyword">install</span> jekyll</div></pre></td></tr></table></figure></p><p>如果遇到权限问题，则输入以下命令。<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gem <span class="keyword">install</span> jekyll</div></pre></td></tr></table></figure></p><p>如果成功可以略过更新等操作。如果失败请继续。</p><h2 id="更新源地址"><a href="#更新源地址" class="headerlink" title="更新源地址"></a>更新源地址</h2><p>在此之前我们先检查一下版本。如果版本是最新的，那就可以略过下面的操作直接下载jekyll。下面的操作根据需求查看。</p><p>输入以下命令检查gem,ruby版本。<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">gem -v</span></div><div class="line"><span class="attribute">ruby -v</span></div></pre></td></tr></table></figure></p><blockquote><p>写本笔记的时候，gem最新版本为2.6.13，ruby最新版本为2.4。<br>如果版本较低，则需要更新版本。<br>更新版本前我们需要更改以下更新的源。因为墙的原因，如果不更新源下载速度会非常慢甚至失败。（也可以选择翻墙试试）</p></blockquote><p>我们用以下命令将源更改为淘宝源。<br>先检查源地址<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">gem sources -l</span></div></pre></td></tr></table></figure></p><p>然后移除源地址。(加上sudo是为了避免权限问题，也可以直接输命令。如果失败再加上sudo，后面如果有类似问题按同样方法，这里不再赘述)<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gem sources --<span class="built_in">remove</span> http:<span class="comment">//rubygems.org/</span></div></pre></td></tr></table></figure></p><p>添加新地址<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gem sources -<span class="selector-tag">a</span> https:<span class="comment">//gems.ruby-china.org/</span></div></pre></td></tr></table></figure></p><blockquote><p>其中淘宝源的地址更改过。所以如果在网上查过类似问题，看到的地址可能是别的。2017年9月的最新地址为<a href="https://gems.ruby-china.org/。可以访问RubyGems" target="_blank" rel="external">https://gems.ruby-china.org/。可以访问RubyGems</a> 镜像网站<a href="https://ruby.taobao.org来查看最新地址。" target="_blank" rel="external">https://ruby.taobao.org来查看最新地址。</a></p></blockquote><p>此时输入命令检查源地址。如果为<a href="https://gems.ruby-china.org/代表修改成功，可以更新ruby和gem啦。" target="_blank" rel="external">https://gems.ruby-china.org/代表修改成功，可以更新ruby和gem啦。</a></p><h2 id="更新gem-ruby"><a href="#更新gem-ruby" class="headerlink" title="更新gem, ruby"></a>更新gem, ruby</h2><p>输入以下命令更新gem<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 更新Gem(提示权限)</span></span></div><div class="line">gem update --system</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 检查gem版本</span></span></div><div class="line">gem -v</div></pre></td></tr></table></figure></p><p>此时gem应该更新好了。<br>然后来更新ruby，ruby的更新网上有几种方法。我采用的是先安装rvm，再更新ruby，这样比较方便容易成功。</p><blockquote><p>rvm是Ruby的版本管理器<br>为什么要安装rvm呢，因为rvm可以让你拥有多个版本的Ruby，并且可以在多个版本之间自由切换。</p></blockquote><p>第一步安装rvm<br>输入以下命令<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">curl -L get.rvm.io | bash -s stable</div><div class="line"><span class="keyword">source</span> ~<span class="regexp">/.rvm/</span>scripts<span class="regexp">/rvm</span></div></pre></td></tr></table></figure></p><p>加载完毕后输入<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">rvm -v</span></div></pre></td></tr></table></figure></p><p>如果能显示版本说明安装成功。</p><p>第二步安装ruby<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#列出ruby可安装的版本信息</span></span></div><div class="line"> rvm list known</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#安装一个ruby版本</span></span></div><div class="line"> rvm install 2.4.1</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#如果想设置为默认版本，可以用这条命令来完成</span></span></div><div class="line"> rvm use 2.4.1 --default</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#查看已安装的ruby</span></span></div><div class="line"> rvm list</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#卸载一个已安装ruby版本</span></span></div><div class="line"> rvm remove 2.1.4</div></pre></td></tr></table></figure></p><p> 此时，ruby跟gem应该都更新好啦，可以安装jekyll了<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#安装</span></span></div><div class="line">sudo gem install jekyll</div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#检查版本</span></span></div><div class="line">jekyll -v</div></pre></td></tr></table></figure></p><p>能显示版本，就说明安装成功了。</p><h1 id="第三部分-使用jekyll"><a href="#第三部分-使用jekyll" class="headerlink" title="第三部分 使用jekyll"></a>第三部分 使用jekyll</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#使用Jekyll创建你的博客站点</span></span></div><div class="line">jekyll new blog</div></pre></td></tr></table></figure><p>此时会在用户文件夹下创建一个blog文件夹。这个就是用jekyll创建的博客文件夹了。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#开启Jekyll服务</span></span></div><div class="line"><span class="meta">#</span><span class="bash"><span class="comment">#进入blog目录,记得一定要进入创建的目录，否则服务无法开启</span></span></div><div class="line">cd blog</div><div class="line">jekyll serve</div></pre></td></tr></table></figure></p><p>上面两个命令是为了开启本地服务，jekyll服务默认端口是4000，开启服务后打开浏览器，输入：<a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a> 即可访问。<br>这个页面就是jekyll自动创建的博客页面。<br>可以选择自己写一套，也可以去网站<a href="http://jekyllthemes.org下载一套主题。" target="_blank" rel="external">http://jekyllthemes.org下载一套主题。</a></p><h1 id="第四部分-使用github-pages建立博客"><a href="#第四部分-使用github-pages建立博客" class="headerlink" title="第四部分 使用github pages建立博客"></a>第四部分 使用github pages建立博客</h1><p>基本有两种方法，一种是你的GitHub用户名建立的username.github.io这样的用户&amp;组织页（站），另一种是依附项目的pages。<br>想建立个人博客是用的第一种，形如beiyuu.github.io这样的可访问的站，每个用户名下面只能建立一个。<br>因此我们选择第一种。</p><p>建立一个新的repository，名字的位置填写为<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">usename<span class="selector-class">.github</span><span class="selector-class">.io</span></div></pre></td></tr></table></figure></p><p>（usename替换为自己的用户名）<br>然后进入Settings，拉到下面github pages，点击choose a theme，进去随便选一个模板，点击绿色的select theme。然后就自动生成两个文件。将该项目clone到本地。<br>cd 到仓库目录下执行<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">jekyll serve -B</span></div></pre></td></tr></table></figure></p><p>启动服务后，打开<a href="http://localhost:4000应该跟https://username.com/username.github.io/" target="_blank" rel="external">http://localhost:4000应该跟https://username.com/username.github.io/</a> 访问的应该是一模一样的。启动前确保其他目录下没有jekyll服务<br>通过ps aux|grep jekyll查看进程<br>有的话,用kill -9 进程号 杀掉其他进程。</p><p>这个位置我发现杀不掉其他进程，不清楚为什么，进程号一直在变。。。因为这个操作是为了可以在本地端网页查看编写效果，所以暂时不影响，略过。。。</p><p>然后将之前我们建的blog中的文件替换掉仓库中的文件。<br>到了这里其实就可以修改仓库中相应文件了，比如更换主题之类的。然后上传到Github。<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git status                             <span class="comment">#查看仓库状态</span></div><div class="line">git <span class="keyword">add</span><span class="bash"> --all                          <span class="comment">#添加到暂存区 </span></span></div><div class="line"><span class="bash">git commit -m <span class="string">"提交jekyll默认页面"</span>       <span class="comment">#提交到本地仓库</span></span></div><div class="line"><span class="bash">git push origin master       <span class="comment">#线上的站点是部署在master下面的</span></span></div></pre></td></tr></table></figure></p><blockquote><p>注意，在提交前，请确保_config.yml文件里面下面是这样配置的，因为这个是Github Pages的规定，如果选择了其他的模式，会立即收到编译警告的邮件提醒的。<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">highlighter:</span> rouge</div><div class="line"><span class="symbol">markdown:</span> kramdown</div></pre></td></tr></table></figure></p></blockquote><p>等待大概1-2分钟之后，再次刷新username.github.io，就能看到我们的blog了。</p><h1 id="第五部分-申请个人域名"><a href="#第五部分-申请个人域名" class="headerlink" title="第五部分 申请个人域名"></a>第五部分 申请个人域名</h1><p>这个网上教程也不少，就不多说了。</p><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>以上就基本上完成了博客的环境配置。<br>然后查资料的时候发现有的说hexo更好，大概的区别是。hexo设置更简单，速度更快。但是必须在本机上使用，如果去一台陌生机器就要重新设置环境。而jekyll可以直接在github修改？反正各有优劣，要选择的话请查清楚~<br>这一套东西研究完之后，发现还是用CSDN写博客方便啊……<br>因为那一套搞完了，真的要写的话还需要配置各种css等前端的东西，其实我不是搞前端的……还是要加强学习呀……</p><p>后来在查找主题的时候发现，jekyll并没有发现很漂亮的主题。反而hexo很好看。所以又去试了试hexo，发现配置好像更简单写。主题也很漂亮。详细过程请看另一篇教程。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在网上查看了很多步骤，汇总一个笔记，有一些疏漏，之后有机会补充。实际上当我写完这个博客后，又去用hexo来编写博客了。所以有需要请看hexo的教程。&lt;/p&gt;
&lt;h1 id=&quot;第一部分-Github准备&quot;&gt;&lt;a href=&quot;#第一部分-Github准备&quot; class=&quot;hea
      
    
    </summary>
    
      <category term="jekyll" scheme="https://chumingke.github.io/categories/jekyll/"/>
    
    
      <category term="jekyll" scheme="https://chumingke.github.io/tags/jekyll/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://chumingke.github.io//blog/2017/10/hello-world.html"/>
    <id>https://chumingke.github.io//blog/2017/10/hello-world.html</id>
    <published>2017-09-30T18:56:01.000Z</published>
    <updated>2017-09-30T18:56:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
